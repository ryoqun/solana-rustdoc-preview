<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="The base library for all Solana on-chain Rust programs."><title>solana_program - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Bold-a2c9cd1067f8b328.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../static.files/rustdoc-ba5701c5741a7b69.css" id="mainThemeStyle"><div id="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="solana_program" data-themes="" data-resource-suffix="" data-rustdoc-version="1.71.0-nightly (1c42cb4ef 2023-04-26)" data-search-js="search-618e954b235f6acc.js" data-settings-js="settings-de11bff964e9d4e5.js" data-settings-css="settings-6f6ffb5395b17c6e.css" data-theme-light-css="light-0f8c037637f9eb3e.css" data-theme-dark-css="dark-1097f8e92a01e3cf.css" data-theme-ayu-css="ayu-614652228113ac93.css" ></div><script src="../static.files/storage-62ce34ea385b278a.js"></script><script defer src="../crates.js"></script><script defer src="../static.files/main-f0540c1d82cde29b.js"></script><noscript><link rel="stylesheet" media="(prefers-color-scheme:light)" href="../static.files/light-0f8c037637f9eb3e.css"><link rel="stylesheet" media="(prefers-color-scheme:dark)" href="../static.files/dark-1097f8e92a01e3cf.css"><link rel="stylesheet" href="../static.files/noscript-13285aec31fa243e.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="logo-container" href="../solana_program/index.html"><img class="rust-logo" src="../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2></h2></nav><nav class="sidebar"><a class="logo-container" href="../solana_program/index.html"><img class="rust-logo" src="../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2 class="location"><a href="#">Crate solana_program</a></h2><div class="sidebar-elems"><ul class="block"><li class="version">Version 1.16.0</li><li><a id="all-types" href="all.html">All Items</a></li></ul><section><ul class="block"><li><a href="#modules">Modules</a></li><li><a href="#macros">Macros</a></li><li><a href="#attributes">Attribute Macros</a></li></ul></section></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Crate <a class="mod" href="#">solana_program</a><button id="copy-path" title="Copy item path to clipboard"><img src="../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="srclink" href="../src/solana_program/lib.rs.html#1-775">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>The base library for all Solana on-chain Rust programs.</p>
<p>All Solana Rust programs that run on-chain will link to this crate, which
acts as a standard library for Solana programs. Solana programs also link to
the <a href="https://doc.rust-lang.org/stable/std/">Rust standard library</a>, though it is <a href="https://docs.solana.com/developing/on-chain-programs/developing-rust#restrictions">modified</a> for the
Solana runtime environment. While off-chain programs that interact with the
Solana network <em>can</em> link to this crate, they typically instead use the
<a href="https://docs.rs/solana-sdk/latest/solana_sdk/"><code>solana-sdk</code></a> crate, which reexports all modules from <code>solana-program</code>.</p>
<p>This library defines</p>
<ul>
<li>macros for declaring the <a href="#defining-a-solana-program">program entrypoint</a>,</li>
<li><a href="#core-data-types">core data types</a>,</li>
<li><a href="log/index.html" title="mod solana_program::log">logging</a> macros,</li>
<li><a href="#serialization">serialization</a> methods,</li>
<li>methods for <a href="#cross-program-instruction-execution">cross-program instruction execution</a>,</li>
<li>program IDs and instruction constructors for the system program and other
<a href="#native-programs">native programs</a>,</li>
<li><a href="sysvar/index.html" title="mod solana_program::sysvar">sysvar</a> accessors.</li>
</ul>
<p>Idiomatic examples of <code>solana-program</code> usage can be found in
<a href="https://github.com/solana-labs/solana-program-library">the Solana Program Library</a>.</p>
<h2 id="defining-a-solana-program"><a href="#defining-a-solana-program">Defining a solana program</a></h2>
<p>Solana program crates have some unique properties compared to typical Rust
programs:</p>
<ul>
<li>They are often compiled for both on-chain use and off-chain use. This is
primarily because off-chain clients may need access to data types
defined by the on-chain program.</li>
<li>They do not define a <code>main</code> function, but instead define their entrypoint
with the <a href="macro.entrypoint.html" title="macro solana_program::entrypoint"><code>entrypoint!</code></a> macro.</li>
<li>They are compiled as the <a href="https://doc.rust-lang.org/reference/linkage.html">“cdylib”</a> crate type for dynamic loading
by the Solana runtime.</li>
<li>They run in a constrained VM environment, and while they do have access to
the <a href="https://doc.rust-lang.org/stable/std/">Rust standard library</a>, many features of the standard library,
particularly related to OS services, will fail at runtime, will silently
do nothing, or are not defined. See the <a href="https://docs.solana.com/developing/on-chain-programs/developing-rust#restrictions">restrictions to the Rust standard
library</a> in the Solana documentation for more.</li>
</ul>
<p>Because multiple crates that are linked together cannot all define
program entrypoints (see the <a href="macro.entrypoint.html" title="macro solana_program::entrypoint"><code>entrypoint!</code></a> documentation) a common
convention is to use a <a href="https://doc.rust-lang.org/cargo/reference/features.html">Cargo feature</a> called <code>no-entrypoint</code> to allow
the program entrypoint to be disabled.</p>
<p>The skeleton of a Solana program typically looks like:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="attr">#[cfg(not(feature = <span class="string">&quot;no-entrypoint&quot;</span>))]
</span><span class="kw">pub mod </span>entrypoint {
    <span class="kw">use </span>solana_program::{
        account_info::AccountInfo,
        entrypoint,
        entrypoint::ProgramResult,
        pubkey::Pubkey,
    };

    <span class="macro">entrypoint!</span>(process_instruction);

    <span class="kw">pub fn </span>process_instruction(
        program_id: <span class="kw-2">&amp;</span>Pubkey,
        accounts: <span class="kw-2">&amp;</span>[AccountInfo],
        instruction_data: <span class="kw-2">&amp;</span>[u8],
    ) -&gt; ProgramResult {
        <span class="comment">// Decode and dispatch instructions here.
        </span><span class="macro">todo!</span>()
    }
}

<span class="comment">// Additional code goes here.</span></code></pre></div>
<p>With a <code>Cargo.toml</code> file that contains</p>
<div class="example-wrap"><pre class="language-toml"><code>[lib]
crate-type = [&quot;cdylib&quot;, &quot;rlib&quot;]

[features]
no-entrypoint = []
</code></pre></div>
<p>Note that a Solana program must specify its crate-type as “cdylib”, and
“cdylib” crates will automatically be discovered and built by the <code>cargo build-bpf</code> command. Solana programs also often have crate-type “rlib” so
they can be linked to other Rust crates.</p>
<h2 id="on-chain-vs-off-chain-compilation-targets"><a href="#on-chain-vs-off-chain-compilation-targets">On-chain vs. off-chain compilation targets</a></h2>
<p>Solana programs run on the <a href="https://github.com/solana-labs/rbpf">rbpf</a> VM, which implements a variant of the
<a href="https://ebpf.io/">eBPF</a> instruction set. Because this crate can be compiled for both on-chain
and off-chain execution, the environments of which are significantly
different, it extensively uses <a href="https://doc.rust-lang.org/reference/conditional-compilation.html">conditional compilation</a> to tailor its
implementation to the environment. The <code>cfg</code> predicate used for identifying
compilation for on-chain programs is <code>target_os = &quot;solana&quot;</code>, as in this
example from the <code>solana-program</code> codebase that logs a message via a
syscall when run on-chain, and via a library call when offchain:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">pub fn </span>sol_log(message: <span class="kw-2">&amp;</span>str) {
    <span class="attr">#[cfg(target_os = <span class="string">&quot;solana&quot;</span>)]
    </span><span class="kw">unsafe </span>{
        sol_log_(message.as_ptr(), message.len() <span class="kw">as </span>u64);
    }

    <span class="attr">#[cfg(not(target_os = <span class="string">&quot;solana&quot;</span>))]
    </span>program_stubs::sol_log(message);
}</code></pre></div>
<p>This <code>cfg</code> pattern is suitable as well for user code that needs to work both
on-chain and off-chain.</p>
<p><code>solana-program</code> and <code>solana-sdk</code> were previously a single crate. Because of
this history, and because of the dual-usage of <code>solana-program</code> for two
different environments, it contains some features that are not available to
on-chain programs at compile-time. It also contains some on-chain features
that will fail in off-chain scenarios at runtime. This distinction is not
well-reflected in the documentation.</p>
<p>For a more complete description of Solana’s implementation of eBPF and its
limitations, see the main Solana documentation for <a href="https://docs.solana.com/developing/on-chain-programs/overview">on-chain programs</a>.</p>
<h2 id="core-data-types"><a href="#core-data-types">Core data types</a></h2>
<ul>
<li><a href="pubkey/struct.Pubkey.html" title="struct solana_program::pubkey::Pubkey"><code>Pubkey</code></a> — The address of a <a href="https://docs.solana.com/developing/programming-model/accounts">Solana account</a>. Some account
addresses are <a href="https://ed25519.cr.yp.to/">ed25519</a> public keys, with corresponding secret keys that
are managed off-chain. Often, though, account addresses do not have
corresponding secret keys — as with <a href="https://docs.solana.com/developing/programming-model/calling-between-programs#program-derived-addresses"><em>program derived
addresses</em></a> — or the secret key is not relevant to the
operation of a program, and may have even been disposed of. As running
Solana programs can not safely create or manage secret keys, the full
<a href="https://docs.rs/solana-sdk/latest/solana_sdk/signer/keypair/struct.Keypair.html"><code>Keypair</code></a> is not defined in <code>solana-program</code> but in <code>solana-sdk</code>.</li>
<li><a href="hash/struct.Hash.html" title="struct solana_program::hash::Hash"><code>Hash</code></a> — A cryptographic hash. Used to uniquely identify blocks,
and also for general purpose hashing.</li>
<li><a href="account_info/struct.AccountInfo.html" title="struct solana_program::account_info::AccountInfo"><code>AccountInfo</code></a> — A description of a single Solana account. All accounts
that might be accessed by a program invocation are provided to the program
entrypoint as <code>AccountInfo</code>.</li>
<li><a href="instruction/struct.Instruction.html" title="struct solana_program::instruction::Instruction"><code>Instruction</code></a> — A directive telling the runtime to execute a program,
passing it a set of accounts and program-specific data.</li>
<li><a href="program_error/enum.ProgramError.html" title="enum solana_program::program_error::ProgramError"><code>ProgramError</code></a> and <a href="entrypoint/type.ProgramResult.html" title="type solana_program::entrypoint::ProgramResult"><code>ProgramResult</code></a> — The error type that all programs
must return, reported to the runtime as a <code>u64</code>.</li>
<li><a href="native_token/struct.Sol.html" title="struct solana_program::native_token::Sol"><code>Sol</code></a> — The Solana native token type, with conversions to and from
<a href="https://docs.solana.com/introduction#what-are-sols"><em>lamports</em></a>, the smallest fractional unit of SOL, in the <a href="native_token/index.html" title="mod solana_program::native_token"><code>native_token</code></a>
module.</li>
</ul>
<h2 id="serialization"><a href="#serialization">Serialization</a></h2>
<p>Within the Solana runtime, programs, and network, at least three different
serialization formats are used, and <code>solana-program</code> provides access to
those needed by programs.</p>
<p>In user-written Solana program code, serialization is primarily used for
accessing <a href="account_info/struct.AccountInfo.html" title="struct solana_program::account_info::AccountInfo"><code>AccountInfo</code></a> data and <a href="instruction/struct.Instruction.html" title="struct solana_program::instruction::Instruction"><code>Instruction</code></a> data, both of which are
program-specific binary data. Every program is free to decide their own
serialization format, but data received from other sources —
<a href="sysvar/index.html" title="mod solana_program::sysvar">sysvars</a> for example — must be deserialized using the methods
indicated by the documentation for that data or data type.</p>
<p>The three serialization formats in use in Solana are:</p>
<ul>
<li>
<p><strong><a href="https://borsh.io/">Borsh</a></strong>, a compact and well-specified format developed by the <a href="https://near.org/">NEAR</a>
project, suitable for use in protocol definitions and for archival storage.
It has a <a href="https://docs.rs/borsh">Rust implementation</a> and a <a href="https://github.com/near/borsh-js">JavaScript implementation</a>
and is recommended for all purposes.</p>
<p>Users need to import the <a href="https://docs.rs/borsh"><code>borsh</code></a> crate themselves — it is not
re-exported by <code>solana-program</code>, though this crate provides several useful
utilities in its <a href="borsh/index.html" title="mod solana_program::borsh"><code>borsh</code> module</a> that are not available in the
<code>borsh</code> library.</p>
<p>The <a href="instruction/struct.Instruction.html#method.new_with_borsh" title="associated function solana_program::instruction::Instruction::new_with_borsh"><code>Instruction::new_with_borsh</code></a> function creates an <code>Instruction</code> by
serializing a value with borsh.</p>
</li>
<li>
<p><strong><a href="https://docs.rs/bincode">Bincode</a></strong>, a compact serialization format that implements the <a href="https://serde.rs/">Serde</a>
Rust APIs. As it does not have a specification nor a JavaScript
implementation, and uses more CPU than borsh, it is not recommend for new
code.</p>
<p>Many system program and native program instructions are serialized with
bincode, and it is used for other purposes in the runtime. In these cases
Rust programmers are generally not directly exposed to the encoding format
as it is hidden behind APIs.</p>
<p>The <a href="instruction/struct.Instruction.html#method.new_with_bincode" title="associated function solana_program::instruction::Instruction::new_with_bincode"><code>Instruction::new_with_bincode</code></a> function creates an <code>Instruction</code> by
serializing a value with bincode.</p>
</li>
<li>
<p><strong><a href="program_pack/trait.Pack.html" title="trait solana_program::program_pack::Pack"><code>Pack</code></a></strong>, a Solana-specific serialization API that is used by many
older programs in the <a href="https://github.com/solana-labs/solana-program-library">Solana Program Library</a> to define their
account format. It is difficult to implement and does not define a
language-independent serialization format. It is not generally recommended
for new code.</p>
</li>
</ul>
<p>Developers should carefully consider the CPU cost of serialization, balanced
against the need for correctness and ease of use: off-the-shelf
serialization formats tend to be more expensive than carefully hand-written
application-specific formats; but application-specific formats are more
difficult to ensure the correctness of, and to provide multi-language
implementations for. It is not uncommon for programs to pack and unpack
their data with hand-written code.</p>
<h2 id="cross-program-instruction-execution"><a href="#cross-program-instruction-execution">Cross-program instruction execution</a></h2>
<p>Solana programs may call other programs, termed <a href="#cross-program-instruction-execution"><em>cross-program
invocation</em></a> (CPI), with the <a href="program/fn.invoke.html" title="fn solana_program::program::invoke"><code>invoke</code></a> and <a href="program/fn.invoke_signed.html" title="fn solana_program::program::invoke_signed"><code>invoke_signed</code></a>
functions. When calling another program the caller must provide the
<a href="instruction/struct.Instruction.html" title="struct solana_program::instruction::Instruction"><code>Instruction</code></a> to be invoked, as well as the <a href="account_info/struct.AccountInfo.html" title="struct solana_program::account_info::AccountInfo"><code>AccountInfo</code></a> for every
account required by the instruction. Because the only way for a program to
acquire <code>AccountInfo</code> values is by receiving them from the runtime at the
<a href="macro.entrypoint.html" title="macro solana_program::entrypoint">program entrypoint</a>, any account required by the callee
program must transitively be required by the caller program, and provided by
<em>its</em> caller.</p>
<p>A simple example of transferring lamports via CPI:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>solana_program::{
    account_info::{next_account_info, AccountInfo},
    entrypoint,
    entrypoint::ProgramResult,
    program::invoke,
    pubkey::Pubkey,
    system_instruction,
    system_program,
};

<span class="macro">entrypoint!</span>(process_instruction);

<span class="kw">fn </span>process_instruction(
    program_id: <span class="kw-2">&amp;</span>Pubkey,
    accounts: <span class="kw-2">&amp;</span>[AccountInfo],
    instruction_data: <span class="kw-2">&amp;</span>[u8],
) -&gt; ProgramResult {
    <span class="kw">let </span>account_info_iter = <span class="kw-2">&amp;mut </span>accounts.iter();

    <span class="kw">let </span>payer = next_account_info(account_info_iter)<span class="question-mark">?</span>;
    <span class="kw">let </span>recipient = next_account_info(account_info_iter)<span class="question-mark">?</span>;
    <span class="comment">// The system program is a required account to invoke a system
    // instruction, even though we don&#39;t use it directly.
    </span><span class="kw">let </span>system_account = next_account_info(account_info_iter)<span class="question-mark">?</span>;

    <span class="macro">assert!</span>(payer.is_writable);
    <span class="macro">assert!</span>(payer.is_signer);
    <span class="macro">assert!</span>(recipient.is_writable);
    <span class="macro">assert!</span>(system_program::check_id(system_account.key));

    <span class="kw">let </span>lamports = <span class="number">1000000</span>;

    invoke(
        <span class="kw-2">&amp;</span>system_instruction::transfer(payer.key, recipient.key, lamports),
        <span class="kw-2">&amp;</span>[payer.clone(), recipient.clone(), system_account.clone()],
    )
}</code></pre></div>
<p>Solana also includes a mechanism to let programs control and sign for
accounts without needing to protect a corresponding secret key, called
<a href="https://docs.solana.com/developing/programming-model/calling-between-programs#program-derived-addresses"><em>program derived addresses</em></a>. PDAs are derived with the
<a href="pubkey/struct.Pubkey.html#method.find_program_address" title="associated function solana_program::pubkey::Pubkey::find_program_address"><code>Pubkey::find_program_address</code></a> function. With a PDA, a program can call
<code>invoke_signed</code> to call another program while virtually “signing” for the
PDA.</p>
<p>A simple example of creating an account for a PDA:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>solana_program::{
    account_info::{next_account_info, AccountInfo},
    entrypoint,
    entrypoint::ProgramResult,
    program::invoke_signed,
    pubkey::Pubkey,
    system_instruction,
    system_program,
};

<span class="macro">entrypoint!</span>(process_instruction);

<span class="kw">fn </span>process_instruction(
    program_id: <span class="kw-2">&amp;</span>Pubkey,
    accounts: <span class="kw-2">&amp;</span>[AccountInfo],
    instruction_data: <span class="kw-2">&amp;</span>[u8],
) -&gt; ProgramResult {
    <span class="kw">let </span>account_info_iter = <span class="kw-2">&amp;mut </span>accounts.iter();
    <span class="kw">let </span>payer = next_account_info(account_info_iter)<span class="question-mark">?</span>;
    <span class="kw">let </span>vault_pda = next_account_info(account_info_iter)<span class="question-mark">?</span>;
    <span class="kw">let </span>system_program = next_account_info(account_info_iter)<span class="question-mark">?</span>;

    <span class="macro">assert!</span>(payer.is_writable);
    <span class="macro">assert!</span>(payer.is_signer);
    <span class="macro">assert!</span>(vault_pda.is_writable);
    <span class="macro">assert_eq!</span>(vault_pda.owner, <span class="kw-2">&amp;</span>system_program::ID);
    <span class="macro">assert!</span>(system_program::check_id(system_program.key));

    <span class="kw">let </span>vault_bump_seed = instruction_data[<span class="number">0</span>];
    <span class="kw">let </span>vault_seeds = <span class="kw-2">&amp;</span>[<span class="string">b&quot;vault&quot;</span>, payer.key.as_ref(), <span class="kw-2">&amp;</span>[vault_bump_seed]];
    <span class="kw">let </span>expected_vault_pda = Pubkey::create_program_address(vault_seeds, program_id)<span class="question-mark">?</span>;

    <span class="macro">assert_eq!</span>(vault_pda.key, <span class="kw-2">&amp;</span>expected_vault_pda);

    <span class="kw">let </span>lamports = <span class="number">10000000</span>;
    <span class="kw">let </span>vault_size = <span class="number">16</span>;

    invoke_signed(
        <span class="kw-2">&amp;</span>system_instruction::create_account(
            <span class="kw-2">&amp;</span>payer.key,
            <span class="kw-2">&amp;</span>vault_pda.key,
            lamports,
            vault_size,
            <span class="kw-2">&amp;</span>program_id,
        ),
        <span class="kw-2">&amp;</span>[
            payer.clone(),
            vault_pda.clone(),
        ],
        <span class="kw-2">&amp;</span>[
            <span class="kw-2">&amp;</span>[
                <span class="string">b&quot;vault&quot;</span>,
                payer.key.as_ref(),
                <span class="kw-2">&amp;</span>[vault_bump_seed],
            ],
        ]
    )<span class="question-mark">?</span>;
    <span class="prelude-val">Ok</span>(())
}</code></pre></div>
<h2 id="native-programs"><a href="#native-programs">Native programs</a></h2>
<p>Some solana programs are <a href="https://docs.solana.com/developing/runtime-facilities/programs"><em>native programs</em></a>, running native machine
code that is distributed with the runtime, with well-known program IDs.</p>
<p>Some native programs can be <a href="#cross-program-instruction-execution">invoked</a> by other programs, but some can
only be executed as “top-level” instructions included by off-chain clients
in a <a href="https://docs.rs/solana-sdk/latest/solana_sdk/transaction/struct.Transaction.html"><code>Transaction</code></a>.</p>
<p>This crate defines the program IDs for most native programs. Even though
some native programs cannot be invoked by other programs, a Solana program
may need access to their program IDs. For example, a program may need to
verify that an ed25519 signature verification instruction was included in
the same transaction as its own instruction. For many native programs, this
crate also defines enums that represent the instructions they process, and
constructors for building the instructions.</p>
<p>Locations of program IDs and instruction constructors are noted in the list
below, as well as whether they are invokable by other programs.</p>
<p>While some native programs have been active since the genesis block, others
are activated dynamically after a specific <a href="https://docs.solana.com/terminology#slot">slot</a>, and some are not yet
active. This documentation does not distinguish which native programs are
active on any particular network. The <code>solana feature status</code> CLI command
can help in determining active features.</p>
<p>Native programs important to Solana program authors include:</p>
<ul>
<li>
<p><strong>System Program</strong>: Creates new accounts, allocates account data, assigns
accounts to owning programs, transfers lamports from System Program owned
accounts and pays transaction fees.</p>
<ul>
<li>ID: <a href="system_program/index.html" title="mod solana_program::system_program"><code>solana_program::system_program</code></a></li>
<li>Instruction: <a href="system_instruction/index.html" title="mod solana_program::system_instruction"><code>solana_program::system_instruction</code></a></li>
<li>Invokable by programs? yes</li>
</ul>
</li>
<li>
<p><strong>Compute Budget Program</strong>: Requests additional CPU or memory resources
for a transaction. This program does nothing when called from another
program.</p>
<ul>
<li>ID: <a href="https://docs.rs/solana-sdk/latest/solana_sdk/compute_budget/index.html"><code>solana_sdk::compute_budget</code></a></li>
<li>Instruction: <a href="https://docs.rs/solana-sdk/latest/solana_sdk/compute_budget/index.html"><code>solana_sdk::compute_budget</code></a></li>
<li>Invokable by programs? no</li>
</ul>
</li>
<li>
<p><strong>ed25519 Program</strong>: Verifies an ed25519 signature.</p>
<ul>
<li>ID: <a href="ed25519_program/index.html" title="mod solana_program::ed25519_program"><code>solana_program::ed25519_program</code></a></li>
<li>Instruction: <a href="https://docs.rs/solana-sdk/latest/solana_sdk/ed25519_instruction/index.html"><code>solana_sdk::ed25519_instruction</code></a></li>
<li>Invokable by programs? no</li>
</ul>
</li>
<li>
<p><strong>secp256k1 Program</strong>: Verifies secp256k1 public key recovery operations.</p>
<ul>
<li>ID: <a href="secp256k1_program/index.html" title="mod solana_program::secp256k1_program"><code>solana_program::secp256k1_program</code></a></li>
<li>Instruction: <a href="https://docs.rs/solana-sdk/latest/solana_sdk/secp256k1_instruction/index.html"><code>solana_sdk::secp256k1_instruction</code></a></li>
<li>Invokable by programs? no</li>
</ul>
</li>
<li>
<p><strong>BPF Loader</strong>: Deploys, and executes immutable programs on the chain.</p>
<ul>
<li>ID: <a href="bpf_loader/index.html" title="mod solana_program::bpf_loader"><code>solana_program::bpf_loader</code></a></li>
<li>Instruction: <a href="loader_instruction/index.html" title="mod solana_program::loader_instruction"><code>solana_program::loader_instruction</code></a></li>
<li>Invokable by programs? yes</li>
</ul>
</li>
<li>
<p><strong>Upgradable BPF Loader</strong>: Deploys, upgrades, and executes upgradable
programs on the chain.</p>
<ul>
<li>ID: <a href="bpf_loader_upgradeable/index.html" title="mod solana_program::bpf_loader_upgradeable"><code>solana_program::bpf_loader_upgradeable</code></a></li>
<li>Instruction: <a href="loader_upgradeable_instruction/index.html" title="mod solana_program::loader_upgradeable_instruction"><code>solana_program::loader_upgradeable_instruction</code></a></li>
<li>Invokable by programs? yes</li>
</ul>
</li>
<li>
<p><strong>Deprecated BPF Loader</strong>: Deploys, and executes immutable programs on the
chain.</p>
<ul>
<li>ID: <a href="bpf_loader_deprecated/index.html" title="mod solana_program::bpf_loader_deprecated"><code>solana_program::bpf_loader_deprecated</code></a></li>
<li>Instruction: <a href="loader_instruction/index.html" title="mod solana_program::loader_instruction"><code>solana_program::loader_instruction</code></a></li>
<li>Invokable by programs? yes</li>
</ul>
</li>
</ul>
</div></details><h2 id="modules" class="small-section-header"><a href="#modules">Modules</a></h2><ul class="item-table"><li><div class="item-name"><a class="mod" href="account_info/index.html" title="mod solana_program::account_info">account_info</a></div><div class="desc docblock-short">Account information.</div></li><li><div class="item-name"><a class="mod" href="address_lookup_table_account/index.html" title="mod solana_program::address_lookup_table_account">address_lookup_table_account</a></div><div class="desc docblock-short">The definition of address lookup table accounts.</div></li><li><div class="item-name"><a class="mod" href="alt_bn128/index.html" title="mod solana_program::alt_bn128">alt_bn128</a></div></li><li><div class="item-name"><a class="mod" href="atomic_u64/index.html" title="mod solana_program::atomic_u64">atomic_u64</a><span title="Restricted Visibility">&nbsp;🔒</span> </div></li><li><div class="item-name"><a class="mod" href="big_mod_exp/index.html" title="mod solana_program::big_mod_exp">big_mod_exp</a></div></li><li><div class="item-name"><a class="mod" href="blake3/index.html" title="mod solana_program::blake3">blake3</a></div><div class="desc docblock-short">Hashing with the <a href="https://github.com/BLAKE3-team/BLAKE3">blake3</a> hash function.</div></li><li><div class="item-name"><a class="mod" href="borsh/index.html" title="mod solana_program::borsh">borsh</a></div><div class="desc docblock-short">Utilities for the <a href="https://borsh.io/">borsh</a> serialization format.</div></li><li><div class="item-name"><a class="mod" href="bpf_loader/index.html" title="mod solana_program::bpf_loader">bpf_loader</a></div><div class="desc docblock-short">The latest BPF loader native program.</div></li><li><div class="item-name"><a class="mod" href="bpf_loader_deprecated/index.html" title="mod solana_program::bpf_loader_deprecated">bpf_loader_deprecated</a></div><div class="desc docblock-short">The original and now deprecated Solana BPF loader.</div></li><li><div class="item-name"><a class="mod" href="bpf_loader_upgradeable/index.html" title="mod solana_program::bpf_loader_upgradeable">bpf_loader_upgradeable</a></div><div class="desc docblock-short">An upgradeable BPF loader native program.</div></li><li><div class="item-name"><a class="mod" href="clock/index.html" title="mod solana_program::clock">clock</a></div><div class="desc docblock-short">Information about the network’s clock, ticks, slots, etc.</div></li><li><div class="item-name"><a class="mod" href="config/index.html" title="mod solana_program::config">config</a></div><div class="desc docblock-short">The <a href="https://docs.solana.com/developing/runtime-facilities/programs#config-program">config native program</a>.</div></li><li><div class="item-name"><a class="mod" href="debug_account_data/index.html" title="mod solana_program::debug_account_data">debug_account_data</a></div><div class="desc docblock-short">Debug-formatting of account data.</div></li><li><div class="item-name"><a class="mod" href="decode_error/index.html" title="mod solana_program::decode_error">decode_error</a></div><div class="desc docblock-short">Converting custom error codes to enums.</div></li><li><div class="item-name"><a class="mod" href="ed25519_program/index.html" title="mod solana_program::ed25519_program">ed25519_program</a></div><div class="desc docblock-short">The <a href="https://docs.solana.com/developing/runtime-facilities/programs#ed25519-program">ed25519 native program</a>.</div></li><li><div class="item-name"><a class="mod" href="entrypoint/index.html" title="mod solana_program::entrypoint">entrypoint</a></div><div class="desc docblock-short">The Rust-based BPF program entrypoint supported by the latest BPF loader.</div></li><li><div class="item-name"><a class="mod" href="entrypoint_deprecated/index.html" title="mod solana_program::entrypoint_deprecated">entrypoint_deprecated</a></div><div class="desc docblock-short">The Rust-based BPF program entrypoint supported by the original BPF loader.</div></li><li><div class="item-name"><a class="mod" href="epoch_schedule/index.html" title="mod solana_program::epoch_schedule">epoch_schedule</a></div><div class="desc docblock-short">Configuration for epochs and slots.</div></li><li><div class="item-name"><a class="mod" href="feature/index.html" title="mod solana_program::feature">feature</a></div><div class="desc docblock-short">Runtime features.</div></li><li><div class="item-name"><a class="mod" href="fee_calculator/index.html" title="mod solana_program::fee_calculator">fee_calculator</a></div><div class="desc docblock-short">Calculation of transaction fees.</div></li><li><div class="item-name"><a class="mod" href="hash/index.html" title="mod solana_program::hash">hash</a></div><div class="desc docblock-short">Hashing with the <a href="https://en.wikipedia.org/wiki/SHA-2">SHA-256</a> hash function, and a general <a href="hash/struct.Hash.html" title="struct solana_program::hash::Hash"><code>Hash</code></a> type.</div></li><li><div class="item-name"><a class="mod" href="incinerator/index.html" title="mod solana_program::incinerator">incinerator</a></div><div class="desc docblock-short">A designated address for burning lamports.</div></li><li><div class="item-name"><a class="mod" href="instruction/index.html" title="mod solana_program::instruction">instruction</a></div><div class="desc docblock-short">Types for directing the execution of Solana programs.</div></li><li><div class="item-name"><a class="mod" href="keccak/index.html" title="mod solana_program::keccak">keccak</a></div><div class="desc docblock-short">Hashing with the <a href="https://keccak.team/keccak.html">keccak</a> (SHA-3) hash function.</div></li><li><div class="item-name"><a class="mod" href="lamports/index.html" title="mod solana_program::lamports">lamports</a></div><div class="desc docblock-short">Defines the <a href="lamports/enum.LamportsError.html" title="enum solana_program::lamports::LamportsError"><code>LamportsError</code></a> type.</div></li><li><div class="item-name"><a class="mod" href="loader_instruction/index.html" title="mod solana_program::loader_instruction">loader_instruction</a></div><div class="desc docblock-short">Instructions for the <a href="bpf_loader/index.html" title="mod solana_program::bpf_loader">non-upgradable BPF loader</a>.</div></li><li><div class="item-name"><a class="mod" href="loader_upgradeable_instruction/index.html" title="mod solana_program::loader_upgradeable_instruction">loader_upgradeable_instruction</a></div><div class="desc docblock-short">Instructions for the <a href="bpf_loader_upgradeable/index.html" title="mod solana_program::bpf_loader_upgradeable">upgradable BPF loader</a>.</div></li><li><div class="item-name"><a class="mod" href="loader_v3/index.html" title="mod solana_program::loader_v3">loader_v3</a></div><div class="desc docblock-short">The v3 built-in loader program.</div></li><li><div class="item-name"><a class="mod" href="loader_v3_instruction/index.html" title="mod solana_program::loader_v3_instruction">loader_v3_instruction</a></div><div class="desc docblock-short">Instructions for the SBF loader.</div></li><li><div class="item-name"><a class="mod" href="log/index.html" title="mod solana_program::log">log</a></div><div class="desc docblock-short">Logging utilities for Rust-based Solana programs.</div></li><li><div class="item-name"><a class="mod" href="message/index.html" title="mod solana_program::message">message</a></div><div class="desc docblock-short">Sequences of <a href="instruction/struct.Instruction.html" title="struct solana_program::instruction::Instruction"><code>Instruction</code></a>s executed within a single transaction.</div></li><li><div class="item-name"><a class="mod" href="native_token/index.html" title="mod solana_program::native_token">native_token</a></div><div class="desc docblock-short">Definitions for the native SOL token and its fractional lamports.</div></li><li><div class="item-name"><a class="mod" href="nonce/index.html" title="mod solana_program::nonce">nonce</a></div><div class="desc docblock-short">Durable transaction nonces.</div></li><li><div class="item-name"><a class="mod" href="program/index.html" title="mod solana_program::program">program</a></div><div class="desc docblock-short">Cross-program invocation.</div></li><li><div class="item-name"><a class="mod" href="program_error/index.html" title="mod solana_program::program_error">program_error</a></div><div class="desc docblock-short">The <a href="program_error/enum.ProgramError.html" title="enum solana_program::program_error::ProgramError"><code>ProgramError</code></a> type and related definitions.</div></li><li><div class="item-name"><a class="mod" href="program_memory/index.html" title="mod solana_program::program_memory">program_memory</a></div><div class="desc docblock-short">Basic low-level memory operations.</div></li><li><div class="item-name"><a class="mod" href="program_option/index.html" title="mod solana_program::program_option">program_option</a></div><div class="desc docblock-short">A C representation of Rust’s <code>Option</code>, used across the FFI
boundary for Solana program interfaces.</div></li><li><div class="item-name"><a class="mod" href="program_pack/index.html" title="mod solana_program::program_pack">program_pack</a></div><div class="desc docblock-short">The <a href="program_pack/trait.Pack.html" title="trait solana_program::program_pack::Pack"><code>Pack</code></a> serialization trait.</div></li><li><div class="item-name"><a class="mod" href="program_stubs/index.html" title="mod solana_program::program_stubs">program_stubs</a></div><div class="desc docblock-short">Implementations of syscalls used when <code>solana-program</code> is built for non-SBF targets.</div></li><li><div class="item-name"><a class="mod" href="program_utils/index.html" title="mod solana_program::program_utils">program_utils</a></div><div class="desc docblock-short">Contains a single utility function for deserializing from <a href="https://docs.rs/bincode">bincode</a>.</div></li><li><div class="item-name"><a class="mod" href="pubkey/index.html" title="mod solana_program::pubkey">pubkey</a></div><div class="desc docblock-short">Solana account addresses.</div></li><li><div class="item-name"><a class="mod" href="rent/index.html" title="mod solana_program::rent">rent</a></div><div class="desc docblock-short">Configuration for network <a href="https://docs.solana.com/implemented-proposals/rent">rent</a>.</div></li><li><div class="item-name"><a class="mod" href="sanitize/index.html" title="mod solana_program::sanitize">sanitize</a></div><div class="desc docblock-short">A trait for sanitizing values and members of over the wire messages.</div></li><li><div class="item-name"><a class="mod" href="sdk_ids/index.html" title="mod solana_program::sdk_ids">sdk_ids</a></div><div class="desc docblock-short">A vector of Solana SDK IDs.</div></li><li><div class="item-name"><a class="mod" href="secp256k1_program/index.html" title="mod solana_program::secp256k1_program">secp256k1_program</a></div><div class="desc docblock-short">The <a href="https://docs.solana.com/developing/runtime-facilities/programs#secp256k1-program">secp256k1 native program</a>.</div></li><li><div class="item-name"><a class="mod" href="secp256k1_recover/index.html" title="mod solana_program::secp256k1_recover">secp256k1_recover</a></div><div class="desc docblock-short">Public key recovery from <a href="https://en.bitcoin.it/wiki/Secp256k1">secp256k1</a> ECDSA signatures.</div></li><li><div class="item-name"><a class="mod" href="serde_varint/index.html" title="mod solana_program::serde_varint">serde_varint</a></div><div class="desc docblock-short">Integers that serialize to variable size.</div></li><li><div class="item-name"><a class="mod" href="serialize_utils/index.html" title="mod solana_program::serialize_utils">serialize_utils</a></div><div class="desc docblock-short">Helpers for reading and writing bytes.</div></li><li><div class="item-name"><a class="mod" href="short_vec/index.html" title="mod solana_program::short_vec">short_vec</a></div><div class="desc docblock-short">Compact serde-encoding of vectors with small length.</div></li><li><div class="item-name"><a class="mod" href="slot_hashes/index.html" title="mod solana_program::slot_hashes">slot_hashes</a></div><div class="desc docblock-short">A type to hold data for the <a href="https://docs.solana.com/developing/runtime-facilities/sysvars#slothashes"><code>SlotHashes</code> sysvar</a>.</div></li><li><div class="item-name"><a class="mod" href="slot_history/index.html" title="mod solana_program::slot_history">slot_history</a></div><div class="desc docblock-short">A type to hold data for the <a href="https://docs.solana.com/developing/runtime-facilities/sysvars#slothistory"><code>SlotHistory</code> sysvar</a>.</div></li><li><div class="item-name"><a class="mod" href="stake/index.html" title="mod solana_program::stake">stake</a></div><div class="desc docblock-short">The <a href="https://docs.solana.com/developing/runtime-facilities/sysvars#stakehistory">stake native program</a>.</div></li><li><div class="item-name"><a class="mod" href="stake_history/index.html" title="mod solana_program::stake_history">stake_history</a></div><div class="desc docblock-short">A type to hold data for the <a href="https://docs.solana.com/developing/runtime-facilities/sysvars#stakehistory"><code>StakeHistory</code> sysvar</a>.</div></li><li><div class="item-name"><a class="mod" href="syscalls/index.html" title="mod solana_program::syscalls">syscalls</a></div><div class="desc docblock-short">Declarations of Solana program syscalls.</div></li><li><div class="item-name"><a class="mod" href="system_instruction/index.html" title="mod solana_program::system_instruction">system_instruction</a></div><div class="desc docblock-short">Instructions and constructors for the system program.</div></li><li><div class="item-name"><a class="mod" href="system_program/index.html" title="mod solana_program::system_program">system_program</a></div><div class="desc docblock-short">The <a href="https://docs.solana.com/developing/runtime-facilities/programs#system-program">system native program</a>.</div></li><li><div class="item-name"><a class="mod" href="sysvar/index.html" title="mod solana_program::sysvar">sysvar</a></div><div class="desc docblock-short">Access to special accounts with dynamically-updated data.</div></li><li><div class="item-name"><a class="mod" href="vote/index.html" title="mod solana_program::vote">vote</a></div><div class="desc docblock-short">The <a href="https://docs.solana.com/developing/runtime-facilities/programs#vote-program">vote native program</a>.</div></li></ul><h2 id="macros" class="small-section-header"><a href="#macros">Macros</a></h2><ul class="item-table"><li><div class="item-name"><a class="macro" href="macro.custom_heap_default.html" title="macro solana_program::custom_heap_default">custom_heap_default</a></div><div class="desc docblock-short">Define the default global allocator.</div></li><li><div class="item-name"><a class="macro" href="macro.custom_panic_default.html" title="macro solana_program::custom_panic_default">custom_panic_default</a></div><div class="desc docblock-short">Define the default global panic handler.</div></li><li><div class="item-name"><a class="macro" href="macro.declare_deprecated_id.html" title="macro solana_program::declare_deprecated_id">declare_deprecated_id</a></div><div class="desc docblock-short">Same as <a href="macro.declare_id.html" title="macro solana_program::declare_id"><code>declare_id</code></a> except that it reports that this ID has been deprecated.</div></li><li><div class="item-name"><a class="macro" href="macro.declare_deprecated_sysvar_id.html" title="macro solana_program::declare_deprecated_sysvar_id">declare_deprecated_sysvar_id</a></div><div class="desc docblock-short">Same as <a href="macro.declare_sysvar_id.html" title="macro solana_program::declare_sysvar_id"><code>declare_sysvar_id</code></a> except that it reports that this ID has been deprecated.</div></li><li><div class="item-name"><a class="macro" href="macro.declare_id.html" title="macro solana_program::declare_id">declare_id</a></div><div class="desc docblock-short">Convenience macro to declare a static public key and functions to interact with it.</div></li><li><div class="item-name"><a class="macro" href="macro.declare_sysvar_id.html" title="macro solana_program::declare_sysvar_id">declare_sysvar_id</a></div><div class="desc docblock-short">Declares an ID that implements <a href="sysvar/trait.SysvarId.html" title="trait solana_program::sysvar::SysvarId"><code>SysvarId</code></a>.</div></li><li><div class="item-name"><a class="macro" href="macro.entrypoint.html" title="macro solana_program::entrypoint">entrypoint</a></div><div class="desc docblock-short">Declare the program entrypoint and set up global handlers.</div></li><li><div class="item-name"><a class="macro" href="macro.entrypoint_deprecated.html" title="macro solana_program::entrypoint_deprecated">entrypoint_deprecated</a></div><div class="desc docblock-short">Declare the program entrypoint.</div></li><li><div class="item-name"><a class="macro" href="macro.impl_sysvar_get.html" title="macro solana_program::impl_sysvar_get">impl_sysvar_get</a></div><div class="desc docblock-short">Implements the <a href="sysvar/trait.Sysvar.html#method.get" title="associated function solana_program::sysvar::Sysvar::get"><code>Sysvar::get</code></a> method for both SBF and host targets.</div></li><li><div class="item-name"><a class="macro" href="macro.info.html" title="macro solana_program::info">info</a><span class="stab deprecated" title="">Deprecated</span></div><div class="desc docblock-short">Print a message to the log.</div></li><li><div class="item-name"><a class="macro" href="macro.msg.html" title="macro solana_program::msg">msg</a></div><div class="desc docblock-short">Print a message to the log.</div></li><li><div class="item-name"><a class="macro" href="macro.pubkey.html" title="macro solana_program::pubkey">pubkey</a></div><div class="desc docblock-short">Convenience macro to define a static public key.</div></li><li><div class="item-name"><a class="macro" href="macro.unchecked_div_by_const.html" title="macro solana_program::unchecked_div_by_const">unchecked_div_by_const</a></div><div class="desc docblock-short">Convenience macro for doing integer division where the operation’s safety
can be checked at compile-time.</div></li></ul><h2 id="attributes" class="small-section-header"><a href="#attributes">Attribute Macros</a></h2><ul class="item-table"><li><div class="item-name"><a class="attr" href="attr.wasm_bindgen.html" title="attr solana_program::wasm_bindgen">wasm_bindgen</a></div><div class="desc docblock-short">Re-export of <a href="https://rustwasm.github.io/docs/wasm-bindgen/">wasm-bindgen</a>.</div></li></ul></section></div></main></body></html>