<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Access to special accounts with dynamically-updated data."><title>solana_program::sysvar - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Bold-a2c9cd1067f8b328.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../static.files/rustdoc-ba5701c5741a7b69.css" id="mainThemeStyle"><div id="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="solana_program" data-themes="" data-resource-suffix="" data-rustdoc-version="1.71.0-nightly (1c42cb4ef 2023-04-26)" data-search-js="search-618e954b235f6acc.js" data-settings-js="settings-de11bff964e9d4e5.js" data-settings-css="settings-6f6ffb5395b17c6e.css" data-theme-light-css="light-0f8c037637f9eb3e.css" data-theme-dark-css="dark-1097f8e92a01e3cf.css" data-theme-ayu-css="ayu-614652228113ac93.css" ></div><script src="../../static.files/storage-62ce34ea385b278a.js"></script><script defer src="../../static.files/main-f0540c1d82cde29b.js"></script><noscript><link rel="stylesheet" media="(prefers-color-scheme:light)" href="../../static.files/light-0f8c037637f9eb3e.css"><link rel="stylesheet" media="(prefers-color-scheme:dark)" href="../../static.files/dark-1097f8e92a01e3cf.css"><link rel="stylesheet" href="../../static.files/noscript-13285aec31fa243e.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="logo-container" href="../../solana_program/index.html"><img class="rust-logo" src="../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2></h2></nav><nav class="sidebar"><a class="logo-container" href="../../solana_program/index.html"><img class="rust-logo" src="../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2 class="location"><a href="#">Module sysvar</a></h2><div class="sidebar-elems"><section><ul class="block"><li><a href="#modules">Modules</a></li><li><a href="#structs">Structs</a></li><li><a href="#constants">Constants</a></li><li><a href="#traits">Traits</a></li><li><a href="#functions">Functions</a></li></ul></section></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Module <a href="../index.html">solana_program</a>::<wbr><a class="mod" href="#">sysvar</a><button id="copy-path" title="Copy item path to clipboard"><img src="../../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="srclink" href="../../src/solana_program/sysvar/mod.rs.html#1-308">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Access to special accounts with dynamically-updated data.</p>
<p>Sysvars are special accounts that contain dynamically-updated data about the
network cluster, the blockchain history, and the executing transaction. Each
sysvar is defined in its own submodule within this module. The <a href="clock/index.html" title="mod solana_program::sysvar::clock"><code>clock</code></a>,
<a href="epoch_schedule/index.html" title="mod solana_program::sysvar::epoch_schedule"><code>epoch_schedule</code></a>, <a href="instructions/index.html" title="mod solana_program::sysvar::instructions"><code>instructions</code></a>, and <a href="rent/index.html" title="mod solana_program::sysvar::rent"><code>rent</code></a> sysvars are most useful
to on-chain programs.</p>
<p>Simple sysvars implement the <a href="trait.Sysvar.html#method.get" title="associated function solana_program::sysvar::Sysvar::get"><code>Sysvar::get</code></a> method, which loads a sysvar
directly from the runtime, as in this example that logs the <code>clock</code> sysvar:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>solana_program::{
    account_info::AccountInfo,
    clock,
    entrypoint::ProgramResult,
    msg,
    pubkey::Pubkey,
    sysvar::Sysvar,
};

<span class="kw">fn </span>process_instruction(
    program_id: <span class="kw-2">&amp;</span>Pubkey,
    accounts: <span class="kw-2">&amp;</span>[AccountInfo],
    instruction_data: <span class="kw-2">&amp;</span>[u8],
) -&gt; ProgramResult {
    <span class="kw">let </span>clock = clock::Clock::get()<span class="question-mark">?</span>;
    <span class="macro">msg!</span>(<span class="string">&quot;clock: {:#?}&quot;</span>, clock);
    <span class="prelude-val">Ok</span>(())
}</code></pre></div>
<p>Since Solana sysvars are accounts, if the <code>AccountInfo</code> is provided to the
program, then the program can deserialize the sysvar with
<a href="trait.Sysvar.html#method.from_account_info" title="associated function solana_program::sysvar::Sysvar::from_account_info"><code>Sysvar::from_account_info</code></a> to access its data, as in this example that
again logs the <a href="clock/index.html" title="mod solana_program::sysvar::clock"><code>clock</code></a> sysvar.</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>solana_program::{
    account_info::{next_account_info, AccountInfo},
    clock,
    entrypoint::ProgramResult,
    msg,
    pubkey::Pubkey,
    sysvar::Sysvar,
};

<span class="kw">fn </span>process_instruction(
    program_id: <span class="kw-2">&amp;</span>Pubkey,
    accounts: <span class="kw-2">&amp;</span>[AccountInfo],
    instruction_data: <span class="kw-2">&amp;</span>[u8],
) -&gt; ProgramResult {
    <span class="kw">let </span>account_info_iter = <span class="kw-2">&amp;mut </span>accounts.iter();
    <span class="kw">let </span>clock_account = next_account_info(account_info_iter)<span class="question-mark">?</span>;
    <span class="kw">let </span>clock = clock::Clock::from_account_info(<span class="kw-2">&amp;</span>clock_account)<span class="question-mark">?</span>;
    <span class="macro">msg!</span>(<span class="string">&quot;clock: {:#?}&quot;</span>, clock);
    <span class="prelude-val">Ok</span>(())
}</code></pre></div>
<p>When possible, programs should prefer to call <code>Sysvar::get</code> instead of
deserializing with <code>Sysvar::from_account_info</code>, as the latter imposes extra
overhead of deserialization while also requiring the sysvar account address
be passed to the program, wasting the limited space available to
transactions. Deserializing sysvars that can instead be retrieved with
<code>Sysvar::get</code> should be only be considered for compatibility with older
programs that pass around sysvar accounts.</p>
<p>Some sysvars are too large to deserialize within a program, and
<code>Sysvar::from_account_info</code> returns an error, or the serialization attempt
will exhaust the program’s compute budget. Some sysvars do not implement
<code>Sysvar::get</code> and return an error. Some sysvars have custom deserializers
that do not implement the <code>Sysvar</code> trait. These cases are documented in the
modules for individual sysvars.</p>
<p>All sysvar accounts are owned by the account identified by <a href="constant.ID.html" title="constant solana_program::sysvar::ID"><code>sysvar::ID</code></a>.</p>
<p>For more details see the Solana <a href="https://docs.solana.com/developing/runtime-facilities/sysvars">documentation on sysvars</a>.</p>
</div></details><h2 id="modules" class="small-section-header"><a href="#modules">Modules</a></h2><ul class="item-table"><li><div class="item-name"><a class="mod" href="clock/index.html" title="mod solana_program::sysvar::clock">clock</a></div><div class="desc docblock-short">Information about the network’s clock, ticks, slots, etc.</div></li><li><div class="item-name"><a class="mod" href="epoch_schedule/index.html" title="mod solana_program::sysvar::epoch_schedule">epoch_schedule</a></div><div class="desc docblock-short">Information about epoch duration.</div></li><li><div class="item-name"><a class="mod" href="fees/index.html" title="mod solana_program::sysvar::fees">fees</a></div><div class="desc docblock-short">Current cluster fees.</div></li><li><div class="item-name"><a class="mod" href="instructions/index.html" title="mod solana_program::sysvar::instructions">instructions</a></div><div class="desc docblock-short">The serialized instructions of the current transaction.</div></li><li><div class="item-name"><a class="mod" href="recent_blockhashes/index.html" title="mod solana_program::sysvar::recent_blockhashes">recent_blockhashes</a></div><div class="desc docblock-short">Information about recent blocks and their fee calculators.</div></li><li><div class="item-name"><a class="mod" href="rent/index.html" title="mod solana_program::sysvar::rent">rent</a></div><div class="desc docblock-short">Configuration for network <a href="https://docs.solana.com/implemented-proposals/rent">rent</a>.</div></li><li><div class="item-name"><a class="mod" href="rewards/index.html" title="mod solana_program::sysvar::rewards">rewards</a></div><div class="desc docblock-short">This sysvar is deprecated and unused.</div></li><li><div class="item-name"><a class="mod" href="slot_hashes/index.html" title="mod solana_program::sysvar::slot_hashes">slot_hashes</a></div><div class="desc docblock-short">The most recent hashes of a slot’s parent banks.</div></li><li><div class="item-name"><a class="mod" href="slot_history/index.html" title="mod solana_program::sysvar::slot_history">slot_history</a></div><div class="desc docblock-short">A bitvector of slots present over the last epoch.</div></li><li><div class="item-name"><a class="mod" href="stake_history/index.html" title="mod solana_program::sysvar::stake_history">stake_history</a></div><div class="desc docblock-short">History of stake activations and de-activations.</div></li></ul><h2 id="structs" class="small-section-header"><a href="#structs">Structs</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.ALL_IDS.html" title="struct solana_program::sysvar::ALL_IDS">ALL_IDS</a></div></li></ul><h2 id="constants" class="small-section-header"><a href="#constants">Constants</a></h2><ul class="item-table"><li><div class="item-name"><a class="constant" href="constant.ID.html" title="constant solana_program::sysvar::ID">ID</a></div><div class="desc docblock-short">The const program ID.</div></li></ul><h2 id="traits" class="small-section-header"><a href="#traits">Traits</a></h2><ul class="item-table"><li><div class="item-name"><a class="trait" href="trait.Sysvar.html" title="trait solana_program::sysvar::Sysvar">Sysvar</a></div><div class="desc docblock-short">A type that holds sysvar data.</div></li><li><div class="item-name"><a class="trait" href="trait.SysvarId.html" title="trait solana_program::sysvar::SysvarId">SysvarId</a></div><div class="desc docblock-short">A type that holds sysvar data and has an associated sysvar <code>Pubkey</code>.</div></li></ul><h2 id="functions" class="small-section-header"><a href="#functions">Functions</a></h2><ul class="item-table"><li><div class="item-name"><a class="fn" href="fn.__stability.html" title="fn solana_program::sysvar::__stability">__stability</a><span title="Restricted Visibility">&nbsp;🔒</span> </div></li><li><div class="item-name"><a class="fn" href="fn.__static_ref_initialize.html" title="fn solana_program::sysvar::__static_ref_initialize">__static_ref_initialize</a><span title="Restricted Visibility">&nbsp;🔒</span> </div></li><li><div class="item-name"><a class="fn" href="fn.check_id.html" title="fn solana_program::sysvar::check_id">check_id</a></div><div class="desc docblock-short">Returns <code>true</code> if given pubkey is the program ID.</div></li><li><div class="item-name"><a class="fn" href="fn.id.html" title="fn solana_program::sysvar::id">id</a></div><div class="desc docblock-short">Returns the program ID.</div></li><li><div class="item-name"><a class="fn" href="fn.is_sysvar_id.html" title="fn solana_program::sysvar::is_sysvar_id">is_sysvar_id</a></div><div class="desc docblock-short">Returns <code>true</code> of the given <code>Pubkey</code> is a sysvar account.</div></li></ul></section></div></main></body></html>