<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="API documentation for the Rust `AccountsDb` struct in crate `solana_runtime`."><title>AccountsDb in solana_runtime::accounts_db - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Bold-a2c9cd1067f8b328.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../static.files/rustdoc-ba5701c5741a7b69.css" id="mainThemeStyle"><div id="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="solana_runtime" data-themes="" data-resource-suffix="" data-rustdoc-version="1.71.0-nightly (1c42cb4ef 2023-04-26)" data-search-js="search-618e954b235f6acc.js" data-settings-js="settings-de11bff964e9d4e5.js" data-settings-css="settings-6f6ffb5395b17c6e.css" data-theme-light-css="light-0f8c037637f9eb3e.css" data-theme-dark-css="dark-1097f8e92a01e3cf.css" data-theme-ayu-css="ayu-614652228113ac93.css" ></div><script src="../../static.files/storage-62ce34ea385b278a.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../static.files/main-f0540c1d82cde29b.js"></script><noscript><link rel="stylesheet" media="(prefers-color-scheme:light)" href="../../static.files/light-0f8c037637f9eb3e.css"><link rel="stylesheet" media="(prefers-color-scheme:dark)" href="../../static.files/dark-1097f8e92a01e3cf.css"><link rel="stylesheet" href="../../static.files/noscript-13285aec31fa243e.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc struct"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="logo-container" href="../../solana_runtime/index.html"><img class="rust-logo" src="../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2></h2></nav><nav class="sidebar"><a class="logo-container" href="../../solana_runtime/index.html"><img class="rust-logo" src="../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2 class="location"><a href="#">AccountsDb</a></h2><div class="sidebar-elems"><section><h3><a href="#fields">Fields</a></h3><ul class="block"><li><a href="#structfield.account_indexes">account_indexes</a></li><li><a href="#structfield.accounts_cache">accounts_cache</a></li><li><a href="#structfield.accounts_delta_hashes">accounts_delta_hashes</a></li><li><a href="#structfield.accounts_hash_complete_oldest_non_ancient_slot">accounts_hash_complete_oldest_non_ancient_slot</a></li><li><a href="#structfield.accounts_hashes">accounts_hashes</a></li><li><a href="#structfield.accounts_index">accounts_index</a></li><li><a href="#structfield.accounts_update_notifier">accounts_update_notifier</a></li><li><a href="#structfield.active_stats">active_stats</a></li><li><a href="#structfield.ancient_append_vec_offset">ancient_append_vec_offset</a></li><li><a href="#structfield.assert_stakes_cache_consistency">assert_stakes_cache_consistency</a></li><li><a href="#structfield.bank_hash_stats">bank_hash_stats</a></li><li><a href="#structfield.bank_progress">bank_progress</a></li><li><a href="#structfield.clean_accounts_stats">clean_accounts_stats</a></li><li><a href="#structfield.cluster_type">cluster_type</a></li><li><a href="#structfield.create_ancient_storage">create_ancient_storage</a></li><li><a href="#structfield.dirty_stores">dirty_stores</a></li><li><a href="#structfield.epoch_accounts_hash_manager">epoch_accounts_hash_manager</a></li><li><a href="#structfield.exhaustively_verify_refcounts">exhaustively_verify_refcounts</a></li><li><a href="#structfield.external_purge_slots_stats">external_purge_slots_stats</a></li><li><a href="#structfield.file_size">file_size</a></li><li><a href="#structfield.filler_account_slots_remaining">filler_account_slots_remaining</a></li><li><a href="#structfield.filler_account_suffix">filler_account_suffix</a></li><li><a href="#structfield.filler_accounts_config">filler_accounts_config</a></li><li><a href="#structfield.filler_accounts_per_slot">filler_accounts_per_slot</a></li><li><a href="#structfield.full_accounts_hash_cache_path">full_accounts_hash_cache_path</a></li><li><a href="#structfield.incremental_accounts_hash_cache_path">incremental_accounts_hash_cache_path</a></li><li><a href="#structfield.incremental_accounts_hashes">incremental_accounts_hashes</a></li><li><a href="#structfield.is_bank_drop_callback_enabled">is_bank_drop_callback_enabled</a></li><li><a href="#structfield.log_dead_slots">log_dead_slots</a></li><li><a href="#structfield.next_id">next_id</a></li><li><a href="#structfield.paths">paths</a></li><li><a href="#structfield.read_only_accounts_cache">read_only_accounts_cache</a></li><li><a href="#structfield.recycle_stores">recycle_stores</a></li><li><a href="#structfield.remove_unrooted_slots_synchronization">remove_unrooted_slots_synchronization</a></li><li><a href="#structfield.sender_bg_hasher">sender_bg_hasher</a></li><li><a href="#structfield.shrink_ancient_stats">shrink_ancient_stats</a></li><li><a href="#structfield.shrink_candidate_slots">shrink_candidate_slots</a></li><li><a href="#structfield.shrink_paths">shrink_paths</a></li><li><a href="#structfield.shrink_ratio">shrink_ratio</a></li><li><a href="#structfield.shrink_stats">shrink_stats</a></li><li><a href="#structfield.skip_initial_hash_calc">skip_initial_hash_calc</a></li><li><a href="#structfield.stats">stats</a></li><li><a href="#structfield.storage">storage</a></li><li><a href="#structfield.temp_accounts_hash_cache_path">temp_accounts_hash_cache_path</a></li><li><a href="#structfield.temp_paths">temp_paths</a></li><li><a href="#structfield.thread_pool">thread_pool</a></li><li><a href="#structfield.thread_pool_clean">thread_pool_clean</a></li><li><a href="#structfield.uncleaned_pubkeys">uncleaned_pubkeys</a></li><li><a href="#structfield.verify_accounts_hash_in_bg">verify_accounts_hash_in_bg</a></li><li><a href="#structfield.write_cache_limit_bytes">write_cache_limit_bytes</a></li><li><a href="#structfield.write_version">write_version</a></li><li><a href="#structfield.zero_lamport_accounts_to_purge_after_full_snapshot">zero_lamport_accounts_to_purge_after_full_snapshot</a></li></ul><h3><a href="#implementations">Associated Constants</a></h3><ul class="block"><li><a href="#associatedconstant.ACCOUNTS_HASH_CACHE_DIR">ACCOUNTS_HASH_CACHE_DIR</a></li></ul><h3><a href="#implementations">Methods</a></h3><ul class="block"><li><a href="#method._calculate_accounts_hash_from_storages">_calculate_accounts_hash_from_storages</a></li><li><a href="#method.account_matches_owners">account_matches_owners</a></li><li><a href="#method.add_root">add_root</a></li><li><a href="#method.add_uncleaned_pubkeys_after_shrink">add_uncleaned_pubkeys_after_shrink</a></li><li><a href="#method.addref_accounts_failed_to_shrink_ancient">addref_accounts_failed_to_shrink_ancient</a></li><li><a href="#method.all_slots_in_storage">all_slots_in_storage</a></li><li><a href="#method.apply_offset_to_slot">apply_offset_to_slot</a></li><li><a href="#method.assert_safe_squashing_accounts_hash">assert_safe_squashing_accounts_hash</a></li><li><a href="#method.background_hasher">background_hasher</a></li><li><a href="#method.bulk_assign_write_version">bulk_assign_write_version</a></li><li><a href="#method.calc_accounts_to_combine">calc_accounts_to_combine</a></li><li><a href="#method.calc_alive_ancient_historical_roots">calc_alive_ancient_historical_roots</a></li><li><a href="#method.calc_ancient_slot_info">calc_ancient_slot_info</a></li><li><a href="#method.calc_delete_dependencies">calc_delete_dependencies</a></li><li><a href="#method.calculate_accounts_delta_hash">calculate_accounts_delta_hash</a></li><li><a href="#method.calculate_accounts_hash">calculate_accounts_hash</a></li><li><a href="#method.calculate_accounts_hash_from_index">calculate_accounts_hash_from_index</a></li><li><a href="#method.calculate_accounts_hash_from_storages">calculate_accounts_hash_from_storages</a></li><li><a href="#method.calculate_accounts_hash_with_verify">calculate_accounts_hash_with_verify</a></li><li><a href="#method.calculate_incremental_accounts_hash">calculate_incremental_accounts_hash</a></li><li><a href="#method.checked_iterative_sum_for_capitalization">checked_iterative_sum_for_capitalization</a></li><li><a href="#method.checked_sum_for_capitalization">checked_sum_for_capitalization</a></li><li><a href="#method.clean_accounts">clean_accounts</a></li><li><a href="#method.clean_accounts_for_tests">clean_accounts_for_tests</a></li><li><a href="#method.clean_accounts_older_than_root">clean_accounts_older_than_root</a></li><li><a href="#method.clean_dead_slots_from_accounts_index">clean_dead_slots_from_accounts_index</a></li><li><a href="#method.clean_stored_dead_slots">clean_stored_dead_slots</a></li><li><a href="#method.collect_sort_filter_ancient_slots">collect_sort_filter_ancient_slots</a></li><li><a href="#method.collect_uncleaned_slots_up_to_slot">collect_uncleaned_slots_up_to_slot</a></li><li><a href="#method.combine_ancient_slots">combine_ancient_slots</a></li><li><a href="#method.combine_ancient_slots_packed">combine_ancient_slots_packed</a></li><li><a href="#method.combine_ancient_slots_packed_internal">combine_ancient_slots_packed_internal</a></li><li><a href="#method.combine_multiple_slots_into_one_at_startup">combine_multiple_slots_into_one_at_startup</a></li><li><a href="#method.combine_one_store_into_ancient">combine_one_store_into_ancient</a></li><li><a href="#method.construct_candidate_clean_keys">construct_candidate_clean_keys</a></li><li><a href="#method.create_and_insert_store">create_and_insert_store</a></li><li><a href="#method.create_and_insert_store_with_paths">create_and_insert_store_with_paths</a></li><li><a href="#method.create_drop_bank_callback">create_drop_bank_callback</a></li><li><a href="#method.create_store">create_store</a></li><li><a href="#method.default_for_tests">default_for_tests</a></li><li><a href="#method.default_with_accounts_index">default_with_accounts_index</a></li><li><a href="#method.do_flush_slot_cache">do_flush_slot_cache</a></li><li><a href="#method.do_load">do_load</a></li><li><a href="#method.do_load_with_populate_read_cache">do_load_with_populate_read_cache</a></li><li><a href="#method.do_reset_uncleaned_roots">do_reset_uncleaned_roots</a></li><li><a href="#method.do_shrink_slot_store">do_shrink_slot_store</a></li><li><a href="#method.drop_or_recycle_stores">drop_or_recycle_stores</a></li><li><a href="#method.exhaustively_verify_refcounts">exhaustively_verify_refcounts</a></li><li><a href="#method.expected_cluster_type">expected_cluster_type</a></li><li><a href="#method.expire_old_recycle_stores">expire_old_recycle_stores</a></li><li><a href="#method.file_size">file_size</a></li><li><a href="#method.filler_accounts_enabled">filler_accounts_enabled</a></li><li><a href="#method.filler_prefix_bytes">filler_prefix_bytes</a></li><li><a href="#method.filler_rent_partition_prefix_bytes">filler_rent_partition_prefix_bytes</a></li><li><a href="#method.filler_unique_id_bytes">filler_unique_id_bytes</a></li><li><a href="#method.filter_zero_lamport_clean_for_incremental_snapshots">filter_zero_lamport_clean_for_incremental_snapshots</a></li><li><a href="#method.find_storage_candidate">find_storage_candidate</a></li><li><a href="#method.find_unskipped_slot">find_unskipped_slot</a></li><li><a href="#method.finish_combine_ancient_slots_packed_internal">finish_combine_ancient_slots_packed_internal</a></li><li><a href="#method.flush_accounts_cache">flush_accounts_cache</a></li><li><a href="#method.flush_read_only_cache_for_tests">flush_read_only_cache_for_tests</a></li><li><a href="#method.flush_rooted_accounts_cache">flush_rooted_accounts_cache</a></li><li><a href="#method.flush_slot_cache">flush_slot_cache</a></li><li><a href="#method.flush_slot_cache_with_clean">flush_slot_cache_with_clean</a></li><li><a href="#method.generate_index">generate_index</a></li><li><a href="#method.generate_index_for_slot">generate_index_for_slot</a></li><li><a href="#method.get_account_accessor">get_account_accessor</a></li><li><a href="#method.get_accounts_delta_hash">get_accounts_delta_hash</a></li><li><a href="#method.get_accounts_hash">get_accounts_hash</a></li><li><a href="#method.get_accounts_hash_complete_oldest_non_ancient_slot">get_accounts_hash_complete_oldest_non_ancient_slot</a></li><li><a href="#method.get_bank_hash_stats">get_bank_hash_stats</a></li><li><a href="#method.get_cache_hash_data">get_cache_hash_data</a></li><li><a href="#method.get_filler_account">get_filler_account</a></li><li><a href="#method.get_filler_account_pubkey">get_filler_account_pubkey</a></li><li><a href="#method.get_filler_account_pubkeys">get_filler_account_pubkeys</a></li><li><a href="#method.get_incremental_accounts_hash">get_incremental_accounts_hash</a></li><li><a href="#method.get_keys_to_unref_ancient">get_keys_to_unref_ancient</a></li><li><a href="#method.get_many_refs_pubkeys">get_many_refs_pubkeys</a></li><li><a href="#method.get_oldest_slot_within_one_epoch_prior">get_oldest_slot_within_one_epoch_prior</a></li><li><a href="#method.get_one_epoch_old_slot_for_hash_calc_scan">get_one_epoch_old_slot_for_hash_calc_scan</a></li><li><a href="#method.get_prior_root">get_prior_root</a></li><li><a href="#method.get_pubkey_hash_for_slot">get_pubkey_hash_for_slot</a></li><li><a href="#method.get_roots_less_than">get_roots_less_than</a></li><li><a href="#method.get_snapshot_storages">get_snapshot_storages</a></li><li><a href="#method.get_sorted_potential_ancient_slots">get_sorted_potential_ancient_slots</a></li><li><a href="#method.get_storage_to_move_to_ancient_append_vec">get_storage_to_move_to_ancient_append_vec</a></li><li><a href="#method.get_store_for_shrink">get_store_for_shrink</a></li><li><a href="#method.get_unique_accounts_from_storage">get_unique_accounts_from_storage</a></li><li><a href="#method.get_unique_accounts_from_storage_for_combining_ancient_slots">get_unique_accounts_from_storage_for_combining_ancient_slots</a></li><li><a href="#method.get_unique_accounts_from_storage_for_shrink">get_unique_accounts_from_storage_for_shrink</a></li><li><a href="#method.handle_dropped_roots_for_ancient">handle_dropped_roots_for_ancient</a></li><li><a href="#method.handle_reclaims">handle_reclaims</a></li><li><a href="#method.has_space_available">has_space_available</a></li><li><a href="#method.hash_account">hash_account</a></li><li><a href="#method.hash_account_data">hash_account_data</a></li><li><a href="#method.hash_storage_info">hash_storage_info</a></li><li><a href="#method.index_scan_accounts">index_scan_accounts</a></li><li><a href="#method.init_gradual_filler_accounts">init_gradual_filler_accounts</a></li><li><a href="#method.insert_default_bank_hash_stats">insert_default_bank_hash_stats</a></li><li><a href="#method.insert_store">insert_store</a></li><li><a href="#method.is_candidate_for_shrink">is_candidate_for_shrink</a></li><li><a href="#method.is_filler_account">is_filler_account</a></li><li><a href="#method.is_filler_account_helper">is_filler_account_helper</a></li><li><a href="#method.is_shrinking_productive">is_shrinking_productive</a></li><li><a href="#method.load">load</a></li><li><a href="#method.load_account_hash">load_account_hash</a></li><li><a href="#method.load_account_into_read_cache">load_account_into_read_cache</a></li><li><a href="#method.load_accounts_index_for_shrink">load_accounts_index_for_shrink</a></li><li><a href="#method.load_with_fixed_root">load_with_fixed_root</a></li><li><a href="#method.mark_dirty_dead_stores">mark_dirty_dead_stores</a></li><li><a href="#method.mark_old_slots_as_dirty">mark_old_slots_as_dirty</a></li><li><a href="#method.mark_slot_frozen">mark_slot_frozen</a></li><li><a href="#method.max_clean_root">max_clean_root</a></li><li><a href="#method.maybe_add_filler_accounts">maybe_add_filler_accounts</a></li><li><a href="#method.maybe_throttle_index_generation">maybe_throttle_index_generation</a></li><li><a href="#method.new_for_tests">new_for_tests</a></li><li><a href="#method.new_for_tests_with_caching">new_for_tests_with_caching</a></li><li><a href="#method.new_single_for_tests">new_single_for_tests</a></li><li><a href="#method.new_single_for_tests_with_caching">new_single_for_tests_with_caching</a></li><li><a href="#method.new_single_for_tests_with_secondary_indexes">new_single_for_tests_with_secondary_indexes</a></li><li><a href="#method.new_storage_entry">new_storage_entry</a></li><li><a href="#method.new_with_config">new_with_config</a></li><li><a href="#method.next_id">next_id</a></li><li><a href="#method.notify_account_at_accounts_update">notify_account_at_accounts_update</a></li><li><a href="#method.notify_account_restore_from_snapshot">notify_account_restore_from_snapshot</a></li><li><a href="#method.notify_accounts_hash_calculated_complete">notify_accounts_hash_calculated_complete</a></li><li><a href="#method.notify_accounts_in_slot">notify_accounts_in_slot</a></li><li><a href="#method.notify_filtered_accounts">notify_filtered_accounts</a></li><li><a href="#method.page_align">page_align</a></li><li><a href="#method.print_accounts_stats">print_accounts_stats</a></li><li><a href="#method.print_count_and_status">print_count_and_status</a></li><li><a href="#method.print_index">print_index</a></li><li><a href="#method.process_dead_slots">process_dead_slots</a></li><li><a href="#method.process_storage_slot">process_storage_slot</a></li><li><a href="#method.purge_dead_slots_from_storage">purge_dead_slots_from_storage</a></li><li><a href="#method.purge_keys_exact">purge_keys_exact</a></li><li><a href="#method.purge_old_accounts_hashes">purge_old_accounts_hashes</a></li><li><a href="#method.purge_slot">purge_slot</a></li><li><a href="#method.purge_slot_cache">purge_slot_cache</a></li><li><a href="#method.purge_slot_cache_pubkeys">purge_slot_cache_pubkeys</a></li><li><a href="#method.purge_slot_storage">purge_slot_storage</a></li><li><a href="#method.purge_slots">purge_slots</a></li><li><a href="#method.purge_slots_from_cache_and_store">purge_slots_from_cache_and_store</a></li><li><a href="#method.range_scan_accounts">range_scan_accounts</a></li><li><a href="#method.read_index_for_accessor_or_load_slow">read_index_for_accessor_or_load_slow</a></li><li><a href="#method.recycle_slot_stores">recycle_slot_stores</a></li><li><a href="#method.remove_bank_hash_info">remove_bank_hash_info</a></li><li><a href="#method.remove_bank_hash_infos">remove_bank_hash_infos</a></li><li><a href="#method.remove_dead_accounts">remove_dead_accounts</a></li><li><a href="#method.remove_dead_slots_metadata">remove_dead_slots_metadata</a></li><li><a href="#method.remove_old_historical_roots">remove_old_historical_roots</a></li><li><a href="#method.remove_old_stores_shrink">remove_old_stores_shrink</a></li><li><a href="#method.remove_uncleaned_slots_and_collect_pubkeys">remove_uncleaned_slots_and_collect_pubkeys</a></li><li><a href="#method.remove_uncleaned_slots_and_collect_pubkeys_up_to_slot">remove_uncleaned_slots_and_collect_pubkeys_up_to_slot</a></li><li><a href="#method.remove_unrooted_slots">remove_unrooted_slots</a></li><li><a href="#method.report_store_stats">report_store_stats</a></li><li><a href="#method.report_store_timings">report_store_timings</a></li><li><a href="#method.retry_to_get_account_accessor">retry_to_get_account_accessor</a></li><li><a href="#method.revisit_accounts_with_many_refs">revisit_accounts_with_many_refs</a></li><li><a href="#method.scan_account_storage">scan_account_storage</a></li><li><a href="#method.scan_account_storage_no_bank">scan_account_storage_no_bank</a></li><li><a href="#method.scan_accounts">scan_accounts</a></li><li><a href="#method.scan_single_account_storage">scan_single_account_storage</a></li><li><a href="#method.scan_snapshot_stores_with_cache">scan_snapshot_stores_with_cache</a></li><li><a href="#method.select_candidates_by_total_usage">select_candidates_by_total_usage</a></li><li><a href="#method.set_accounts_delta_hash">set_accounts_delta_hash</a></li><li><a href="#method.set_accounts_delta_hash_from_snapshot">set_accounts_delta_hash_from_snapshot</a></li><li><a href="#method.set_accounts_hash">set_accounts_hash</a></li><li><a href="#method.set_accounts_hash_from_snapshot">set_accounts_hash_from_snapshot</a></li><li><a href="#method.set_incremental_accounts_hash">set_incremental_accounts_hash</a></li><li><a href="#method.set_incremental_accounts_hash_from_snapshot">set_incremental_accounts_hash_from_snapshot</a></li><li><a href="#method.set_shrink_paths">set_shrink_paths</a></li><li><a href="#method.set_storage_count_and_alive_bytes">set_storage_count_and_alive_bytes</a></li><li><a href="#method.should_aggressively_flush_cache">should_aggressively_flush_cache</a></li><li><a href="#method.should_move_to_ancient_append_vec">should_move_to_ancient_append_vec</a></li><li><a href="#method.should_not_shrink">should_not_shrink</a></li><li><a href="#method.shrink_all_slots">shrink_all_slots</a></li><li><a href="#method.shrink_ancient_slots">shrink_ancient_slots</a></li><li><a href="#method.shrink_candidate_slots">shrink_candidate_slots</a></li><li><a href="#method.shrink_collect">shrink_collect</a></li><li><a href="#method.shrink_slot_forced">shrink_slot_forced</a></li><li><a href="#method.sort_slot_storage_scan">sort_slot_storage_scan</a></li><li><a href="#method.start_background_hasher">start_background_hasher</a></li><li><a href="#method.stats_for_rent_payers">stats_for_rent_payers</a></li><li><a href="#method.store">store</a></li><li><a href="#method.store_accounts_custom">store_accounts_custom</a></li><li><a href="#method.store_accounts_frozen">store_accounts_frozen</a></li><li><a href="#method.store_accounts_to">store_accounts_to</a></li><li><a href="#method.store_accounts_unfrozen">store_accounts_unfrozen</a></li><li><a href="#method.store_cached">store_cached</a></li><li><a href="#method.store_uncached">store_uncached</a></li><li><a href="#method.try_recycle_and_insert_store">try_recycle_and_insert_store</a></li><li><a href="#method.try_recycle_store">try_recycle_store</a></li><li><a href="#method.unchecked_scan_accounts">unchecked_scan_accounts</a></li><li><a href="#method.unref_accounts">unref_accounts</a></li><li><a href="#method.unref_accounts_already_in_storage">unref_accounts_already_in_storage</a></li><li><a href="#method.unref_pubkeys">unref_pubkeys</a></li><li><a href="#method.update_accounts_hash">update_accounts_hash</a></li><li><a href="#method.update_accounts_hash_for_tests">update_accounts_hash_for_tests</a></li><li><a href="#method.update_bank_hash_stats_from_snapshot">update_bank_hash_stats_from_snapshot</a></li><li><a href="#method.update_incremental_accounts_hash">update_incremental_accounts_hash</a></li><li><a href="#method.update_index">update_index</a></li><li><a href="#method.update_old_slot_stats">update_old_slot_stats</a></li><li><a href="#method.update_shrink_stats">update_shrink_stats</a></li><li><a href="#method.update_storage_info">update_storage_info</a></li><li><a href="#method.verify_accounts_hash_and_lamports">verify_accounts_hash_and_lamports</a></li><li><a href="#method.visit_duplicate_pubkeys_during_startup">visit_duplicate_pubkeys_during_startup</a></li><li><a href="#method.write_accounts_to_cache">write_accounts_to_cache</a></li><li><a href="#method.write_accounts_to_storage">write_accounts_to_storage</a></li><li><a href="#method.write_ancient_accounts">write_ancient_accounts</a></li><li><a href="#method.write_ancient_accounts_to_same_slot_multiple_refs">write_ancient_accounts_to_same_slot_multiple_refs</a></li><li><a href="#method.write_one_packed_storage">write_one_packed_storage</a></li><li><a href="#method.write_packed_storages">write_packed_storages</a></li></ul><h3><a href="#trait-implementations">Trait Implementations</a></h3><ul class="block"><li><a href="#impl-Debug-for-AccountsDb">Debug</a></li></ul><h3><a href="#synthetic-implementations">Auto Trait Implementations</a></h3><ul class="block"><li><a href="#impl-RefUnwindSafe-for-AccountsDb">!RefUnwindSafe</a></li><li><a href="#impl-UnwindSafe-for-AccountsDb">!UnwindSafe</a></li><li><a href="#impl-Send-for-AccountsDb">Send</a></li><li><a href="#impl-Sync-for-AccountsDb">Sync</a></li><li><a href="#impl-Unpin-for-AccountsDb">Unpin</a></li></ul><h3><a href="#blanket-implementations">Blanket Implementations</a></h3><ul class="block"><li><a href="#impl-AbiExample-for-AccountsDb">AbiExample</a></li><li><a href="#impl-Any-for-AccountsDb">Any</a></li><li><a href="#impl-Borrow%3CT%3E-for-AccountsDb">Borrow&lt;T&gt;</a></li><li><a href="#impl-BorrowMut%3CT%3E-for-AccountsDb">BorrowMut&lt;T&gt;</a></li><li><a href="#impl-From%3CT%3E-for-AccountsDb">From&lt;T&gt;</a></li><li><a href="#impl-Instrument-for-AccountsDb">Instrument</a></li><li><a href="#impl-Into%3CU%3E-for-AccountsDb">Into&lt;U&gt;</a></li><li><a href="#impl-Pointable-for-AccountsDb">Pointable</a></li><li><a href="#impl-Same%3CT%3E-for-AccountsDb">Same&lt;T&gt;</a></li><li><a href="#impl-TryFrom%3CU%3E-for-AccountsDb">TryFrom&lt;U&gt;</a></li><li><a href="#impl-TryInto%3CU%3E-for-AccountsDb">TryInto&lt;U&gt;</a></li><li><a href="#impl-VZip%3CV%3E-for-AccountsDb">VZip&lt;V&gt;</a></li><li><a href="#impl-WithSubscriber-for-AccountsDb">WithSubscriber</a></li></ul></section><h2><a href="index.html">In solana_runtime::accounts_db</a></h2></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Struct <a href="../index.html">solana_runtime</a>::<wbr><a href="index.html">accounts_db</a>::<wbr><a class="struct" href="#">AccountsDb</a><button id="copy-path" title="Copy item path to clipboard"><img src="../../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="srclink" href="../../src/solana_runtime/accounts_db.rs.html#1366-1513">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><pre class="rust item-decl"><code>pub struct AccountsDb {<details class="toggle type-contents-toggle"><summary class="hideme"><span>Show 52 fields</span></summary>
    pub accounts_index: <a class="struct" href="../accounts_index/struct.AccountsIndex.html" title="struct solana_runtime::accounts_index::AccountsIndex">AccountsIndex</a>&lt;<a class="struct" href="../account_info/struct.AccountInfo.html" title="struct solana_runtime::account_info::AccountInfo">AccountInfo</a>, <a class="struct" href="../account_info/struct.AccountInfo.html" title="struct solana_runtime::account_info::AccountInfo">AccountInfo</a>&gt;,
    pub accounts_hash_complete_oldest_non_ancient_slot: <a class="struct" href="https://doc.rust-lang.org/nightly/std/sync/rwlock/struct.RwLock.html" title="struct std::sync::rwlock::RwLock">RwLock</a>&lt;<a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>&gt;,
    pub ancient_append_vec_offset: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.i64.html">i64</a>&gt;,
    pub skip_initial_hash_calc: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a>,
    pub(crate) storage: <a class="struct" href="../account_storage/struct.AccountStorage.html" title="struct solana_runtime::account_storage::AccountStorage">AccountStorage</a>,
    pub(crate) assert_stakes_cache_consistency: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a>,
    create_ancient_storage: <a class="enum" href="enum.CreateAncientStorage.html" title="enum solana_runtime::accounts_db::CreateAncientStorage">CreateAncientStorage</a>,
    pub accounts_cache: <a class="struct" href="../accounts_cache/struct.AccountsCache.html" title="struct solana_runtime::accounts_cache::AccountsCache">AccountsCache</a>,
    write_cache_limit_bytes: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a>&gt;,
    sender_bg_hasher: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;Sender&lt;<a class="type" href="../accounts_cache/type.CachedAccount.html" title="type solana_runtime::accounts_cache::CachedAccount">CachedAccount</a>&gt;&gt;,
    read_only_accounts_cache: <a class="struct" href="../read_only_accounts_cache/struct.ReadOnlyAccountsCache.html" title="struct solana_runtime::read_only_accounts_cache::ReadOnlyAccountsCache">ReadOnlyAccountsCache</a>,
    recycle_stores: <a class="struct" href="https://doc.rust-lang.org/nightly/std/sync/rwlock/struct.RwLock.html" title="struct std::sync::rwlock::RwLock">RwLock</a>&lt;<a class="struct" href="struct.RecycleStores.html" title="struct solana_runtime::accounts_db::RecycleStores">RecycleStores</a>&gt;,
    pub next_id: <a class="type" href="type.AtomicAppendVecId.html" title="type solana_runtime::accounts_db::AtomicAppendVecId">AtomicAppendVecId</a>,
    pub shrink_candidate_slots: <a class="struct" href="https://doc.rust-lang.org/nightly/std/sync/mutex/struct.Mutex.html" title="struct std::sync::mutex::Mutex">Mutex</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/std/collections/hash/map/struct.HashMap.html" title="struct std::collections::hash::map::HashMap">HashMap</a>&lt;<a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>, <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/sync/struct.Arc.html" title="struct alloc::sync::Arc">Arc</a>&lt;<a class="struct" href="struct.AccountStorageEntry.html" title="struct solana_runtime::accounts_db::AccountStorageEntry">AccountStorageEntry</a>&gt;&gt;&gt;,
    pub(crate) write_version: <a class="struct" href="https://doc.rust-lang.org/nightly/core/sync/atomic/struct.AtomicU64.html" title="struct core::sync::atomic::AtomicU64">AtomicU64</a>,
    pub(crate) paths: <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/std/path/struct.PathBuf.html" title="struct std::path::PathBuf">PathBuf</a>&gt;,
    full_accounts_hash_cache_path: <a class="struct" href="https://doc.rust-lang.org/nightly/std/path/struct.PathBuf.html" title="struct std::path::PathBuf">PathBuf</a>,
    incremental_accounts_hash_cache_path: <a class="struct" href="https://doc.rust-lang.org/nightly/std/path/struct.PathBuf.html" title="struct std::path::PathBuf">PathBuf</a>,
    temp_accounts_hash_cache_path: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="https://docs.rs/tempfile/3.1.0/tempfile/dir/struct.TempDir.html" title="struct tempfile::dir::TempDir">TempDir</a>&gt;,
    pub shrink_paths: <a class="struct" href="https://doc.rust-lang.org/nightly/std/sync/rwlock/struct.RwLock.html" title="struct std::sync::rwlock::RwLock">RwLock</a>&lt;<a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/std/path/struct.PathBuf.html" title="struct std::path::PathBuf">PathBuf</a>&gt;&gt;&gt;,
    pub(crate) temp_paths: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="https://docs.rs/tempfile/3.1.0/tempfile/dir/struct.TempDir.html" title="struct tempfile::dir::TempDir">TempDir</a>&gt;&gt;,
    file_size: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a>,
    pub thread_pool: ThreadPool,
    pub thread_pool_clean: ThreadPool,
    bank_hash_stats: <a class="struct" href="https://doc.rust-lang.org/nightly/std/sync/mutex/struct.Mutex.html" title="struct std::sync::mutex::Mutex">Mutex</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/std/collections/hash/map/struct.HashMap.html" title="struct std::collections::hash::map::HashMap">HashMap</a>&lt;<a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>, <a class="struct" href="struct.BankHashStats.html" title="struct solana_runtime::accounts_db::BankHashStats">BankHashStats</a>&gt;&gt;,
    accounts_delta_hashes: <a class="struct" href="https://doc.rust-lang.org/nightly/std/sync/mutex/struct.Mutex.html" title="struct std::sync::mutex::Mutex">Mutex</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/std/collections/hash/map/struct.HashMap.html" title="struct std::collections::hash::map::HashMap">HashMap</a>&lt;<a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>, <a class="struct" href="../accounts_hash/struct.AccountsDeltaHash.html" title="struct solana_runtime::accounts_hash::AccountsDeltaHash">AccountsDeltaHash</a>&gt;&gt;,
    accounts_hashes: <a class="struct" href="https://doc.rust-lang.org/nightly/std/sync/mutex/struct.Mutex.html" title="struct std::sync::mutex::Mutex">Mutex</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/std/collections/hash/map/struct.HashMap.html" title="struct std::collections::hash::map::HashMap">HashMap</a>&lt;<a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>, (<a class="struct" href="../accounts_hash/struct.AccountsHash.html" title="struct solana_runtime::accounts_hash::AccountsHash">AccountsHash</a>, <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a>)&gt;&gt;,
    incremental_accounts_hashes: <a class="struct" href="https://doc.rust-lang.org/nightly/std/sync/mutex/struct.Mutex.html" title="struct std::sync::mutex::Mutex">Mutex</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/std/collections/hash/map/struct.HashMap.html" title="struct std::collections::hash::map::HashMap">HashMap</a>&lt;<a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>, (<a class="struct" href="../accounts_hash/struct.IncrementalAccountsHash.html" title="struct solana_runtime::accounts_hash::IncrementalAccountsHash">IncrementalAccountsHash</a>, <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a>)&gt;&gt;,
    pub stats: <a class="struct" href="struct.AccountsStats.html" title="struct solana_runtime::accounts_db::AccountsStats">AccountsStats</a>,
    clean_accounts_stats: <a class="struct" href="struct.CleanAccountsStats.html" title="struct solana_runtime::accounts_db::CleanAccountsStats">CleanAccountsStats</a>,
    external_purge_slots_stats: <a class="struct" href="struct.PurgeStats.html" title="struct solana_runtime::accounts_db::PurgeStats">PurgeStats</a>,
    pub(crate) shrink_stats: <a class="struct" href="struct.ShrinkStats.html" title="struct solana_runtime::accounts_db::ShrinkStats">ShrinkStats</a>,
    pub(crate) shrink_ancient_stats: <a class="struct" href="struct.ShrinkAncientStats.html" title="struct solana_runtime::accounts_db::ShrinkAncientStats">ShrinkAncientStats</a>,
    pub cluster_type: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="enum" href="../../solana_sdk/genesis_config/enum.ClusterType.html" title="enum solana_sdk::genesis_config::ClusterType">ClusterType</a>&gt;,
    pub account_indexes: <a class="struct" href="../accounts_index/struct.AccountSecondaryIndexes.html" title="struct solana_runtime::accounts_index::AccountSecondaryIndexes">AccountSecondaryIndexes</a>,
    uncleaned_pubkeys: DashMap&lt;<a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>, <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="../../solana_program/pubkey/struct.Pubkey.html" title="struct solana_program::pubkey::Pubkey">Pubkey</a>&gt;&gt;,
    is_bank_drop_callback_enabled: <a class="struct" href="https://doc.rust-lang.org/nightly/core/sync/atomic/struct.AtomicBool.html" title="struct core::sync::atomic::AtomicBool">AtomicBool</a>,
    remove_unrooted_slots_synchronization: <a class="struct" href="struct.RemoveUnrootedSlotsSynchronization.html" title="struct solana_runtime::accounts_db::RemoveUnrootedSlotsSynchronization">RemoveUnrootedSlotsSynchronization</a>,
    shrink_ratio: <a class="enum" href="enum.AccountShrinkThreshold.html" title="enum solana_runtime::accounts_db::AccountShrinkThreshold">AccountShrinkThreshold</a>,
    dirty_stores: DashMap&lt;<a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>, <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/sync/struct.Arc.html" title="struct alloc::sync::Arc">Arc</a>&lt;<a class="struct" href="struct.AccountStorageEntry.html" title="struct solana_runtime::accounts_db::AccountStorageEntry">AccountStorageEntry</a>&gt;&gt;,
    zero_lamport_accounts_to_purge_after_full_snapshot: DashSet&lt;(<a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>, <a class="struct" href="../../solana_program/pubkey/struct.Pubkey.html" title="struct solana_program::pubkey::Pubkey">Pubkey</a>)&gt;,
    accounts_update_notifier: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="type" href="../accounts_update_notifier_interface/type.AccountsUpdateNotifier.html" title="type solana_runtime::accounts_update_notifier_interface::AccountsUpdateNotifier">AccountsUpdateNotifier</a>&gt;,
    filler_accounts_config: <a class="struct" href="struct.FillerAccountsConfig.html" title="struct solana_runtime::accounts_db::FillerAccountsConfig">FillerAccountsConfig</a>,
    pub filler_account_suffix: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="../../solana_program/pubkey/struct.Pubkey.html" title="struct solana_program::pubkey::Pubkey">Pubkey</a>&gt;,
    pub(crate) active_stats: <a class="struct" href="../active_stats/struct.ActiveStats.html" title="struct solana_runtime::active_stats::ActiveStats">ActiveStats</a>,
    pub filler_accounts_per_slot: <a class="struct" href="https://doc.rust-lang.org/nightly/core/sync/atomic/struct.AtomicU64.html" title="struct core::sync::atomic::AtomicU64">AtomicU64</a>,
    pub filler_account_slots_remaining: <a class="struct" href="https://doc.rust-lang.org/nightly/core/sync/atomic/struct.AtomicU64.html" title="struct core::sync::atomic::AtomicU64">AtomicU64</a>,
    pub(crate) verify_accounts_hash_in_bg: <a class="struct" href="../verify_accounts_hash_in_background/struct.VerifyAccountsHashInBackground.html" title="struct solana_runtime::verify_accounts_hash_in_background::VerifyAccountsHashInBackground">VerifyAccountsHashInBackground</a>,
    pub(crate) log_dead_slots: <a class="struct" href="https://doc.rust-lang.org/nightly/core/sync/atomic/struct.AtomicBool.html" title="struct core::sync::atomic::AtomicBool">AtomicBool</a>,
    exhaustively_verify_refcounts: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a>,
    pub epoch_accounts_hash_manager: <a class="struct" href="../epoch_accounts_hash/manager/struct.Manager.html" title="struct solana_runtime::epoch_accounts_hash::manager::Manager">EpochAccountsHashManager</a>,
    pub(crate) bank_progress: <a class="struct" href="../bank_creation_freezing_progress/struct.BankCreationFreezingProgress.html" title="struct solana_runtime::bank_creation_freezing_progress::BankCreationFreezingProgress">BankCreationFreezingProgress</a>,
</details>}</code></pre><h2 id="fields" class="fields small-section-header">Fields<a href="#fields" class="anchor">§</a></h2><span id="structfield.accounts_index" class="structfield small-section-header"><a href="#structfield.accounts_index" class="anchor field">§</a><code>accounts_index: <a class="struct" href="../accounts_index/struct.AccountsIndex.html" title="struct solana_runtime::accounts_index::AccountsIndex">AccountsIndex</a>&lt;<a class="struct" href="../account_info/struct.AccountInfo.html" title="struct solana_runtime::account_info::AccountInfo">AccountInfo</a>, <a class="struct" href="../account_info/struct.AccountInfo.html" title="struct solana_runtime::account_info::AccountInfo">AccountInfo</a>&gt;</code></span><div class="docblock"><p>Keeps tracks of index into AppendVec on a per slot basis</p>
</div><span id="structfield.accounts_hash_complete_oldest_non_ancient_slot" class="structfield small-section-header"><a href="#structfield.accounts_hash_complete_oldest_non_ancient_slot" class="anchor field">§</a><code>accounts_hash_complete_oldest_non_ancient_slot: <a class="struct" href="https://doc.rust-lang.org/nightly/std/sync/rwlock/struct.RwLock.html" title="struct std::sync::rwlock::RwLock">RwLock</a>&lt;<a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>&gt;</code></span><div class="docblock"><p>oldest slot that is not ancient, relative to the highest slot where accounts hash calculation has completed</p>
</div><span id="structfield.ancient_append_vec_offset" class="structfield small-section-header"><a href="#structfield.ancient_append_vec_offset" class="anchor field">§</a><code>ancient_append_vec_offset: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.i64.html">i64</a>&gt;</code></span><div class="docblock"><p>Some(offset) iff we want to squash old append vecs together into ‘ancient append vecs’
Some(offset) means for slots up to (max_slot - (slots_per_epoch - ‘offset’)), put them in ancient append vecs</p>
</div><span id="structfield.skip_initial_hash_calc" class="structfield small-section-header"><a href="#structfield.skip_initial_hash_calc" class="anchor field">§</a><code>skip_initial_hash_calc: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a></code></span><div class="docblock"><p>true iff we want to skip the initial hash calculation on startup</p>
</div><span id="structfield.storage" class="structfield small-section-header"><a href="#structfield.storage" class="anchor field">§</a><code>storage: <a class="struct" href="../account_storage/struct.AccountStorage.html" title="struct solana_runtime::account_storage::AccountStorage">AccountStorage</a></code></span><span id="structfield.assert_stakes_cache_consistency" class="structfield small-section-header"><a href="#structfield.assert_stakes_cache_consistency" class="anchor field">§</a><code>assert_stakes_cache_consistency: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a></code></span><div class="docblock"><p>from AccountsDbConfig</p>
</div><span id="structfield.create_ancient_storage" class="structfield small-section-header"><a href="#structfield.create_ancient_storage" class="anchor field">§</a><code>create_ancient_storage: <a class="enum" href="enum.CreateAncientStorage.html" title="enum solana_runtime::accounts_db::CreateAncientStorage">CreateAncientStorage</a></code></span><div class="docblock"><p>from AccountsDbConfig</p>
</div><span id="structfield.accounts_cache" class="structfield small-section-header"><a href="#structfield.accounts_cache" class="anchor field">§</a><code>accounts_cache: <a class="struct" href="../accounts_cache/struct.AccountsCache.html" title="struct solana_runtime::accounts_cache::AccountsCache">AccountsCache</a></code></span><span id="structfield.write_cache_limit_bytes" class="structfield small-section-header"><a href="#structfield.write_cache_limit_bytes" class="anchor field">§</a><code>write_cache_limit_bytes: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a>&gt;</code></span><span id="structfield.sender_bg_hasher" class="structfield small-section-header"><a href="#structfield.sender_bg_hasher" class="anchor field">§</a><code>sender_bg_hasher: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;Sender&lt;<a class="type" href="../accounts_cache/type.CachedAccount.html" title="type solana_runtime::accounts_cache::CachedAccount">CachedAccount</a>&gt;&gt;</code></span><span id="structfield.read_only_accounts_cache" class="structfield small-section-header"><a href="#structfield.read_only_accounts_cache" class="anchor field">§</a><code>read_only_accounts_cache: <a class="struct" href="../read_only_accounts_cache/struct.ReadOnlyAccountsCache.html" title="struct solana_runtime::read_only_accounts_cache::ReadOnlyAccountsCache">ReadOnlyAccountsCache</a></code></span><span id="structfield.recycle_stores" class="structfield small-section-header"><a href="#structfield.recycle_stores" class="anchor field">§</a><code>recycle_stores: <a class="struct" href="https://doc.rust-lang.org/nightly/std/sync/rwlock/struct.RwLock.html" title="struct std::sync::rwlock::RwLock">RwLock</a>&lt;<a class="struct" href="struct.RecycleStores.html" title="struct solana_runtime::accounts_db::RecycleStores">RecycleStores</a>&gt;</code></span><span id="structfield.next_id" class="structfield small-section-header"><a href="#structfield.next_id" class="anchor field">§</a><code>next_id: <a class="type" href="type.AtomicAppendVecId.html" title="type solana_runtime::accounts_db::AtomicAppendVecId">AtomicAppendVecId</a></code></span><div class="docblock"><p>distribute the accounts across storage lists</p>
</div><span id="structfield.shrink_candidate_slots" class="structfield small-section-header"><a href="#structfield.shrink_candidate_slots" class="anchor field">§</a><code>shrink_candidate_slots: <a class="struct" href="https://doc.rust-lang.org/nightly/std/sync/mutex/struct.Mutex.html" title="struct std::sync::mutex::Mutex">Mutex</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/std/collections/hash/map/struct.HashMap.html" title="struct std::collections::hash::map::HashMap">HashMap</a>&lt;<a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>, <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/sync/struct.Arc.html" title="struct alloc::sync::Arc">Arc</a>&lt;<a class="struct" href="struct.AccountStorageEntry.html" title="struct solana_runtime::accounts_db::AccountStorageEntry">AccountStorageEntry</a>&gt;&gt;&gt;</code></span><div class="docblock"><p>Set of shrinkable stores organized by map of slot to append_vec_id</p>
</div><span id="structfield.write_version" class="structfield small-section-header"><a href="#structfield.write_version" class="anchor field">§</a><code>write_version: <a class="struct" href="https://doc.rust-lang.org/nightly/core/sync/atomic/struct.AtomicU64.html" title="struct core::sync::atomic::AtomicU64">AtomicU64</a></code></span><span id="structfield.paths" class="structfield small-section-header"><a href="#structfield.paths" class="anchor field">§</a><code>paths: <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/std/path/struct.PathBuf.html" title="struct std::path::PathBuf">PathBuf</a>&gt;</code></span><div class="docblock"><p>Set of storage paths to pick from</p>
</div><span id="structfield.full_accounts_hash_cache_path" class="structfield small-section-header"><a href="#structfield.full_accounts_hash_cache_path" class="anchor field">§</a><code>full_accounts_hash_cache_path: <a class="struct" href="https://doc.rust-lang.org/nightly/std/path/struct.PathBuf.html" title="struct std::path::PathBuf">PathBuf</a></code></span><span id="structfield.incremental_accounts_hash_cache_path" class="structfield small-section-header"><a href="#structfield.incremental_accounts_hash_cache_path" class="anchor field">§</a><code>incremental_accounts_hash_cache_path: <a class="struct" href="https://doc.rust-lang.org/nightly/std/path/struct.PathBuf.html" title="struct std::path::PathBuf">PathBuf</a></code></span><span id="structfield.temp_accounts_hash_cache_path" class="structfield small-section-header"><a href="#structfield.temp_accounts_hash_cache_path" class="anchor field">§</a><code>temp_accounts_hash_cache_path: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="https://docs.rs/tempfile/3.1.0/tempfile/dir/struct.TempDir.html" title="struct tempfile::dir::TempDir">TempDir</a>&gt;</code></span><span id="structfield.shrink_paths" class="structfield small-section-header"><a href="#structfield.shrink_paths" class="anchor field">§</a><code>shrink_paths: <a class="struct" href="https://doc.rust-lang.org/nightly/std/sync/rwlock/struct.RwLock.html" title="struct std::sync::rwlock::RwLock">RwLock</a>&lt;<a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/std/path/struct.PathBuf.html" title="struct std::path::PathBuf">PathBuf</a>&gt;&gt;&gt;</code></span><span id="structfield.temp_paths" class="structfield small-section-header"><a href="#structfield.temp_paths" class="anchor field">§</a><code>temp_paths: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="https://docs.rs/tempfile/3.1.0/tempfile/dir/struct.TempDir.html" title="struct tempfile::dir::TempDir">TempDir</a>&gt;&gt;</code></span><div class="docblock"><p>Directory of paths this accounts_db needs to hold/remove</p>
</div><span id="structfield.file_size" class="structfield small-section-header"><a href="#structfield.file_size" class="anchor field">§</a><code>file_size: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a></code></span><div class="docblock"><p>Starting file size of appendvecs</p>
</div><span id="structfield.thread_pool" class="structfield small-section-header"><a href="#structfield.thread_pool" class="anchor field">§</a><code>thread_pool: ThreadPool</code></span><div class="docblock"><p>Thread pool used for par_iter</p>
</div><span id="structfield.thread_pool_clean" class="structfield small-section-header"><a href="#structfield.thread_pool_clean" class="anchor field">§</a><code>thread_pool_clean: ThreadPool</code></span><span id="structfield.bank_hash_stats" class="structfield small-section-header"><a href="#structfield.bank_hash_stats" class="anchor field">§</a><code>bank_hash_stats: <a class="struct" href="https://doc.rust-lang.org/nightly/std/sync/mutex/struct.Mutex.html" title="struct std::sync::mutex::Mutex">Mutex</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/std/collections/hash/map/struct.HashMap.html" title="struct std::collections::hash::map::HashMap">HashMap</a>&lt;<a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>, <a class="struct" href="struct.BankHashStats.html" title="struct solana_runtime::accounts_db::BankHashStats">BankHashStats</a>&gt;&gt;</code></span><span id="structfield.accounts_delta_hashes" class="structfield small-section-header"><a href="#structfield.accounts_delta_hashes" class="anchor field">§</a><code>accounts_delta_hashes: <a class="struct" href="https://doc.rust-lang.org/nightly/std/sync/mutex/struct.Mutex.html" title="struct std::sync::mutex::Mutex">Mutex</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/std/collections/hash/map/struct.HashMap.html" title="struct std::collections::hash::map::HashMap">HashMap</a>&lt;<a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>, <a class="struct" href="../accounts_hash/struct.AccountsDeltaHash.html" title="struct solana_runtime::accounts_hash::AccountsDeltaHash">AccountsDeltaHash</a>&gt;&gt;</code></span><span id="structfield.accounts_hashes" class="structfield small-section-header"><a href="#structfield.accounts_hashes" class="anchor field">§</a><code>accounts_hashes: <a class="struct" href="https://doc.rust-lang.org/nightly/std/sync/mutex/struct.Mutex.html" title="struct std::sync::mutex::Mutex">Mutex</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/std/collections/hash/map/struct.HashMap.html" title="struct std::collections::hash::map::HashMap">HashMap</a>&lt;<a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>, (<a class="struct" href="../accounts_hash/struct.AccountsHash.html" title="struct solana_runtime::accounts_hash::AccountsHash">AccountsHash</a>, <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a>)&gt;&gt;</code></span><span id="structfield.incremental_accounts_hashes" class="structfield small-section-header"><a href="#structfield.incremental_accounts_hashes" class="anchor field">§</a><code>incremental_accounts_hashes: <a class="struct" href="https://doc.rust-lang.org/nightly/std/sync/mutex/struct.Mutex.html" title="struct std::sync::mutex::Mutex">Mutex</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/std/collections/hash/map/struct.HashMap.html" title="struct std::collections::hash::map::HashMap">HashMap</a>&lt;<a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>, (<a class="struct" href="../accounts_hash/struct.IncrementalAccountsHash.html" title="struct solana_runtime::accounts_hash::IncrementalAccountsHash">IncrementalAccountsHash</a>, <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a>)&gt;&gt;</code></span><span id="structfield.stats" class="structfield small-section-header"><a href="#structfield.stats" class="anchor field">§</a><code>stats: <a class="struct" href="struct.AccountsStats.html" title="struct solana_runtime::accounts_db::AccountsStats">AccountsStats</a></code></span><span id="structfield.clean_accounts_stats" class="structfield small-section-header"><a href="#structfield.clean_accounts_stats" class="anchor field">§</a><code>clean_accounts_stats: <a class="struct" href="struct.CleanAccountsStats.html" title="struct solana_runtime::accounts_db::CleanAccountsStats">CleanAccountsStats</a></code></span><span id="structfield.external_purge_slots_stats" class="structfield small-section-header"><a href="#structfield.external_purge_slots_stats" class="anchor field">§</a><code>external_purge_slots_stats: <a class="struct" href="struct.PurgeStats.html" title="struct solana_runtime::accounts_db::PurgeStats">PurgeStats</a></code></span><span id="structfield.shrink_stats" class="structfield small-section-header"><a href="#structfield.shrink_stats" class="anchor field">§</a><code>shrink_stats: <a class="struct" href="struct.ShrinkStats.html" title="struct solana_runtime::accounts_db::ShrinkStats">ShrinkStats</a></code></span><span id="structfield.shrink_ancient_stats" class="structfield small-section-header"><a href="#structfield.shrink_ancient_stats" class="anchor field">§</a><code>shrink_ancient_stats: <a class="struct" href="struct.ShrinkAncientStats.html" title="struct solana_runtime::accounts_db::ShrinkAncientStats">ShrinkAncientStats</a></code></span><span id="structfield.cluster_type" class="structfield small-section-header"><a href="#structfield.cluster_type" class="anchor field">§</a><code>cluster_type: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="enum" href="../../solana_sdk/genesis_config/enum.ClusterType.html" title="enum solana_sdk::genesis_config::ClusterType">ClusterType</a>&gt;</code></span><span id="structfield.account_indexes" class="structfield small-section-header"><a href="#structfield.account_indexes" class="anchor field">§</a><code>account_indexes: <a class="struct" href="../accounts_index/struct.AccountSecondaryIndexes.html" title="struct solana_runtime::accounts_index::AccountSecondaryIndexes">AccountSecondaryIndexes</a></code></span><span id="structfield.uncleaned_pubkeys" class="structfield small-section-header"><a href="#structfield.uncleaned_pubkeys" class="anchor field">§</a><code>uncleaned_pubkeys: DashMap&lt;<a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>, <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="../../solana_program/pubkey/struct.Pubkey.html" title="struct solana_program::pubkey::Pubkey">Pubkey</a>&gt;&gt;</code></span><div class="docblock"><p>Set of unique keys per slot which is used
to drive clean_accounts
Generated by calculate_accounts_delta_hash</p>
</div><span id="structfield.is_bank_drop_callback_enabled" class="structfield small-section-header"><a href="#structfield.is_bank_drop_callback_enabled" class="anchor field">§</a><code>is_bank_drop_callback_enabled: <a class="struct" href="https://doc.rust-lang.org/nightly/core/sync/atomic/struct.AtomicBool.html" title="struct core::sync::atomic::AtomicBool">AtomicBool</a></code></span><div class="docblock"><p>true if drop_callback is attached to the bank.</p>
</div><span id="structfield.remove_unrooted_slots_synchronization" class="structfield small-section-header"><a href="#structfield.remove_unrooted_slots_synchronization" class="anchor field">§</a><code>remove_unrooted_slots_synchronization: <a class="struct" href="struct.RemoveUnrootedSlotsSynchronization.html" title="struct solana_runtime::accounts_db::RemoveUnrootedSlotsSynchronization">RemoveUnrootedSlotsSynchronization</a></code></span><div class="docblock"><p>Set of slots currently being flushed by <code>flush_slot_cache()</code> or removed
by <code>remove_unrooted_slot()</code>. Used to ensure <code>remove_unrooted_slots(slots)</code>
can safely clear the set of unrooted slots <code>slots</code>.</p>
</div><span id="structfield.shrink_ratio" class="structfield small-section-header"><a href="#structfield.shrink_ratio" class="anchor field">§</a><code>shrink_ratio: <a class="enum" href="enum.AccountShrinkThreshold.html" title="enum solana_runtime::accounts_db::AccountShrinkThreshold">AccountShrinkThreshold</a></code></span><span id="structfield.dirty_stores" class="structfield small-section-header"><a href="#structfield.dirty_stores" class="anchor field">§</a><code>dirty_stores: DashMap&lt;<a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>, <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/sync/struct.Arc.html" title="struct alloc::sync::Arc">Arc</a>&lt;<a class="struct" href="struct.AccountStorageEntry.html" title="struct solana_runtime::accounts_db::AccountStorageEntry">AccountStorageEntry</a>&gt;&gt;</code></span><div class="docblock"><p>Set of stores which are recently rooted or had accounts removed
such that potentially a 0-lamport account update could be present which
means we can remove the account from the index entirely.</p>
</div><span id="structfield.zero_lamport_accounts_to_purge_after_full_snapshot" class="structfield small-section-header"><a href="#structfield.zero_lamport_accounts_to_purge_after_full_snapshot" class="anchor field">§</a><code>zero_lamport_accounts_to_purge_after_full_snapshot: DashSet&lt;(<a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>, <a class="struct" href="../../solana_program/pubkey/struct.Pubkey.html" title="struct solana_program::pubkey::Pubkey">Pubkey</a>)&gt;</code></span><div class="docblock"><p>Zero-lamport accounts that are <em>not</em> purged during clean because they need to stay alive
for incremental snapshot support.</p>
</div><span id="structfield.accounts_update_notifier" class="structfield small-section-header"><a href="#structfield.accounts_update_notifier" class="anchor field">§</a><code>accounts_update_notifier: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="type" href="../accounts_update_notifier_interface/type.AccountsUpdateNotifier.html" title="type solana_runtime::accounts_update_notifier_interface::AccountsUpdateNotifier">AccountsUpdateNotifier</a>&gt;</code></span><div class="docblock"><p>GeyserPlugin accounts update notifier</p>
</div><span id="structfield.filler_accounts_config" class="structfield small-section-header"><a href="#structfield.filler_accounts_config" class="anchor field">§</a><code>filler_accounts_config: <a class="struct" href="struct.FillerAccountsConfig.html" title="struct solana_runtime::accounts_db::FillerAccountsConfig">FillerAccountsConfig</a></code></span><span id="structfield.filler_account_suffix" class="structfield small-section-header"><a href="#structfield.filler_account_suffix" class="anchor field">§</a><code>filler_account_suffix: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="../../solana_program/pubkey/struct.Pubkey.html" title="struct solana_program::pubkey::Pubkey">Pubkey</a>&gt;</code></span><span id="structfield.active_stats" class="structfield small-section-header"><a href="#structfield.active_stats" class="anchor field">§</a><code>active_stats: <a class="struct" href="../active_stats/struct.ActiveStats.html" title="struct solana_runtime::active_stats::ActiveStats">ActiveStats</a></code></span><span id="structfield.filler_accounts_per_slot" class="structfield small-section-header"><a href="#structfield.filler_accounts_per_slot" class="anchor field">§</a><code>filler_accounts_per_slot: <a class="struct" href="https://doc.rust-lang.org/nightly/core/sync/atomic/struct.AtomicU64.html" title="struct core::sync::atomic::AtomicU64">AtomicU64</a></code></span><div class="docblock"><p>number of filler accounts to add for each slot</p>
</div><span id="structfield.filler_account_slots_remaining" class="structfield small-section-header"><a href="#structfield.filler_account_slots_remaining" class="anchor field">§</a><code>filler_account_slots_remaining: <a class="struct" href="https://doc.rust-lang.org/nightly/core/sync/atomic/struct.AtomicU64.html" title="struct core::sync::atomic::AtomicU64">AtomicU64</a></code></span><div class="docblock"><p>number of slots remaining where filler accounts should be added</p>
</div><span id="structfield.verify_accounts_hash_in_bg" class="structfield small-section-header"><a href="#structfield.verify_accounts_hash_in_bg" class="anchor field">§</a><code>verify_accounts_hash_in_bg: <a class="struct" href="../verify_accounts_hash_in_background/struct.VerifyAccountsHashInBackground.html" title="struct solana_runtime::verify_accounts_hash_in_background::VerifyAccountsHashInBackground">VerifyAccountsHashInBackground</a></code></span><span id="structfield.log_dead_slots" class="structfield small-section-header"><a href="#structfield.log_dead_slots" class="anchor field">§</a><code>log_dead_slots: <a class="struct" href="https://doc.rust-lang.org/nightly/core/sync/atomic/struct.AtomicBool.html" title="struct core::sync::atomic::AtomicBool">AtomicBool</a></code></span><div class="docblock"><p>Used to disable logging dead slots during removal.
allow disabling noisy log</p>
</div><span id="structfield.exhaustively_verify_refcounts" class="structfield small-section-header"><a href="#structfield.exhaustively_verify_refcounts" class="anchor field">§</a><code>exhaustively_verify_refcounts: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a></code></span><div class="docblock"><p>debug feature to scan every append vec and verify refcounts are equal</p>
</div><span id="structfield.epoch_accounts_hash_manager" class="structfield small-section-header"><a href="#structfield.epoch_accounts_hash_manager" class="anchor field">§</a><code>epoch_accounts_hash_manager: <a class="struct" href="../epoch_accounts_hash/manager/struct.Manager.html" title="struct solana_runtime::epoch_accounts_hash::manager::Manager">EpochAccountsHashManager</a></code></span><div class="docblock"><p>the full accounts hash calculation as of a predetermined block height ‘N’
to be included in the bank hash at a predetermined block height ‘M’
The cadence is once per epoch, all nodes calculate a full accounts hash as of a known slot calculated using ‘N’
Some time later (to allow for slow calculation time), the bank hash at a slot calculated using ‘M’ includes the full accounts hash.
Thus, the state of all accounts on a validator is known to be correct at least once per epoch.</p>
</div><span id="structfield.bank_progress" class="structfield small-section-header"><a href="#structfield.bank_progress" class="anchor field">§</a><code>bank_progress: <a class="struct" href="../bank_creation_freezing_progress/struct.BankCreationFreezingProgress.html" title="struct solana_runtime::bank_creation_freezing_progress::BankCreationFreezingProgress">BankCreationFreezingProgress</a></code></span><h2 id="implementations" class="small-section-header">Implementations<a href="#implementations" class="anchor">§</a></h2><div id="implementations-list"><details class="toggle implementors-toggle" open><summary><section id="impl-AccountsDb" class="impl"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db/geyser_plugin_utils.rs.html#40-159">source</a><a href="#impl-AccountsDb" class="anchor">§</a><h3 class="code-header">impl <a class="struct" href="struct.AccountsDb.html" title="struct solana_runtime::accounts_db::AccountsDb">AccountsDb</a></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.notify_account_restore_from_snapshot" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db/geyser_plugin_utils.rs.html#44-62">source</a><h4 class="code-header">pub fn <a href="#method.notify_account_restore_from_snapshot" class="fn">notify_account_restore_from_snapshot</a>(&amp;self)</h4></section></summary><div class="docblock"><p>Notify the plugins of of account data when AccountsDb is restored from a snapshot. The data is streamed
in the reverse order of the slots so that an account is only streamed once. At a slot, if the accounts is updated
multiple times only the last write (with highest write_version) is notified.</p>
</div></details><section id="method.notify_account_at_accounts_update" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db/geyser_plugin_utils.rs.html#64-84">source</a><h4 class="code-header">pub fn <a href="#method.notify_account_at_accounts_update" class="fn">notify_account_at_accounts_update</a>&lt;P&gt;(
    &amp;self,
    slot: <a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>,
    account: &amp;<a class="struct" href="../../solana_sdk/account/struct.AccountSharedData.html" title="struct solana_sdk::account::AccountSharedData">AccountSharedData</a>,
    txn: &amp;<a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&amp;<a class="struct" href="../../solana_sdk/transaction/sanitized/struct.SanitizedTransaction.html" title="struct solana_sdk::transaction::sanitized::SanitizedTransaction">SanitizedTransaction</a>&gt;,
    pubkey: &amp;<a class="struct" href="../../solana_program/pubkey/struct.Pubkey.html" title="struct solana_program::pubkey::Pubkey">Pubkey</a>,
    write_version_producer: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;mut P</a>
)<span class="where fmt-newline">where
    P: <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/traits/iterator/trait.Iterator.html" title="trait core::iter::traits::iterator::Iterator">Iterator</a>&lt;Item = <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a>&gt;,</span></h4></section><section id="method.notify_accounts_in_slot" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db/geyser_plugin_utils.rs.html#86-115">source</a><h4 class="code-header">fn <a href="#method.notify_accounts_in_slot" class="fn">notify_accounts_in_slot</a>(
    &amp;self,
    slot: <a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>,
    notified_accounts: &amp;mut <a class="struct" href="https://doc.rust-lang.org/nightly/std/collections/hash/set/struct.HashSet.html" title="struct std::collections::hash::set::HashSet">HashSet</a>&lt;<a class="struct" href="../../solana_program/pubkey/struct.Pubkey.html" title="struct solana_program::pubkey::Pubkey">Pubkey</a>&gt;,
    notify_stats: &amp;mut <a class="struct" href="geyser_plugin_utils/struct.GeyserPluginNotifyAtSnapshotRestoreStats.html" title="struct solana_runtime::accounts_db::geyser_plugin_utils::GeyserPluginNotifyAtSnapshotRestoreStats">GeyserPluginNotifyAtSnapshotRestoreStats</a>
)</h4></section><section id="method.notify_filtered_accounts" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db/geyser_plugin_utils.rs.html#117-158">source</a><h4 class="code-header">fn <a href="#method.notify_filtered_accounts" class="fn">notify_filtered_accounts</a>(
    &amp;self,
    slot: <a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>,
    notified_accounts: &amp;mut <a class="struct" href="https://doc.rust-lang.org/nightly/std/collections/hash/set/struct.HashSet.html" title="struct std::collections::hash::set::HashSet">HashSet</a>&lt;<a class="struct" href="../../solana_program/pubkey/struct.Pubkey.html" title="struct solana_program::pubkey::Pubkey">Pubkey</a>&gt;,
    accounts_to_stream: <a class="struct" href="https://doc.rust-lang.org/nightly/std/collections/hash/map/struct.HashMap.html" title="struct std::collections::hash::map::HashMap">HashMap</a>&lt;<a class="struct" href="../../solana_program/pubkey/struct.Pubkey.html" title="struct solana_program::pubkey::Pubkey">Pubkey</a>, <a class="enum" href="../account_storage/meta/enum.StoredAccountMeta.html" title="enum solana_runtime::account_storage::meta::StoredAccountMeta">StoredAccountMeta</a>&lt;'_&gt;&gt;,
    notify_stats: &amp;mut <a class="struct" href="geyser_plugin_utils/struct.GeyserPluginNotifyAtSnapshotRestoreStats.html" title="struct solana_runtime::accounts_db::geyser_plugin_utils::GeyserPluginNotifyAtSnapshotRestoreStats">GeyserPluginNotifyAtSnapshotRestoreStats</a>
)</h4></section></div></details><details class="toggle implementors-toggle" open><summary><section id="impl-AccountsDb-1" class="impl"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#2372-9437">source</a><a href="#impl-AccountsDb-1" class="anchor">§</a><h3 class="code-header">impl <a class="struct" href="struct.AccountsDb.html" title="struct solana_runtime::accounts_db::AccountsDb">AccountsDb</a></h3></section></summary><div class="impl-items"><section id="associatedconstant.ACCOUNTS_HASH_CACHE_DIR" class="associatedconstant"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#2373">source</a><h4 class="code-header">pub const <a href="#associatedconstant.ACCOUNTS_HASH_CACHE_DIR" class="constant">ACCOUNTS_HASH_CACHE_DIR</a>: &amp;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.str.html">str</a> = &quot;accounts_hash_cache&quot;</h4></section><section id="method.default_for_tests" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#2375-2377">source</a><h4 class="code-header">pub fn <a href="#method.default_for_tests" class="fn">default_for_tests</a>() -&gt; Self</h4></section><section id="method.default_with_accounts_index" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#2379-2466">source</a><h4 class="code-header">fn <a href="#method.default_with_accounts_index" class="fn">default_with_accounts_index</a>(
    accounts_index: <a class="struct" href="../accounts_index/struct.AccountsIndex.html" title="struct solana_runtime::accounts_index::AccountsIndex">AccountsIndex</a>&lt;<a class="struct" href="../account_info/struct.AccountInfo.html" title="struct solana_runtime::account_info::AccountInfo">AccountInfo</a>, <a class="struct" href="../account_info/struct.AccountInfo.html" title="struct solana_runtime::account_info::AccountInfo">AccountInfo</a>&gt;,
    accounts_hash_cache_path: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/std/path/struct.PathBuf.html" title="struct std::path::PathBuf">PathBuf</a>&gt;
) -&gt; Self</h4></section><section id="method.new_for_tests" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#2468-2478">source</a><h4 class="code-header">pub fn <a href="#method.new_for_tests" class="fn">new_for_tests</a>(paths: <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/std/path/struct.PathBuf.html" title="struct std::path::PathBuf">PathBuf</a>&gt;, cluster_type: &amp;<a class="enum" href="../../solana_sdk/genesis_config/enum.ClusterType.html" title="enum solana_sdk::genesis_config::ClusterType">ClusterType</a>) -&gt; Self</h4></section><section id="method.new_for_tests_with_caching" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#2480-2490">source</a><h4 class="code-header">pub fn <a href="#method.new_for_tests_with_caching" class="fn">new_for_tests_with_caching</a>(
    paths: <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/std/path/struct.PathBuf.html" title="struct std::path::PathBuf">PathBuf</a>&gt;,
    cluster_type: &amp;<a class="enum" href="../../solana_sdk/genesis_config/enum.ClusterType.html" title="enum solana_sdk::genesis_config::ClusterType">ClusterType</a>
) -&gt; Self</h4></section><section id="method.new_with_config" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#2492-2578">source</a><h4 class="code-header">pub fn <a href="#method.new_with_config" class="fn">new_with_config</a>(
    paths: <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/std/path/struct.PathBuf.html" title="struct std::path::PathBuf">PathBuf</a>&gt;,
    cluster_type: &amp;<a class="enum" href="../../solana_sdk/genesis_config/enum.ClusterType.html" title="enum solana_sdk::genesis_config::ClusterType">ClusterType</a>,
    account_indexes: <a class="struct" href="../accounts_index/struct.AccountSecondaryIndexes.html" title="struct solana_runtime::accounts_index::AccountSecondaryIndexes">AccountSecondaryIndexes</a>,
    shrink_ratio: <a class="enum" href="enum.AccountShrinkThreshold.html" title="enum solana_runtime::accounts_db::AccountShrinkThreshold">AccountShrinkThreshold</a>,
    accounts_db_config: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="struct.AccountsDbConfig.html" title="struct solana_runtime::accounts_db::AccountsDbConfig">AccountsDbConfig</a>&gt;,
    accounts_update_notifier: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="type" href="../accounts_update_notifier_interface/type.AccountsUpdateNotifier.html" title="type solana_runtime::accounts_update_notifier_interface::AccountsUpdateNotifier">AccountsUpdateNotifier</a>&gt;,
    exit: &amp;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/sync/struct.Arc.html" title="struct alloc::sync::Arc">Arc</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/core/sync/atomic/struct.AtomicBool.html" title="struct core::sync::atomic::AtomicBool">AtomicBool</a>&gt;
) -&gt; Self</h4></section><details class="toggle method-toggle" open><summary><section id="method.init_gradual_filler_accounts" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#2582-2592">source</a><h4 class="code-header">fn <a href="#method.init_gradual_filler_accounts" class="fn">init_gradual_filler_accounts</a>(&amp;self, slots_per_epoch: <a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>)</h4></section></summary><div class="docblock"><p>Gradual means filler accounts will be added over the course of an epoch, during cache flush.
This is in contrast to adding all the filler accounts immediately before the validator starts.</p>
</div></details><section id="method.set_shrink_paths" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#2594-2601">source</a><h4 class="code-header">pub fn <a href="#method.set_shrink_paths" class="fn">set_shrink_paths</a>(&amp;self, paths: <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/std/path/struct.PathBuf.html" title="struct std::path::PathBuf">PathBuf</a>&gt;)</h4></section><section id="method.file_size" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#2603-2605">source</a><h4 class="code-header">pub fn <a href="#method.file_size" class="fn">file_size</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a></h4></section><section id="method.new_single_for_tests" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#2607-2609">source</a><h4 class="code-header">pub fn <a href="#method.new_single_for_tests" class="fn">new_single_for_tests</a>() -&gt; Self</h4></section><section id="method.new_single_for_tests_with_caching" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#2611-2613">source</a><h4 class="code-header">pub fn <a href="#method.new_single_for_tests_with_caching" class="fn">new_single_for_tests_with_caching</a>() -&gt; Self</h4></section><section id="method.new_single_for_tests_with_secondary_indexes" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#2615-2621">source</a><h4 class="code-header">pub fn <a href="#method.new_single_for_tests_with_secondary_indexes" class="fn">new_single_for_tests_with_secondary_indexes</a>(
    secondary_indexes: <a class="struct" href="../accounts_index/struct.AccountSecondaryIndexes.html" title="struct solana_runtime::accounts_index::AccountSecondaryIndexes">AccountSecondaryIndexes</a>
) -&gt; Self</h4></section><section id="method.next_id" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#2623-2627">source</a><h4 class="code-header">fn <a href="#method.next_id" class="fn">next_id</a>(&amp;self) -&gt; <a class="type" href="type.AppendVecId.html" title="type solana_runtime::accounts_db::AppendVecId">AppendVecId</a></h4></section><section id="method.new_storage_entry" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#2629-2631">source</a><h4 class="code-header">fn <a href="#method.new_storage_entry" class="fn">new_storage_entry</a>(
    &amp;self,
    slot: <a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>,
    path: &amp;<a class="struct" href="https://doc.rust-lang.org/nightly/std/path/struct.Path.html" title="struct std::path::Path">Path</a>,
    size: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a>
) -&gt; <a class="struct" href="struct.AccountStorageEntry.html" title="struct solana_runtime::accounts_db::AccountStorageEntry">AccountStorageEntry</a></h4></section><section id="method.expected_cluster_type" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#2633-2636">source</a><h4 class="code-header">pub fn <a href="#method.expected_cluster_type" class="fn">expected_cluster_type</a>(&amp;self) -&gt; <a class="enum" href="../../solana_sdk/genesis_config/enum.ClusterType.html" title="enum solana_sdk::genesis_config::ClusterType">ClusterType</a></h4></section><details class="toggle method-toggle" open><summary><section id="method.clean_accounts_older_than_root" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#2641-2718">source</a><h4 class="code-header">fn <a href="#method.clean_accounts_older_than_root" class="fn">clean_accounts_older_than_root</a>(
    &amp;self,
    purges: <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="../../solana_program/pubkey/struct.Pubkey.html" title="struct solana_program::pubkey::Pubkey">Pubkey</a>&gt;,
    max_clean_root_inclusive: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>&gt;,
    ancient_account_cleans: &amp;<a class="struct" href="https://doc.rust-lang.org/nightly/core/sync/atomic/struct.AtomicU64.html" title="struct core::sync::atomic::AtomicU64">AtomicU64</a>
) -&gt; ((<a class="struct" href="https://doc.rust-lang.org/nightly/std/collections/hash/map/struct.HashMap.html" title="struct std::collections::hash::map::HashMap">HashMap</a>&lt;<a class="struct" href="../../solana_program/pubkey/struct.Pubkey.html" title="struct solana_program::pubkey::Pubkey">Pubkey</a>, <a class="struct" href="https://doc.rust-lang.org/nightly/std/collections/hash/set/struct.HashSet.html" title="struct std::collections::hash::set::HashSet">HashSet</a>&lt;<a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>&gt;&gt;, <a class="struct" href="https://doc.rust-lang.org/nightly/std/collections/hash/map/struct.HashMap.html" title="struct std::collections::hash::map::HashMap">HashMap</a>&lt;<a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>, <a class="struct" href="https://doc.rust-lang.org/nightly/std/collections/hash/set/struct.HashSet.html" title="struct std::collections::hash::set::HashSet">HashSet</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>&gt;&gt;), <a class="struct" href="https://doc.rust-lang.org/nightly/std/collections/hash/set/struct.HashSet.html" title="struct std::collections::hash::set::HashSet">HashSet</a>&lt;<a class="struct" href="../../solana_program/pubkey/struct.Pubkey.html" title="struct solana_program::pubkey::Pubkey">Pubkey</a>&gt;)</h4></section></summary><div class="docblock"><p>Reclaim older states of accounts older than max_clean_root_inclusive for AccountsDb bloat mitigation.
Any accounts which are removed from the accounts index are returned in PubkeysRemovedFromAccountsIndex.
These should NOT be unref’d later from the accounts index.</p>
</div></details><section id="method.do_reset_uncleaned_roots" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#2720-2727">source</a><h4 class="code-header">fn <a href="#method.do_reset_uncleaned_roots" class="fn">do_reset_uncleaned_roots</a>(&amp;self, max_clean_root: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>&gt;)</h4></section><details class="toggle method-toggle" open><summary><section id="method.calc_delete_dependencies" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#2733-2820">source</a><h4 class="code-header">fn <a href="#method.calc_delete_dependencies" class="fn">calc_delete_dependencies</a>(
    purges: &amp;<a class="struct" href="https://doc.rust-lang.org/nightly/std/collections/hash/map/struct.HashMap.html" title="struct std::collections::hash::map::HashMap">HashMap</a>&lt;<a class="struct" href="../../solana_program/pubkey/struct.Pubkey.html" title="struct solana_program::pubkey::Pubkey">Pubkey</a>, (<a class="type" href="../accounts_index/type.SlotList.html" title="type solana_runtime::accounts_index::SlotList">SlotList</a>&lt;<a class="struct" href="../account_info/struct.AccountInfo.html" title="struct solana_runtime::account_info::AccountInfo">AccountInfo</a>&gt;, <a class="type" href="../accounts_index/type.RefCount.html" title="type solana_runtime::accounts_index::RefCount">RefCount</a>)&gt;,
    store_counts: &amp;mut <a class="struct" href="https://doc.rust-lang.org/nightly/std/collections/hash/map/struct.HashMap.html" title="struct std::collections::hash::map::HashMap">HashMap</a>&lt;<a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>, (<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>, <a class="struct" href="https://doc.rust-lang.org/nightly/std/collections/hash/set/struct.HashSet.html" title="struct std::collections::hash::set::HashSet">HashSet</a>&lt;<a class="struct" href="../../solana_program/pubkey/struct.Pubkey.html" title="struct solana_program::pubkey::Pubkey">Pubkey</a>&gt;)&gt;,
    min_slot: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>&gt;
)</h4></section></summary><div class="docblock"><p>increment store_counts to non-zero for all stores that can not be deleted.
a store cannot be deleted if:</p>
<ol>
<li>one of the pubkeys in the store has account info to a store whose store count is not going to zero</li>
<li>a pubkey we were planning to remove is not removing all stores that contain the account</li>
</ol>
</div></details><section id="method.background_hasher" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#2822-2838">source</a><h4 class="code-header">fn <a href="#method.background_hasher" class="fn">background_hasher</a>(receiver: Receiver&lt;<a class="type" href="../accounts_cache/type.CachedAccount.html" title="type solana_runtime::accounts_cache::CachedAccount">CachedAccount</a>&gt;)</h4></section><section id="method.start_background_hasher" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#2840-2849">source</a><h4 class="code-header">fn <a href="#method.start_background_hasher" class="fn">start_background_hasher</a>(&amp;mut self)</h4></section><section id="method.purge_keys_exact" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#2852-2875">source</a><h4 class="code-header">pub(crate) fn <a href="#method.purge_keys_exact" class="fn">purge_keys_exact</a>&lt;'a, C&gt;(
    &amp;'a self,
    pubkey_to_slot_set: impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/traits/iterator/trait.Iterator.html" title="trait core::iter::traits::iterator::Iterator">Iterator</a>&lt;Item = &amp;'a (<a class="struct" href="../../solana_program/pubkey/struct.Pubkey.html" title="struct solana_program::pubkey::Pubkey">Pubkey</a>, C)&gt;
) -&gt; (<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;(<a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>, <a class="struct" href="../account_info/struct.AccountInfo.html" title="struct solana_runtime::account_info::AccountInfo">AccountInfo</a>)&gt;, <a class="struct" href="https://doc.rust-lang.org/nightly/std/collections/hash/set/struct.HashSet.html" title="struct std::collections::hash::set::HashSet">HashSet</a>&lt;<a class="struct" href="../../solana_program/pubkey/struct.Pubkey.html" title="struct solana_program::pubkey::Pubkey">Pubkey</a>&gt;)<span class="where fmt-newline">where
    C: <a class="trait" href="../contains/trait.Contains.html" title="trait solana_runtime::contains::Contains">Contains</a>&lt;'a, <a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>&gt; + 'a,</span></h4></section><section id="method.max_clean_root" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#2877-2889">source</a><h4 class="code-header">fn <a href="#method.max_clean_root" class="fn">max_clean_root</a>(&amp;self, proposed_clean_root: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>&gt;) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>&gt;</h4></section><details class="toggle method-toggle" open><summary><section id="method.get_oldest_slot_within_one_epoch_prior" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#2893-2909">source</a><h4 class="code-header">fn <a href="#method.get_oldest_slot_within_one_epoch_prior" class="fn">get_oldest_slot_within_one_epoch_prior</a>(
    slot: <a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>,
    epoch_schedule: &amp;<a class="struct" href="../../solana_program/epoch_schedule/struct.EpochSchedule.html" title="struct solana_program::epoch_schedule::EpochSchedule">EpochSchedule</a>
) -&gt; <a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a></h4></section></summary><div class="docblock"><p>return <code>slot</code> - slots_in_epoch + 1
The resulting slot is within one epoch length of <code>slot</code></p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.notify_accounts_hash_calculated_complete" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#2913-2934">source</a><h4 class="code-header">pub fn <a href="#method.notify_accounts_hash_calculated_complete" class="fn">notify_accounts_hash_calculated_complete</a>(
    &amp;self,
    completed_slot: <a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>,
    epoch_schedule: &amp;<a class="struct" href="../../solana_program/epoch_schedule/struct.EpochSchedule.html" title="struct solana_program::epoch_schedule::EpochSchedule">EpochSchedule</a>
)</h4></section></summary><div class="docblock"><p>hash calc is completed as of ‘slot’
so, any process that wants to take action on really old slots can now proceed up to ‘completed_slot’-slots per epoch</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.get_accounts_hash_complete_oldest_non_ancient_slot" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#2938-2947">source</a><h4 class="code-header">fn <a href="#method.get_accounts_hash_complete_oldest_non_ancient_slot" class="fn">get_accounts_hash_complete_oldest_non_ancient_slot</a>(&amp;self) -&gt; <a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a></h4></section></summary><div class="docblock"><p>get the oldest slot that is within one epoch of the highest slot that has been used for hash calculation.
The slot will have been offset by <code>self.ancient_append_vec_offset</code></p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.collect_uncleaned_slots_up_to_slot" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#2952-2960">source</a><h4 class="code-header">fn <a href="#method.collect_uncleaned_slots_up_to_slot" class="fn">collect_uncleaned_slots_up_to_slot</a>(
    &amp;self,
    max_slot_inclusive: <a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>
) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>&gt;</h4></section></summary><div class="docblock"><p>Collect all the uncleaned slots, up to a max slot</p>
<p>Search through the uncleaned Pubkeys and return all the slots, up to a maximum slot.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.remove_uncleaned_slots_and_collect_pubkeys" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#2966-2978">source</a><h4 class="code-header">fn <a href="#method.remove_uncleaned_slots_and_collect_pubkeys" class="fn">remove_uncleaned_slots_and_collect_pubkeys</a>(
    &amp;self,
    uncleaned_slots: <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>&gt;
) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="../../solana_program/pubkey/struct.Pubkey.html" title="struct solana_program::pubkey::Pubkey">Pubkey</a>&gt;&gt;</h4></section></summary><div class="docblock"><p>Remove <code>slots</code> from <code>uncleaned_pubkeys</code> and collect all pubkeys</p>
<p>For each slot in the list of uncleaned slots, remove it from the <code>uncleaned_pubkeys</code> Map
and collect all the pubkeys to return.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.remove_uncleaned_slots_and_collect_pubkeys_up_to_slot" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#2982-2988">source</a><h4 class="code-header">fn <a href="#method.remove_uncleaned_slots_and_collect_pubkeys_up_to_slot" class="fn">remove_uncleaned_slots_and_collect_pubkeys_up_to_slot</a>(
    &amp;self,
    max_slot_inclusive: <a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>
) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="../../solana_program/pubkey/struct.Pubkey.html" title="struct solana_program::pubkey::Pubkey">Pubkey</a>&gt;&gt;</h4></section></summary><div class="docblock"><p>Remove uncleaned slots, up to a maximum slot, and return the collected pubkeys</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.construct_candidate_clean_keys" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#2994-3107">source</a><h4 class="code-header">fn <a href="#method.construct_candidate_clean_keys" class="fn">construct_candidate_clean_keys</a>(
    &amp;self,
    max_clean_root_inclusive: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>&gt;,
    is_startup: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a>,
    last_full_snapshot_slot: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>&gt;,
    timings: &amp;mut <a class="struct" href="struct.CleanKeyTimings.html" title="struct solana_runtime::accounts_db::CleanKeyTimings">CleanKeyTimings</a>
) -&gt; (<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="../../solana_program/pubkey/struct.Pubkey.html" title="struct solana_program::pubkey::Pubkey">Pubkey</a>&gt;, <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>&gt;)</h4></section></summary><div class="docblock"><p>Construct a vec of pubkeys for cleaning from:
uncleaned_pubkeys - the delta set of updated pubkeys in rooted slots from the last clean
dirty_stores - set of stores which had accounts removed or recently rooted
returns the minimum slot we encountered</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.clean_accounts_for_tests" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#3110-3112">source</a><h4 class="code-header">pub fn <a href="#method.clean_accounts_for_tests" class="fn">clean_accounts_for_tests</a>(&amp;self)</h4></section></summary><div class="docblock"><p>Call clean_accounts() with the common parameters that tests/benches use.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.exhaustively_verify_refcounts" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#3116-3174">source</a><h4 class="code-header">fn <a href="#method.exhaustively_verify_refcounts" class="fn">exhaustively_verify_refcounts</a>(&amp;self, max_slot_inclusive: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>&gt;)</h4></section></summary><div class="docblock"><p>called with cli argument to verify refcounts are correct on all accounts
this is very slow</p>
</div></details><section id="method.clean_accounts" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#3180-3566">source</a><h4 class="code-header">pub fn <a href="#method.clean_accounts" class="fn">clean_accounts</a>(
    &amp;self,
    max_clean_root_inclusive: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>&gt;,
    is_startup: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a>,
    last_full_snapshot_slot: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>&gt;
)</h4></section><details class="toggle method-toggle" open><summary><section id="method.handle_reclaims" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#3600-3651">source</a><h4 class="code-header">fn <a href="#method.handle_reclaims" class="fn">handle_reclaims</a>&lt;'a, I&gt;(
    &amp;'a self,
    reclaims: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;I&gt;,
    expected_single_dead_slot: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>&gt;,
    purge_stats_and_reclaim_result: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;(&amp;<a class="struct" href="struct.PurgeStats.html" title="struct solana_runtime::accounts_db::PurgeStats">PurgeStats</a>, &amp;mut (<a class="struct" href="https://doc.rust-lang.org/nightly/std/collections/hash/map/struct.HashMap.html" title="struct std::collections::hash::map::HashMap">HashMap</a>&lt;<a class="struct" href="../../solana_program/pubkey/struct.Pubkey.html" title="struct solana_program::pubkey::Pubkey">Pubkey</a>, <a class="struct" href="https://doc.rust-lang.org/nightly/std/collections/hash/set/struct.HashSet.html" title="struct std::collections::hash::set::HashSet">HashSet</a>&lt;<a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>&gt;&gt;, <a class="struct" href="https://doc.rust-lang.org/nightly/std/collections/hash/map/struct.HashMap.html" title="struct std::collections::hash::map::HashMap">HashMap</a>&lt;<a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>, <a class="struct" href="https://doc.rust-lang.org/nightly/std/collections/hash/set/struct.HashSet.html" title="struct std::collections::hash::set::HashSet">HashSet</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>&gt;&gt;))&gt;,
    reset_accounts: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a>,
    pubkeys_removed_from_accounts_index: &amp;<a class="struct" href="https://doc.rust-lang.org/nightly/std/collections/hash/set/struct.HashSet.html" title="struct std::collections::hash::set::HashSet">HashSet</a>&lt;<a class="struct" href="../../solana_program/pubkey/struct.Pubkey.html" title="struct solana_program::pubkey::Pubkey">Pubkey</a>&gt;
)<span class="where fmt-newline">where
    I: <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/traits/iterator/trait.Iterator.html" title="trait core::iter::traits::iterator::Iterator">Iterator</a>&lt;Item = &amp;'a (<a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>, <a class="struct" href="../account_info/struct.AccountInfo.html" title="struct solana_runtime::account_info::AccountInfo">AccountInfo</a>)&gt;,</span></h4></section></summary><div class="docblock"><p>Removes the accounts in the input <code>reclaims</code> from the tracked “count” of
their corresponding  storage entries. Note this does not actually free
the memory from the storage entries until all the storage entries for
a given slot <code>S</code> are empty, at which point <code>process_dead_slots</code> will
remove all the storage entries for <code>S</code>.</p>
<h5 id="arguments"><a href="#arguments">Arguments</a></h5>
<ul>
<li>
<p><code>reclaims</code> - The accounts to remove from storage entries’ “count”. Note here
that we should not remove cache entries, only entries for accounts actually
stored in a storage entry.</p>
</li>
<li>
<p><code>expected_single_dead_slot</code> - A correctness assertion. If this is equal to <code>Some(S)</code>,
then the function will check that the only slot being cleaned up in <code>reclaims</code>
is the slot == <code>S</code>. This is true for instance when <code>handle_reclaims</code> is called
from store or slot shrinking, as those should only touch the slot they are
currently storing to or shrinking.</p>
</li>
<li>
<p><code>purge_stats_and_reclaim_result</code> - Option containing <code>purge_stats</code> and <code>reclaim_result</code>.
<code>purge_stats</code>. <code>purge_stats</code> are stats used to track performance of purging dead slots.
<code>reclaim_result</code> contains information about accounts that were removed from storage,
does not include accounts that were removed from the cache.
If <code>purge_stats_and_reclaim_result.is_none()</code>, this implies there can be no dead slots
that happen as a result of this call, and the function will check that no slots are
cleaned up/removed via <code>process_dead_slots</code>. For instance, on store, no slots should
be cleaned up, but during the background clean accounts purges accounts from old rooted
slots, so outdated slots may be removed.</p>
</li>
<li>
<p><code>reset_accounts</code> - Reset the append_vec store when the store is dead (count==0)
From the clean and shrink paths it should be false since there may be an in-progress
hash operation and the stores may hold accounts that need to be unref’ed.</p>
</li>
<li>
<p><code>pubkeys_removed_from_accounts_index</code> - These keys have already been removed from the accounts index
and should not be unref’d. If they exist in the accounts index, they are NEW.</p>
</li>
</ul>
</div></details><details class="toggle method-toggle" open><summary><section id="method.filter_zero_lamport_clean_for_incremental_snapshots" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#3674-3727">source</a><h4 class="code-header">fn <a href="#method.filter_zero_lamport_clean_for_incremental_snapshots" class="fn">filter_zero_lamport_clean_for_incremental_snapshots</a>(
    &amp;self,
    max_clean_root_inclusive: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>&gt;,
    last_full_snapshot_slot: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>&gt;,
    store_counts: &amp;<a class="struct" href="https://doc.rust-lang.org/nightly/std/collections/hash/map/struct.HashMap.html" title="struct std::collections::hash::map::HashMap">HashMap</a>&lt;<a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>, (<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>, <a class="struct" href="https://doc.rust-lang.org/nightly/std/collections/hash/set/struct.HashSet.html" title="struct std::collections::hash::set::HashSet">HashSet</a>&lt;<a class="struct" href="../../solana_program/pubkey/struct.Pubkey.html" title="struct solana_program::pubkey::Pubkey">Pubkey</a>&gt;)&gt;,
    purges_zero_lamports: &amp;mut <a class="struct" href="https://doc.rust-lang.org/nightly/std/collections/hash/map/struct.HashMap.html" title="struct std::collections::hash::map::HashMap">HashMap</a>&lt;<a class="struct" href="../../solana_program/pubkey/struct.Pubkey.html" title="struct solana_program::pubkey::Pubkey">Pubkey</a>, (<a class="type" href="../accounts_index/type.SlotList.html" title="type solana_runtime::accounts_index::SlotList">SlotList</a>&lt;<a class="struct" href="../account_info/struct.AccountInfo.html" title="struct solana_runtime::account_info::AccountInfo">AccountInfo</a>&gt;, <a class="type" href="../accounts_index/type.RefCount.html" title="type solana_runtime::accounts_index::RefCount">RefCount</a>)&gt;
)</h4></section></summary><div class="docblock"><p>During clean, some zero-lamport accounts that are marked for purge should <em>not</em> actually
get purged.  Filter out those accounts here by removing them from ‘purges_zero_lamports’</p>
<p>When using incremental snapshots, do not purge zero-lamport accounts if the slot is higher
than the last full snapshot slot.  This is to protect against the following scenario:</p>
<div class="example-wrap"><pre class="language-text"><code>A full snapshot is taken, including account &#39;alpha&#39; with a non-zero balance.  In a later slot,
alpha&#39;s lamports go to zero.  Eventually, cleaning runs.  Without this change,
alpha would be cleaned up and removed completely. Finally, an incremental snapshot is taken.

Later, the incremental and full snapshots are used to rebuild the bank and accounts
database (e.x. if the node restarts).  The full snapshot _does_ contain alpha
and its balance is non-zero.  However, since alpha was cleaned up in a slot after the full
snapshot slot (due to having zero lamports), the incremental snapshot would not contain alpha.
Thus, the accounts database will contain the old, incorrect info for alpha with a non-zero
balance.  Very bad!
</code></pre></div>
<p>This filtering step can be skipped if there is no <code>last_full_snapshot_slot</code>, or if the
<code>max_clean_root_inclusive</code> is less-than-or-equal-to the <code>last_full_snapshot_slot</code>.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.process_dead_slots" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#3733-3771">source</a><h4 class="code-header">fn <a href="#method.process_dead_slots" class="fn">process_dead_slots</a>(
    &amp;self,
    dead_slots: &amp;<a class="struct" href="https://doc.rust-lang.org/nightly/std/collections/hash/set/struct.HashSet.html" title="struct std::collections::hash::set::HashSet">HashSet</a>&lt;<a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>&gt;,
    purged_account_slots: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&amp;mut <a class="struct" href="https://doc.rust-lang.org/nightly/std/collections/hash/map/struct.HashMap.html" title="struct std::collections::hash::map::HashMap">HashMap</a>&lt;<a class="struct" href="../../solana_program/pubkey/struct.Pubkey.html" title="struct solana_program::pubkey::Pubkey">Pubkey</a>, <a class="struct" href="https://doc.rust-lang.org/nightly/std/collections/hash/set/struct.HashSet.html" title="struct std::collections::hash::set::HashSet">HashSet</a>&lt;<a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>&gt;&gt;&gt;,
    purge_stats: &amp;<a class="struct" href="struct.PurgeStats.html" title="struct solana_runtime::accounts_db::PurgeStats">PurgeStats</a>,
    pubkeys_removed_from_accounts_index: &amp;<a class="struct" href="https://doc.rust-lang.org/nightly/std/collections/hash/set/struct.HashSet.html" title="struct std::collections::hash::set::HashSet">HashSet</a>&lt;<a class="struct" href="../../solana_program/pubkey/struct.Pubkey.html" title="struct solana_program::pubkey::Pubkey">Pubkey</a>&gt;
)</h4></section></summary><div class="docblock"><p>pubkeys_removed_from_accounts_index - These keys have already been removed from the accounts index
and should not be unref’d. If they exist in the accounts index, they are NEW.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.load_accounts_index_for_shrink" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#3777-3835">source</a><h4 class="code-header">fn <a href="#method.load_accounts_index_for_shrink" class="fn">load_accounts_index_for_shrink</a>&lt;'a, T: <a class="trait" href="trait.ShrinkCollectRefs.html" title="trait solana_runtime::accounts_db::ShrinkCollectRefs">ShrinkCollectRefs</a>&lt;'a&gt;&gt;(
    &amp;self,
    accounts: &amp;'a [<a class="enum" href="../account_storage/meta/enum.StoredAccountMeta.html" title="enum solana_runtime::account_storage::meta::StoredAccountMeta">StoredAccountMeta</a>&lt;'a&gt;],
    stats: &amp;<a class="struct" href="struct.ShrinkStats.html" title="struct solana_runtime::accounts_db::ShrinkStats">ShrinkStats</a>,
    slot_to_shrink: <a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>
) -&gt; <a class="struct" href="struct.LoadAccountsIndexForShrink.html" title="struct solana_runtime::accounts_db::LoadAccountsIndexForShrink">LoadAccountsIndexForShrink</a>&lt;'a, T&gt;</h4></section></summary><div class="docblock"><p>load the account index entry for the first <code>count</code> items in <code>accounts</code>
store a reference to all alive accounts in <code>alive_accounts</code>
unref and optionally store a reference to all pubkeys that are in the index, but dead in <code>unrefed_pubkeys</code>
return sum of account size for all alive accounts</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.get_unique_accounts_from_storage" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#3839-3857">source</a><h4 class="code-header">pub(crate) fn <a href="#method.get_unique_accounts_from_storage" class="fn">get_unique_accounts_from_storage</a>&lt;'a&gt;(
    &amp;self,
    store: &amp;'a <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/sync/struct.Arc.html" title="struct alloc::sync::Arc">Arc</a>&lt;<a class="struct" href="struct.AccountStorageEntry.html" title="struct solana_runtime::accounts_db::AccountStorageEntry">AccountStorageEntry</a>&gt;
) -&gt; <a class="struct" href="struct.GetUniqueAccountsResult.html" title="struct solana_runtime::accounts_db::GetUniqueAccountsResult">GetUniqueAccountsResult</a>&lt;'a&gt;</h4></section></summary><div class="docblock"><p>get all accounts in all the storages passed in
for duplicate pubkeys, the account with the highest write_value is returned</p>
</div></details><section id="method.get_unique_accounts_from_storage_for_shrink" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#3859-3870">source</a><h4 class="code-header">pub(crate) fn <a href="#method.get_unique_accounts_from_storage_for_shrink" class="fn">get_unique_accounts_from_storage_for_shrink</a>&lt;'a&gt;(
    &amp;self,
    store: &amp;'a <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/sync/struct.Arc.html" title="struct alloc::sync::Arc">Arc</a>&lt;<a class="struct" href="struct.AccountStorageEntry.html" title="struct solana_runtime::accounts_db::AccountStorageEntry">AccountStorageEntry</a>&gt;,
    stats: &amp;<a class="struct" href="struct.ShrinkStats.html" title="struct solana_runtime::accounts_db::ShrinkStats">ShrinkStats</a>
) -&gt; <a class="struct" href="struct.GetUniqueAccountsResult.html" title="struct solana_runtime::accounts_db::GetUniqueAccountsResult">GetUniqueAccountsResult</a>&lt;'a&gt;</h4></section><details class="toggle method-toggle" open><summary><section id="method.shrink_collect" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#3874-3961">source</a><h4 class="code-header">pub(crate) fn <a href="#method.shrink_collect" class="fn">shrink_collect</a>&lt;'a: 'b, 'b, T: <a class="trait" href="trait.ShrinkCollectRefs.html" title="trait solana_runtime::accounts_db::ShrinkCollectRefs">ShrinkCollectRefs</a>&lt;'b&gt;&gt;(
    &amp;self,
    store: &amp;'a <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/sync/struct.Arc.html" title="struct alloc::sync::Arc">Arc</a>&lt;<a class="struct" href="struct.AccountStorageEntry.html" title="struct solana_runtime::accounts_db::AccountStorageEntry">AccountStorageEntry</a>&gt;,
    unique_accounts: &amp;'b <a class="struct" href="struct.GetUniqueAccountsResult.html" title="struct solana_runtime::accounts_db::GetUniqueAccountsResult">GetUniqueAccountsResult</a>&lt;'b&gt;,
    stats: &amp;<a class="struct" href="struct.ShrinkStats.html" title="struct solana_runtime::accounts_db::ShrinkStats">ShrinkStats</a>
) -&gt; <a class="struct" href="struct.ShrinkCollect.html" title="struct solana_runtime::accounts_db::ShrinkCollect">ShrinkCollect</a>&lt;'b, T&gt;</h4></section></summary><div class="docblock"><p>shared code for shrinking normal slots and combining into ancient append vecs
note ‘unique_accounts’ is passed by ref so we can return references to data within it, avoiding self-references</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.remove_old_stores_shrink" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#3965-3996">source</a><h4 class="code-header">pub(crate) fn <a href="#method.remove_old_stores_shrink" class="fn">remove_old_stores_shrink</a>&lt;'a, T: <a class="trait" href="trait.ShrinkCollectRefs.html" title="trait solana_runtime::accounts_db::ShrinkCollectRefs">ShrinkCollectRefs</a>&lt;'a&gt;&gt;(
    &amp;self,
    shrink_collect: &amp;<a class="struct" href="struct.ShrinkCollect.html" title="struct solana_runtime::accounts_db::ShrinkCollect">ShrinkCollect</a>&lt;'a, T&gt;,
    stats: &amp;<a class="struct" href="struct.ShrinkStats.html" title="struct solana_runtime::accounts_db::ShrinkStats">ShrinkStats</a>,
    shrink_in_progress: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="../account_storage/struct.ShrinkInProgress.html" title="struct solana_runtime::account_storage::ShrinkInProgress">ShrinkInProgress</a>&lt;'_&gt;&gt;,
    shrink_can_be_active: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a>
)</h4></section></summary><div class="docblock"><p>common code from shrink and combine_ancient_slots
get rid of all original store_ids in the slot</p>
</div></details><section id="method.do_shrink_slot_store" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#3998-4086">source</a><h4 class="code-header">fn <a href="#method.do_shrink_slot_store" class="fn">do_shrink_slot_store</a>(&amp;self, slot: <a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>, store: &amp;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/sync/struct.Arc.html" title="struct alloc::sync::Arc">Arc</a>&lt;<a class="struct" href="struct.AccountStorageEntry.html" title="struct solana_runtime::accounts_db::AccountStorageEntry">AccountStorageEntry</a>&gt;)</h4></section><section id="method.update_shrink_stats" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#4088-4111">source</a><h4 class="code-header">pub(crate) fn <a href="#method.update_shrink_stats" class="fn">update_shrink_stats</a>(
    shrink_stats: &amp;<a class="struct" href="struct.ShrinkStats.html" title="struct solana_runtime::accounts_db::ShrinkStats">ShrinkStats</a>,
    stats_sub: <a class="struct" href="struct.ShrinkStatsSub.html" title="struct solana_runtime::accounts_db::ShrinkStatsSub">ShrinkStatsSub</a>
)</h4></section><details class="toggle method-toggle" open><summary><section id="method.mark_dirty_dead_stores" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#4117-4143">source</a><h4 class="code-header">pub(crate) fn <a href="#method.mark_dirty_dead_stores" class="fn">mark_dirty_dead_stores</a>(
    &amp;self,
    slot: <a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>,
    add_dirty_stores: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a>,
    shrink_in_progress: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="../account_storage/struct.ShrinkInProgress.html" title="struct solana_runtime::account_storage::ShrinkInProgress">ShrinkInProgress</a>&lt;'_&gt;&gt;,
    shrink_can_be_active: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a>
) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/sync/struct.Arc.html" title="struct alloc::sync::Arc">Arc</a>&lt;<a class="struct" href="struct.AccountStorageEntry.html" title="struct solana_runtime::accounts_db::AccountStorageEntry">AccountStorageEntry</a>&gt;&gt;</h4></section></summary><div class="docblock"><p>get stores for ‘slot’
Drop ‘shrink_in_progress’, which will cause the old store to be removed from the storage map.
For ‘shrink_in_progress’.‘old_storage’ which is not retained, insert in ‘dead_storages’ and optionally ‘dirty_stores’
This is the end of the life cycle of <code>shrink_in_progress</code>.</p>
</div></details><section id="method.drop_or_recycle_stores" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#4145-4172">source</a><h4 class="code-header">pub(crate) fn <a href="#method.drop_or_recycle_stores" class="fn">drop_or_recycle_stores</a>(
    &amp;self,
    dead_storages: <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/sync/struct.Arc.html" title="struct alloc::sync::Arc">Arc</a>&lt;<a class="struct" href="struct.AccountStorageEntry.html" title="struct solana_runtime::accounts_db::AccountStorageEntry">AccountStorageEntry</a>&gt;&gt;,
    stats: &amp;<a class="struct" href="struct.ShrinkStats.html" title="struct solana_runtime::accounts_db::ShrinkStats">ShrinkStats</a>
)</h4></section><details class="toggle method-toggle" open><summary><section id="method.get_store_for_shrink" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#4175-4191">source</a><h4 class="code-header">pub(crate) fn <a href="#method.get_store_for_shrink" class="fn">get_store_for_shrink</a>(
    &amp;self,
    slot: <a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>,
    aligned_total: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a>
) -&gt; <a class="struct" href="../account_storage/struct.ShrinkInProgress.html" title="struct solana_runtime::account_storage::ShrinkInProgress">ShrinkInProgress</a>&lt;'_&gt;</h4></section></summary><div class="docblock"><p>return a store that can contain ‘aligned_total’ bytes</p>
</div></details><section id="method.shrink_slot_forced" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#4195-4207">source</a><h4 class="code-header">fn <a href="#method.shrink_slot_forced" class="fn">shrink_slot_forced</a>(&amp;self, slot: <a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>)</h4></section><section id="method.all_slots_in_storage" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#4209-4211">source</a><h4 class="code-header">fn <a href="#method.all_slots_in_storage" class="fn">all_slots_in_storage</a>(&amp;self) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>&gt;</h4></section><details class="toggle method-toggle" open><summary><section id="method.select_candidates_by_total_usage" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#4218-4304">source</a><h4 class="code-header">fn <a href="#method.select_candidates_by_total_usage" class="fn">select_candidates_by_total_usage</a>(
    shrink_slots: &amp;<a class="struct" href="https://doc.rust-lang.org/nightly/std/collections/hash/map/struct.HashMap.html" title="struct std::collections::hash::map::HashMap">HashMap</a>&lt;<a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>, <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/sync/struct.Arc.html" title="struct alloc::sync::Arc">Arc</a>&lt;<a class="struct" href="struct.AccountStorageEntry.html" title="struct solana_runtime::accounts_db::AccountStorageEntry">AccountStorageEntry</a>&gt;&gt;,
    shrink_ratio: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.f64.html">f64</a>,
    oldest_non_ancient_slot: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>&gt;
) -&gt; (<a class="struct" href="https://doc.rust-lang.org/nightly/std/collections/hash/map/struct.HashMap.html" title="struct std::collections::hash::map::HashMap">HashMap</a>&lt;<a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>, <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/sync/struct.Arc.html" title="struct alloc::sync::Arc">Arc</a>&lt;<a class="struct" href="struct.AccountStorageEntry.html" title="struct solana_runtime::accounts_db::AccountStorageEntry">AccountStorageEntry</a>&gt;&gt;, <a class="struct" href="https://doc.rust-lang.org/nightly/std/collections/hash/map/struct.HashMap.html" title="struct std::collections::hash::map::HashMap">HashMap</a>&lt;<a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>, <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/sync/struct.Arc.html" title="struct alloc::sync::Arc">Arc</a>&lt;<a class="struct" href="struct.AccountStorageEntry.html" title="struct solana_runtime::accounts_db::AccountStorageEntry">AccountStorageEntry</a>&gt;&gt;)</h4></section></summary><div class="docblock"><p>Given the input <code>ShrinkCandidates</code>, this function sorts the stores by their alive ratio
in increasing order with the most sparse entries in the front. It will then simulate the
shrinking by working on the most sparse entries first and if the overall alive ratio is
achieved, it will stop and return the filtered-down candidates and the candidates which
are skipped in this round and might be eligible for the future shrink.</p>
</div></details><section id="method.get_roots_less_than" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#4306-4313">source</a><h4 class="code-header">fn <a href="#method.get_roots_less_than" class="fn">get_roots_less_than</a>(&amp;self, slot: <a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>&gt;</h4></section><section id="method.get_prior_root" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#4315-4322">source</a><h4 class="code-header">fn <a href="#method.get_prior_root" class="fn">get_prior_root</a>(&amp;self, slot: <a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>&gt;</h4></section><details class="toggle method-toggle" open><summary><section id="method.get_sorted_potential_ancient_slots" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#4327-4332">source</a><h4 class="code-header">fn <a href="#method.get_sorted_potential_ancient_slots" class="fn">get_sorted_potential_ancient_slots</a>(&amp;self) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>&gt;</h4></section></summary><div class="docblock"><p>return all slots that are more than one epoch old and thus could already be an ancient append vec
or which could need to be combined into a new or existing ancient append vec
offset is used to combine newer slots than we normally would. This is designed to be used for testing.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.shrink_ancient_slots" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#4336-4353">source</a><h4 class="code-header">fn <a href="#method.shrink_ancient_slots" class="fn">shrink_ancient_slots</a>(&amp;self)</h4></section></summary><div class="docblock"><p>get a sorted list of slots older than an epoch
squash those slots into ancient append vecs</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.get_keys_to_unref_ancient" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#4373-4389">source</a><h4 class="code-header">fn <a href="#method.get_keys_to_unref_ancient" class="fn">get_keys_to_unref_ancient</a>&lt;'a&gt;(
    accounts: &amp;'a [&amp;<a class="enum" href="../account_storage/meta/enum.StoredAccountMeta.html" title="enum solana_runtime::account_storage::meta::StoredAccountMeta">StoredAccountMeta</a>&lt;'_&gt;],
    existing_ancient_pubkeys: &amp;mut <a class="struct" href="https://doc.rust-lang.org/nightly/std/collections/hash/set/struct.HashSet.html" title="struct std::collections::hash::set::HashSet">HashSet</a>&lt;<a class="struct" href="../../solana_program/pubkey/struct.Pubkey.html" title="struct solana_program::pubkey::Pubkey">Pubkey</a>&gt;
) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/std/collections/hash/set/struct.HashSet.html" title="struct std::collections::hash::set::HashSet">HashSet</a>&lt;&amp;'a <a class="struct" href="../../solana_program/pubkey/struct.Pubkey.html" title="struct solana_program::pubkey::Pubkey">Pubkey</a>&gt;</h4></section></summary><div class="docblock"><p>‘accounts’ that exist in the current slot we are combining into a different ancient slot
‘existing_ancient_pubkeys’: pubkeys that exist currently in the ancient append vec slot
returns the pubkeys that are in ‘accounts’ that are already in ‘existing_ancient_pubkeys’
Also updated ‘existing_ancient_pubkeys’ to include all pubkeys in ‘accounts’ since they will soon be written into the ancient slot.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.unref_accounts_already_in_storage" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#4394-4406">source</a><h4 class="code-header">fn <a href="#method.unref_accounts_already_in_storage" class="fn">unref_accounts_already_in_storage</a>(
    &amp;self,
    accounts: &amp;[&amp;<a class="enum" href="../account_storage/meta/enum.StoredAccountMeta.html" title="enum solana_runtime::account_storage::meta::StoredAccountMeta">StoredAccountMeta</a>&lt;'_&gt;],
    existing_ancient_pubkeys: &amp;mut <a class="struct" href="https://doc.rust-lang.org/nightly/std/collections/hash/set/struct.HashSet.html" title="struct std::collections::hash::set::HashSet">HashSet</a>&lt;<a class="struct" href="../../solana_program/pubkey/struct.Pubkey.html" title="struct solana_program::pubkey::Pubkey">Pubkey</a>&gt;
)</h4></section></summary><div class="docblock"><p>‘accounts’ are about to be appended to an ancient append vec. That ancient append vec may already have some accounts.
Unref each account in ‘accounts’ that already exists in ‘existing_ancient_pubkeys’.
As a side effect, on exit, ‘existing_ancient_pubkeys’ will now contain all pubkeys in ‘accounts’.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.get_storage_to_move_to_ancient_append_vec" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#4411-4428">source</a><h4 class="code-header">fn <a href="#method.get_storage_to_move_to_ancient_append_vec" class="fn">get_storage_to_move_to_ancient_append_vec</a>(
    &amp;self,
    slot: <a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>,
    current_ancient: &amp;mut <a class="struct" href="struct.CurrentAncientAppendVec.html" title="struct solana_runtime::accounts_db::CurrentAncientAppendVec">CurrentAncientAppendVec</a>,
    can_randomly_shrink: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a>
) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/sync/struct.Arc.html" title="struct alloc::sync::Arc">Arc</a>&lt;<a class="struct" href="struct.AccountStorageEntry.html" title="struct solana_runtime::accounts_db::AccountStorageEntry">AccountStorageEntry</a>&gt;&gt;</h4></section></summary><div class="docblock"><p>get the storage from ‘slot’ to squash
or None if this slot should be skipped
side effect could be updating ‘current_ancient’</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.should_move_to_ancient_append_vec" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#4436-4488">source</a><h4 class="code-header">fn <a href="#method.should_move_to_ancient_append_vec" class="fn">should_move_to_ancient_append_vec</a>(
    &amp;self,
    storage: &amp;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/sync/struct.Arc.html" title="struct alloc::sync::Arc">Arc</a>&lt;<a class="struct" href="struct.AccountStorageEntry.html" title="struct solana_runtime::accounts_db::AccountStorageEntry">AccountStorageEntry</a>&gt;,
    current_ancient: &amp;mut <a class="struct" href="struct.CurrentAncientAppendVec.html" title="struct solana_runtime::accounts_db::CurrentAncientAppendVec">CurrentAncientAppendVec</a>,
    slot: <a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>,
    can_randomly_shrink: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a>
) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a></h4></section></summary><div class="docblock"><p>return true if the accounts in this slot should be moved to an ancient append vec
otherwise, return false and the caller can skip this slot
side effect could be updating ‘current_ancient’
can_randomly_shrink: true if ancient append vecs that otherwise don’t qualify to be shrunk can be randomly shrunk
this is convenient for a running system
this is not useful for testing</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.combine_ancient_slots" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#4492-4550">source</a><h4 class="code-header">fn <a href="#method.combine_ancient_slots" class="fn">combine_ancient_slots</a>(
    &amp;self,
    sorted_slots: <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>&gt;,
    can_randomly_shrink: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a>
)</h4></section></summary><div class="docblock"><p>Combine all account data from storages in ‘sorted_slots’ into ancient append vecs.
This keeps us from accumulating append vecs for each slot older than an epoch.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.combine_one_store_into_ancient" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#4553-4645">source</a><h4 class="code-header">fn <a href="#method.combine_one_store_into_ancient" class="fn">combine_one_store_into_ancient</a>(
    &amp;self,
    slot: <a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>,
    old_storage: &amp;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/sync/struct.Arc.html" title="struct alloc::sync::Arc">Arc</a>&lt;<a class="struct" href="struct.AccountStorageEntry.html" title="struct solana_runtime::accounts_db::AccountStorageEntry">AccountStorageEntry</a>&gt;,
    current_ancient: &amp;mut <a class="struct" href="struct.CurrentAncientAppendVec.html" title="struct solana_runtime::accounts_db::CurrentAncientAppendVec">CurrentAncientAppendVec</a>,
    ancient_slot_pubkeys: &amp;mut <a class="struct" href="struct.AncientSlotPubkeys.html" title="struct solana_runtime::accounts_db::AncientSlotPubkeys">AncientSlotPubkeys</a>,
    dropped_roots: &amp;mut <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>&gt;
)</h4></section></summary><div class="docblock"><p>put entire alive contents of ‘old_storage’ into the current ancient append vec or a newly created ancient append vec</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.handle_dropped_roots_for_ancient" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#4649-4660">source</a><h4 class="code-header">pub(crate) fn <a href="#method.handle_dropped_roots_for_ancient" class="fn">handle_dropped_roots_for_ancient</a>(
    &amp;self,
    dropped_roots: impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/traits/iterator/trait.Iterator.html" title="trait core::iter::traits::iterator::Iterator">Iterator</a>&lt;Item = <a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>&gt;
)</h4></section></summary><div class="docblock"><p>each slot in ‘dropped_roots’ has been combined into an ancient append vec.
We are done with the slot now forever.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.add_uncleaned_pubkeys_after_shrink" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#4664-4693">source</a><h4 class="code-header">fn <a href="#method.add_uncleaned_pubkeys_after_shrink" class="fn">add_uncleaned_pubkeys_after_shrink</a>(
    &amp;self,
    slot: <a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>,
    pubkeys: impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/traits/iterator/trait.Iterator.html" title="trait core::iter::traits::iterator::Iterator">Iterator</a>&lt;Item = <a class="struct" href="../../solana_program/pubkey/struct.Pubkey.html" title="struct solana_program::pubkey::Pubkey">Pubkey</a>&gt;
)</h4></section></summary><div class="docblock"><p>add all ‘pubkeys’ into the set of pubkeys that are ‘uncleaned’, associated with ‘slot’
clean will visit these pubkeys next time it runs</p>
</div></details><section id="method.shrink_candidate_slots" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#4695-4760">source</a><h4 class="code-header">pub fn <a href="#method.shrink_candidate_slots" class="fn">shrink_candidate_slots</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a></h4></section><section id="method.shrink_all_slots" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#4762-4788">source</a><h4 class="code-header">pub fn <a href="#method.shrink_all_slots" class="fn">shrink_all_slots</a>(
    &amp;self,
    is_startup: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a>,
    last_full_snapshot_slot: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>&gt;
)</h4></section><section id="method.scan_accounts" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#4790-4815">source</a><h4 class="code-header">pub fn <a href="#method.scan_accounts" class="fn">scan_accounts</a>&lt;F&gt;(
    &amp;self,
    ancestors: &amp;<a class="struct" href="../ancestors/struct.Ancestors.html" title="struct solana_runtime::ancestors::Ancestors">Ancestors</a>,
    bank_id: <a class="type" href="../../solana_program/clock/type.BankId.html" title="type solana_program::clock::BankId">BankId</a>,
    scan_func: F,
    config: &amp;<a class="struct" href="../accounts_index/struct.ScanConfig.html" title="struct solana_runtime::accounts_index::ScanConfig">ScanConfig</a>
) -&gt; <a class="type" href="../accounts_index/type.ScanResult.html" title="type solana_runtime::accounts_index::ScanResult">ScanResult</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>&gt;<span class="where fmt-newline">where
    F: <a class="trait" href="https://doc.rust-lang.org/nightly/core/ops/function/trait.FnMut.html" title="trait core::ops::function::FnMut">FnMut</a>(<a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;(&amp;<a class="struct" href="../../solana_program/pubkey/struct.Pubkey.html" title="struct solana_program::pubkey::Pubkey">Pubkey</a>, <a class="struct" href="../../solana_sdk/account/struct.AccountSharedData.html" title="struct solana_sdk::account::AccountSharedData">AccountSharedData</a>, <a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>)&gt;),</span></h4></section><section id="method.unchecked_scan_accounts" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#4817-4839">source</a><h4 class="code-header">pub fn <a href="#method.unchecked_scan_accounts" class="fn">unchecked_scan_accounts</a>&lt;F&gt;(
    &amp;self,
    metric_name: &amp;'static <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.str.html">str</a>,
    ancestors: &amp;<a class="struct" href="../ancestors/struct.Ancestors.html" title="struct solana_runtime::ancestors::Ancestors">Ancestors</a>,
    scan_func: F,
    config: &amp;<a class="struct" href="../accounts_index/struct.ScanConfig.html" title="struct solana_runtime::accounts_index::ScanConfig">ScanConfig</a>
)<span class="where fmt-newline">where
    F: <a class="trait" href="https://doc.rust-lang.org/nightly/core/ops/function/trait.FnMut.html" title="trait core::ops::function::FnMut">FnMut</a>(&amp;<a class="struct" href="../../solana_program/pubkey/struct.Pubkey.html" title="struct solana_program::pubkey::Pubkey">Pubkey</a>, <a class="enum" href="enum.LoadedAccount.html" title="enum solana_runtime::accounts_db::LoadedAccount">LoadedAccount</a>&lt;'_&gt;, <a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>),</span></h4></section><details class="toggle method-toggle" open><summary><section id="method.range_scan_accounts" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#4842-4877">source</a><h4 class="code-header">pub fn <a href="#method.range_scan_accounts" class="fn">range_scan_accounts</a>&lt;F, R&gt;(
    &amp;self,
    metric_name: &amp;'static <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.str.html">str</a>,
    ancestors: &amp;<a class="struct" href="../ancestors/struct.Ancestors.html" title="struct solana_runtime::ancestors::Ancestors">Ancestors</a>,
    range: R,
    config: &amp;<a class="struct" href="../accounts_index/struct.ScanConfig.html" title="struct solana_runtime::accounts_index::ScanConfig">ScanConfig</a>,
    scan_func: F
)<span class="where fmt-newline">where
    F: <a class="trait" href="https://doc.rust-lang.org/nightly/core/ops/function/trait.FnMut.html" title="trait core::ops::function::FnMut">FnMut</a>(<a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;(&amp;<a class="struct" href="../../solana_program/pubkey/struct.Pubkey.html" title="struct solana_program::pubkey::Pubkey">Pubkey</a>, <a class="struct" href="../../solana_sdk/account/struct.AccountSharedData.html" title="struct solana_sdk::account::AccountSharedData">AccountSharedData</a>, <a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>)&gt;),
    R: <a class="trait" href="https://doc.rust-lang.org/nightly/core/ops/range/trait.RangeBounds.html" title="trait core::ops::range::RangeBounds">RangeBounds</a>&lt;<a class="struct" href="../../solana_program/pubkey/struct.Pubkey.html" title="struct solana_program::pubkey::Pubkey">Pubkey</a>&gt; + <a class="trait" href="https://doc.rust-lang.org/nightly/core/fmt/trait.Debug.html" title="trait core::fmt::Debug">Debug</a>,</span></h4></section></summary><div class="docblock"><p>Only guaranteed to be safe when called from rent collection</p>
</div></details><section id="method.index_scan_accounts" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#4879-4917">source</a><h4 class="code-header">pub fn <a href="#method.index_scan_accounts" class="fn">index_scan_accounts</a>&lt;F&gt;(
    &amp;self,
    ancestors: &amp;<a class="struct" href="../ancestors/struct.Ancestors.html" title="struct solana_runtime::ancestors::Ancestors">Ancestors</a>,
    bank_id: <a class="type" href="../../solana_program/clock/type.BankId.html" title="type solana_program::clock::BankId">BankId</a>,
    index_key: <a class="enum" href="../accounts_index/enum.IndexKey.html" title="enum solana_runtime::accounts_index::IndexKey">IndexKey</a>,
    scan_func: F,
    config: &amp;<a class="struct" href="../accounts_index/struct.ScanConfig.html" title="struct solana_runtime::accounts_index::ScanConfig">ScanConfig</a>
) -&gt; <a class="type" href="../accounts_index/type.ScanResult.html" title="type solana_runtime::accounts_index::ScanResult">ScanResult</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a>&gt;<span class="where fmt-newline">where
    F: <a class="trait" href="https://doc.rust-lang.org/nightly/core/ops/function/trait.FnMut.html" title="trait core::ops::function::FnMut">FnMut</a>(<a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;(&amp;<a class="struct" href="../../solana_program/pubkey/struct.Pubkey.html" title="struct solana_program::pubkey::Pubkey">Pubkey</a>, <a class="struct" href="../../solana_sdk/account/struct.AccountSharedData.html" title="struct solana_sdk::account::AccountSharedData">AccountSharedData</a>, <a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>)&gt;),</span></h4></section><details class="toggle method-toggle" open><summary><section id="method.scan_account_storage" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#4920-4970">source</a><h4 class="code-header">pub fn <a href="#method.scan_account_storage" class="fn">scan_account_storage</a>&lt;R, B&gt;(
    &amp;self,
    slot: <a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>,
    cache_map_func: impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/ops/function/trait.Fn.html" title="trait core::ops::function::Fn">Fn</a>(<a class="enum" href="enum.LoadedAccount.html" title="enum solana_runtime::accounts_db::LoadedAccount">LoadedAccount</a>&lt;'_&gt;) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;R&gt; + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a>,
    storage_scan_func: impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/ops/function/trait.Fn.html" title="trait core::ops::function::Fn">Fn</a>(<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;B</a>, <a class="enum" href="enum.LoadedAccount.html" title="enum solana_runtime::accounts_db::LoadedAccount">LoadedAccount</a>&lt;'_&gt;) + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a>
) -&gt; <a class="enum" href="enum.ScanStorageResult.html" title="enum solana_runtime::accounts_db::ScanStorageResult">ScanStorageResult</a>&lt;R, B&gt;<span class="where fmt-newline">where
    R: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a>,
    B: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/default/trait.Default.html" title="trait core::default::Default">Default</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a>,</span></h4></section></summary><div class="docblock"><p>Scan a specific slot through all the account storage</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.insert_default_bank_hash_stats" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#4975-4982">source</a><h4 class="code-header">pub(crate) fn <a href="#method.insert_default_bank_hash_stats" class="fn">insert_default_bank_hash_stats</a>(
    &amp;self,
    slot: <a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>,
    parent_slot: <a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>
)</h4></section></summary><div class="docblock"><p>Insert a default bank hash stats for <code>slot</code></p>
<p>This fn is called when creating a new bank from parent.</p>
</div></details><section id="method.load" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#4984-4991">source</a><h4 class="code-header">pub fn <a href="#method.load" class="fn">load</a>(
    &amp;self,
    ancestors: &amp;<a class="struct" href="../ancestors/struct.Ancestors.html" title="struct solana_runtime::ancestors::Ancestors">Ancestors</a>,
    pubkey: &amp;<a class="struct" href="../../solana_program/pubkey/struct.Pubkey.html" title="struct solana_program::pubkey::Pubkey">Pubkey</a>,
    load_hint: <a class="enum" href="enum.LoadHint.html" title="enum solana_runtime::accounts_db::LoadHint">LoadHint</a>
) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;(<a class="struct" href="../../solana_sdk/account/struct.AccountSharedData.html" title="struct solana_sdk::account::AccountSharedData">AccountSharedData</a>, <a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>)&gt;</h4></section><details class="toggle method-toggle" open><summary><section id="method.account_matches_owners" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#4997-5032">source</a><h4 class="code-header">pub fn <a href="#method.account_matches_owners" class="fn">account_matches_owners</a>(
    &amp;self,
    ancestors: &amp;<a class="struct" href="../ancestors/struct.Ancestors.html" title="struct solana_runtime::ancestors::Ancestors">Ancestors</a>,
    account: &amp;<a class="struct" href="../../solana_program/pubkey/struct.Pubkey.html" title="struct solana_program::pubkey::Pubkey">Pubkey</a>,
    owners: &amp;[&amp;<a class="struct" href="../../solana_program/pubkey/struct.Pubkey.html" title="struct solana_program::pubkey::Pubkey">Pubkey</a>]
) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>, <a class="enum" href="../append_vec/enum.MatchAccountOwnerError.html" title="enum solana_runtime::append_vec::MatchAccountOwnerError">MatchAccountOwnerError</a>&gt;</h4></section></summary><div class="docblock"><p>Return Ok(index_of_matching_owner) if the account owner at <code>offset</code> is one of the pubkeys in <code>owners</code>.
Return Err(MatchAccountOwnerError::NoMatch) if the account has 0 lamports or the owner is not one of
the pubkeys in <code>owners</code>.
Return Err(MatchAccountOwnerError::UnableToLoad) if the account could not be accessed.</p>
</div></details><section id="method.load_account_into_read_cache" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#5034-5044">source</a><h4 class="code-header">pub fn <a href="#method.load_account_into_read_cache" class="fn">load_account_into_read_cache</a>(
    &amp;self,
    ancestors: &amp;<a class="struct" href="../ancestors/struct.Ancestors.html" title="struct solana_runtime::ancestors::Ancestors">Ancestors</a>,
    pubkey: &amp;<a class="struct" href="../../solana_program/pubkey/struct.Pubkey.html" title="struct solana_program::pubkey::Pubkey">Pubkey</a>
)</h4></section><details class="toggle method-toggle" open><summary><section id="method.load_with_fixed_root" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#5047-5053">source</a><h4 class="code-header">pub fn <a href="#method.load_with_fixed_root" class="fn">load_with_fixed_root</a>(
    &amp;self,
    ancestors: &amp;<a class="struct" href="../ancestors/struct.Ancestors.html" title="struct solana_runtime::ancestors::Ancestors">Ancestors</a>,
    pubkey: &amp;<a class="struct" href="../../solana_program/pubkey/struct.Pubkey.html" title="struct solana_program::pubkey::Pubkey">Pubkey</a>
) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;(<a class="struct" href="../../solana_sdk/account/struct.AccountSharedData.html" title="struct solana_sdk::account::AccountSharedData">AccountSharedData</a>, <a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>)&gt;</h4></section></summary><div class="docblock"><p>note this returns None for accounts with zero lamports</p>
</div></details><section id="method.read_index_for_accessor_or_load_slow" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#5055-5092">source</a><h4 class="code-header">fn <a href="#method.read_index_for_accessor_or_load_slow" class="fn">read_index_for_accessor_or_load_slow</a>&lt;'a&gt;(
    &amp;'a self,
    ancestors: &amp;<a class="struct" href="../ancestors/struct.Ancestors.html" title="struct solana_runtime::ancestors::Ancestors">Ancestors</a>,
    pubkey: &amp;'a <a class="struct" href="../../solana_program/pubkey/struct.Pubkey.html" title="struct solana_program::pubkey::Pubkey">Pubkey</a>,
    max_root: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>&gt;,
    clone_in_lock: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a>
) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;(<a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>, <a class="enum" href="../account_info/enum.StorageLocation.html" title="enum solana_runtime::account_info::StorageLocation">StorageLocation</a>, <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="enum" href="enum.LoadedAccountAccessor.html" title="enum solana_runtime::accounts_db::LoadedAccountAccessor">LoadedAccountAccessor</a>&lt;'a&gt;&gt;)&gt;</h4></section><section id="method.retry_to_get_account_accessor" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#5094-5372">source</a><h4 class="code-header">fn <a href="#method.retry_to_get_account_accessor" class="fn">retry_to_get_account_accessor</a>&lt;'a&gt;(
    &amp;'a self,
    slot: <a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>,
    storage_location: <a class="enum" href="../account_info/enum.StorageLocation.html" title="enum solana_runtime::account_info::StorageLocation">StorageLocation</a>,
    ancestors: &amp;'a <a class="struct" href="../ancestors/struct.Ancestors.html" title="struct solana_runtime::ancestors::Ancestors">Ancestors</a>,
    pubkey: &amp;'a <a class="struct" href="../../solana_program/pubkey/struct.Pubkey.html" title="struct solana_program::pubkey::Pubkey">Pubkey</a>,
    max_root: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>&gt;,
    load_hint: <a class="enum" href="enum.LoadHint.html" title="enum solana_runtime::accounts_db::LoadHint">LoadHint</a>
) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;(<a class="enum" href="enum.LoadedAccountAccessor.html" title="enum solana_runtime::accounts_db::LoadedAccountAccessor">LoadedAccountAccessor</a>&lt;'a&gt;, <a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>)&gt;</h4></section><section id="method.do_load" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#5374-5390">source</a><h4 class="code-header">fn <a href="#method.do_load" class="fn">do_load</a>(
    &amp;self,
    ancestors: &amp;<a class="struct" href="../ancestors/struct.Ancestors.html" title="struct solana_runtime::ancestors::Ancestors">Ancestors</a>,
    pubkey: &amp;<a class="struct" href="../../solana_program/pubkey/struct.Pubkey.html" title="struct solana_program::pubkey::Pubkey">Pubkey</a>,
    max_root: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>&gt;,
    load_hint: <a class="enum" href="enum.LoadHint.html" title="enum solana_runtime::accounts_db::LoadHint">LoadHint</a>,
    load_zero_lamports: <a class="enum" href="enum.LoadZeroLamports.html" title="enum solana_runtime::accounts_db::LoadZeroLamports">LoadZeroLamports</a>
) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;(<a class="struct" href="../../solana_sdk/account/struct.AccountSharedData.html" title="struct solana_sdk::account::AccountSharedData">AccountSharedData</a>, <a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>)&gt;</h4></section><details class="toggle method-toggle" open><summary><section id="method.flush_read_only_cache_for_tests" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#5394-5396">source</a><h4 class="code-header">pub fn <a href="#method.flush_read_only_cache_for_tests" class="fn">flush_read_only_cache_for_tests</a>(&amp;self)</h4></section></summary><div class="docblock"><p>remove all entries from the read only accounts cache
useful for benches/tests</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.do_load_with_populate_read_cache" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#5400-5473">source</a><h4 class="code-header">fn <a href="#method.do_load_with_populate_read_cache" class="fn">do_load_with_populate_read_cache</a>(
    &amp;self,
    ancestors: &amp;<a class="struct" href="../ancestors/struct.Ancestors.html" title="struct solana_runtime::ancestors::Ancestors">Ancestors</a>,
    pubkey: &amp;<a class="struct" href="../../solana_program/pubkey/struct.Pubkey.html" title="struct solana_program::pubkey::Pubkey">Pubkey</a>,
    max_root: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>&gt;,
    load_hint: <a class="enum" href="enum.LoadHint.html" title="enum solana_runtime::accounts_db::LoadHint">LoadHint</a>,
    load_into_read_cache_only: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a>,
    load_zero_lamports: <a class="enum" href="enum.LoadZeroLamports.html" title="enum solana_runtime::accounts_db::LoadZeroLamports">LoadZeroLamports</a>
) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;(<a class="struct" href="../../solana_sdk/account/struct.AccountSharedData.html" title="struct solana_sdk::account::AccountSharedData">AccountSharedData</a>, <a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>)&gt;</h4></section></summary><div class="docblock"><p>if ‘load_into_read_cache_only’, then return value is meaningless.
The goal is to get the account into the read-only cache.</p>
</div></details><section id="method.load_account_hash" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#5475-5496">source</a><h4 class="code-header">pub fn <a href="#method.load_account_hash" class="fn">load_account_hash</a>(
    &amp;self,
    ancestors: &amp;<a class="struct" href="../ancestors/struct.Ancestors.html" title="struct solana_runtime::ancestors::Ancestors">Ancestors</a>,
    pubkey: &amp;<a class="struct" href="../../solana_program/pubkey/struct.Pubkey.html" title="struct solana_program::pubkey::Pubkey">Pubkey</a>,
    max_root: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>&gt;,
    load_hint: <a class="enum" href="enum.LoadHint.html" title="enum solana_runtime::accounts_db::LoadHint">LoadHint</a>
) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="../../solana_program/hash/struct.Hash.html" title="struct solana_program::hash::Hash">Hash</a>&gt;</h4></section><section id="method.get_account_accessor" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#5498-5517">source</a><h4 class="code-header">fn <a href="#method.get_account_accessor" class="fn">get_account_accessor</a>&lt;'a&gt;(
    &amp;'a self,
    slot: <a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>,
    pubkey: &amp;'a <a class="struct" href="../../solana_program/pubkey/struct.Pubkey.html" title="struct solana_program::pubkey::Pubkey">Pubkey</a>,
    storage_location: &amp;<a class="enum" href="../account_info/enum.StorageLocation.html" title="enum solana_runtime::account_info::StorageLocation">StorageLocation</a>
) -&gt; <a class="enum" href="enum.LoadedAccountAccessor.html" title="enum solana_runtime::accounts_db::LoadedAccountAccessor">LoadedAccountAccessor</a>&lt;'a&gt;</h4></section><section id="method.try_recycle_and_insert_store" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#5519-5528">source</a><h4 class="code-header">fn <a href="#method.try_recycle_and_insert_store" class="fn">try_recycle_and_insert_store</a>(
    &amp;self,
    slot: <a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>,
    min_size: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a>,
    max_size: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a>
) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/sync/struct.Arc.html" title="struct alloc::sync::Arc">Arc</a>&lt;<a class="struct" href="struct.AccountStorageEntry.html" title="struct solana_runtime::accounts_db::AccountStorageEntry">AccountStorageEntry</a>&gt;&gt;</h4></section><section id="method.try_recycle_store" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#5530-5578">source</a><h4 class="code-header">fn <a href="#method.try_recycle_store" class="fn">try_recycle_store</a>(
    &amp;self,
    slot: <a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>,
    min_size: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a>,
    max_size: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a>
) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/sync/struct.Arc.html" title="struct alloc::sync::Arc">Arc</a>&lt;<a class="struct" href="struct.AccountStorageEntry.html" title="struct solana_runtime::accounts_db::AccountStorageEntry">AccountStorageEntry</a>&gt;&gt;</h4></section><section id="method.find_storage_candidate" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#5580-5617">source</a><h4 class="code-header">fn <a href="#method.find_storage_candidate" class="fn">find_storage_candidate</a>(
    &amp;self,
    slot: <a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>,
    size: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>
) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/sync/struct.Arc.html" title="struct alloc::sync::Arc">Arc</a>&lt;<a class="struct" href="struct.AccountStorageEntry.html" title="struct solana_runtime::accounts_db::AccountStorageEntry">AccountStorageEntry</a>&gt;</h4></section><section id="method.page_align" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#5619-5621">source</a><h4 class="code-header">pub(crate) fn <a href="#method.page_align" class="fn">page_align</a>(size: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a></h4></section><section id="method.has_space_available" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#5623-5631">source</a><h4 class="code-header">fn <a href="#method.has_space_available" class="fn">has_space_available</a>(&amp;self, slot: <a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>, size: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a></h4></section><section id="method.create_store" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#5633-5661">source</a><h4 class="code-header">fn <a href="#method.create_store" class="fn">create_store</a>(
    &amp;self,
    slot: <a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>,
    size: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a>,
    from: &amp;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.str.html">str</a>,
    paths: &amp;[<a class="struct" href="https://doc.rust-lang.org/nightly/std/path/struct.PathBuf.html" title="struct std::path::PathBuf">PathBuf</a>]
) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/sync/struct.Arc.html" title="struct alloc::sync::Arc">Arc</a>&lt;<a class="struct" href="struct.AccountStorageEntry.html" title="struct solana_runtime::accounts_db::AccountStorageEntry">AccountStorageEntry</a>&gt;</h4></section><section id="method.create_and_insert_store" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#5663-5670">source</a><h4 class="code-header">fn <a href="#method.create_and_insert_store" class="fn">create_and_insert_store</a>(
    &amp;self,
    slot: <a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>,
    size: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a>,
    from: &amp;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.str.html">str</a>
) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/sync/struct.Arc.html" title="struct alloc::sync::Arc">Arc</a>&lt;<a class="struct" href="struct.AccountStorageEntry.html" title="struct solana_runtime::accounts_db::AccountStorageEntry">AccountStorageEntry</a>&gt;</h4></section><section id="method.create_and_insert_store_with_paths" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#5672-5684">source</a><h4 class="code-header">fn <a href="#method.create_and_insert_store_with_paths" class="fn">create_and_insert_store_with_paths</a>(
    &amp;self,
    slot: <a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>,
    size: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a>,
    from: &amp;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.str.html">str</a>,
    paths: &amp;[<a class="struct" href="https://doc.rust-lang.org/nightly/std/path/struct.PathBuf.html" title="struct std::path::PathBuf">PathBuf</a>]
) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/sync/struct.Arc.html" title="struct alloc::sync::Arc">Arc</a>&lt;<a class="struct" href="struct.AccountStorageEntry.html" title="struct solana_runtime::accounts_db::AccountStorageEntry">AccountStorageEntry</a>&gt;</h4></section><section id="method.insert_store" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#5686-5688">source</a><h4 class="code-header">fn <a href="#method.insert_store" class="fn">insert_store</a>(&amp;self, slot: <a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>, store: <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/sync/struct.Arc.html" title="struct alloc::sync::Arc">Arc</a>&lt;<a class="struct" href="struct.AccountStorageEntry.html" title="struct solana_runtime::accounts_db::AccountStorageEntry">AccountStorageEntry</a>&gt;)</h4></section><section id="method.create_drop_bank_callback" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#5690-5697">source</a><h4 class="code-header">pub fn <a href="#method.create_drop_bank_callback" class="fn">create_drop_bank_callback</a>(
    &amp;self,
    pruned_banks_sender: <a class="type" href="../accounts_background_service/type.DroppedSlotsSender.html" title="type solana_runtime::accounts_background_service::DroppedSlotsSender">DroppedSlotsSender</a>
) -&gt; <a class="struct" href="../accounts_background_service/struct.SendDroppedBankCallback.html" title="struct solana_runtime::accounts_background_service::SendDroppedBankCallback">SendDroppedBankCallback</a></h4></section><details class="toggle method-toggle" open><summary><section id="method.purge_slot" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#5704-5728">source</a><h4 class="code-header">pub fn <a href="#method.purge_slot" class="fn">purge_slot</a>(
    &amp;self,
    slot: <a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>,
    bank_id: <a class="type" href="../../solana_program/clock/type.BankId.html" title="type solana_program::clock::BankId">BankId</a>,
    is_serialized_with_abs: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a>
)</h4></section></summary><div class="docblock"><p>This should only be called after the <code>Bank::drop()</code> runs in bank.rs, See BANK_DROP_SAFETY
comment below for more explanation.</p>
<ul>
<li><code>is_serialized_with_abs</code> - indicates whehter this call runs sequentially with all other
accounts_db relevant calls, such as shrinking, purging etc., in account background
service.</li>
</ul>
</div></details><section id="method.recycle_slot_stores" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#5730-5750">source</a><h4 class="code-header">fn <a href="#method.recycle_slot_stores" class="fn">recycle_slot_stores</a>(
    &amp;self,
    total_removed_storage_entries: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>,
    slot_stores: &amp;[<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/sync/struct.Arc.html" title="struct alloc::sync::Arc">Arc</a>&lt;<a class="struct" href="struct.AccountStorageEntry.html" title="struct solana_runtime::accounts_db::AccountStorageEntry">AccountStorageEntry</a>&gt;]
) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a></h4></section><details class="toggle method-toggle" open><summary><section id="method.purge_slots_from_cache_and_store" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#5754-5806">source</a><h4 class="code-header">pub(crate) fn <a href="#method.purge_slots_from_cache_and_store" class="fn">purge_slots_from_cache_and_store</a>&lt;'a&gt;(
    &amp;self,
    removed_slots: impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/traits/iterator/trait.Iterator.html" title="trait core::iter::traits::iterator::Iterator">Iterator</a>&lt;Item = &amp;'a <a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>&gt; + <a class="trait" href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>,
    purge_stats: &amp;<a class="struct" href="struct.PurgeStats.html" title="struct solana_runtime::accounts_db::PurgeStats">PurgeStats</a>,
    log_accounts: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a>
)</h4></section></summary><div class="docblock"><p>Purges every slot in <code>removed_slots</code> from both the cache and storage. This includes
entries in the accounts index, cache entries, and any backing storage entries.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.purge_dead_slots_from_storage" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#5810-5875">source</a><h4 class="code-header">fn <a href="#method.purge_dead_slots_from_storage" class="fn">purge_dead_slots_from_storage</a>&lt;'a&gt;(
    &amp;'a self,
    removed_slots: impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/traits/iterator/trait.Iterator.html" title="trait core::iter::traits::iterator::Iterator">Iterator</a>&lt;Item = &amp;'a <a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>&gt; + <a class="trait" href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>,
    purge_stats: &amp;<a class="struct" href="struct.PurgeStats.html" title="struct solana_runtime::accounts_db::PurgeStats">PurgeStats</a>
)</h4></section></summary><div class="docblock"><p>Purge the backing storage entries for the given slot, does not purge from
the cache!</p>
</div></details><section id="method.purge_slot_cache" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#5877-5893">source</a><h4 class="code-header">fn <a href="#method.purge_slot_cache" class="fn">purge_slot_cache</a>(&amp;self, purged_slot: <a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>, slot_cache: <a class="type" href="../accounts_cache/type.SlotCache.html" title="type solana_runtime::accounts_cache::SlotCache">SlotCache</a>)</h4></section><section id="method.purge_slot_cache_pubkeys" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#5895-5916">source</a><h4 class="code-header">fn <a href="#method.purge_slot_cache_pubkeys" class="fn">purge_slot_cache_pubkeys</a>(
    &amp;self,
    purged_slot: <a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>,
    purged_slot_pubkeys: <a class="struct" href="https://doc.rust-lang.org/nightly/std/collections/hash/set/struct.HashSet.html" title="struct std::collections::hash::set::HashSet">HashSet</a>&lt;(<a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>, <a class="struct" href="../../solana_program/pubkey/struct.Pubkey.html" title="struct solana_program::pubkey::Pubkey">Pubkey</a>)&gt;,
    pubkey_to_slot_set: <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;(<a class="struct" href="../../solana_program/pubkey/struct.Pubkey.html" title="struct solana_program::pubkey::Pubkey">Pubkey</a>, <a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>)&gt;,
    is_dead: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a>,
    pubkeys_removed_from_accounts_index: &amp;<a class="struct" href="https://doc.rust-lang.org/nightly/std/collections/hash/set/struct.HashSet.html" title="struct std::collections::hash::set::HashSet">HashSet</a>&lt;<a class="struct" href="../../solana_program/pubkey/struct.Pubkey.html" title="struct solana_program::pubkey::Pubkey">Pubkey</a>&gt;
)</h4></section><section id="method.purge_slot_storage" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#5918-5979">source</a><h4 class="code-header">fn <a href="#method.purge_slot_storage" class="fn">purge_slot_storage</a>(&amp;self, remove_slot: <a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>, purge_stats: &amp;<a class="struct" href="struct.PurgeStats.html" title="struct solana_runtime::accounts_db::PurgeStats">PurgeStats</a>)</h4></section><section id="method.purge_slots" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#5982-6003">source</a><h4 class="code-header">fn <a href="#method.purge_slots" class="fn">purge_slots</a>&lt;'a&gt;(&amp;self, slots: impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/traits/iterator/trait.Iterator.html" title="trait core::iter::traits::iterator::Iterator">Iterator</a>&lt;Item = &amp;'a <a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>&gt; + <a class="trait" href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>)</h4></section><section id="method.remove_unrooted_slots" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#6005-6090">source</a><h4 class="code-header">pub fn <a href="#method.remove_unrooted_slots" class="fn">remove_unrooted_slots</a>(&amp;self, remove_slots: &amp;[(<a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>, <a class="type" href="../../solana_program/clock/type.BankId.html" title="type solana_program::clock::BankId">BankId</a>)])</h4></section><section id="method.hash_account" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#6092-6108">source</a><h4 class="code-header">pub fn <a href="#method.hash_account" class="fn">hash_account</a>&lt;T: <a class="trait" href="../../solana_sdk/account/trait.ReadableAccount.html" title="trait solana_sdk::account::ReadableAccount">ReadableAccount</a>&gt;(
    slot: <a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>,
    account: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;T</a>,
    pubkey: &amp;<a class="struct" href="../../solana_program/pubkey/struct.Pubkey.html" title="struct solana_program::pubkey::Pubkey">Pubkey</a>,
    include_slot: <a class="enum" href="enum.IncludeSlotInHash.html" title="enum solana_runtime::accounts_db::IncludeSlotInHash">IncludeSlotInHash</a>
) -&gt; <a class="struct" href="../../solana_program/hash/struct.Hash.html" title="struct solana_program::hash::Hash">Hash</a></h4></section><section id="method.hash_account_data" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#6110-6152">source</a><h4 class="code-header">fn <a href="#method.hash_account_data" class="fn">hash_account_data</a>(
    slot: <a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>,
    lamports: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a>,
    owner: &amp;<a class="struct" href="../../solana_program/pubkey/struct.Pubkey.html" title="struct solana_program::pubkey::Pubkey">Pubkey</a>,
    executable: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a>,
    rent_epoch: <a class="type" href="../../solana_program/clock/type.Epoch.html" title="type solana_program::clock::Epoch">Epoch</a>,
    data: &amp;[<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a>],
    pubkey: &amp;<a class="struct" href="../../solana_program/pubkey/struct.Pubkey.html" title="struct solana_program::pubkey::Pubkey">Pubkey</a>,
    include_slot: <a class="enum" href="enum.IncludeSlotInHash.html" title="enum solana_runtime::accounts_db::IncludeSlotInHash">IncludeSlotInHash</a>
) -&gt; <a class="struct" href="../../solana_program/hash/struct.Hash.html" title="struct solana_program::hash::Hash">Hash</a></h4></section><section id="method.bulk_assign_write_version" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#6154-6157">source</a><h4 class="code-header">fn <a href="#method.bulk_assign_write_version" class="fn">bulk_assign_write_version</a>(&amp;self, count: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>) -&gt; <a class="type" href="../account_storage/meta/type.StoredMetaWriteVersion.html" title="type solana_runtime::account_storage::meta::StoredMetaWriteVersion">StoredMetaWriteVersion</a></h4></section><section id="method.write_accounts_to_storage" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#6159-6222">source</a><h4 class="code-header">fn <a href="#method.write_accounts_to_storage" class="fn">write_accounts_to_storage</a>&lt;'a, 'b, T: <a class="trait" href="../../solana_sdk/account/trait.ReadableAccount.html" title="trait solana_sdk::account::ReadableAccount">ReadableAccount</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a>, U: <a class="trait" href="../storable_accounts/trait.StorableAccounts.html" title="trait solana_runtime::storable_accounts::StorableAccounts">StorableAccounts</a>&lt;'a, T&gt;, V: <a class="trait" href="https://doc.rust-lang.org/nightly/core/borrow/trait.Borrow.html" title="trait core::borrow::Borrow">Borrow</a>&lt;<a class="struct" href="../../solana_program/hash/struct.Hash.html" title="struct solana_program::hash::Hash">Hash</a>&gt;&gt;(
    &amp;self,
    slot: <a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>,
    storage: &amp;<a class="struct" href="struct.AccountStorageEntry.html" title="struct solana_runtime::accounts_db::AccountStorageEntry">AccountStorageEntry</a>,
    accounts_and_meta_to_store: &amp;<a class="struct" href="../account_storage/meta/struct.StorableAccountsWithHashesAndWriteVersions.html" title="struct solana_runtime::account_storage::meta::StorableAccountsWithHashesAndWriteVersions">StorableAccountsWithHashesAndWriteVersions</a>&lt;'a, 'b, T, U, V&gt;
) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="../account_info/struct.AccountInfo.html" title="struct solana_runtime::account_info::AccountInfo">AccountInfo</a>&gt;</h4></section><section id="method.mark_slot_frozen" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#6224-6230">source</a><h4 class="code-header">pub fn <a href="#method.mark_slot_frozen" class="fn">mark_slot_frozen</a>(&amp;self, slot: <a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>)</h4></section><section id="method.expire_old_recycle_stores" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#6232-6249">source</a><h4 class="code-header">pub fn <a href="#method.expire_old_recycle_stores" class="fn">expire_old_recycle_stores</a>(&amp;self)</h4></section><details class="toggle method-toggle" open><summary><section id="method.should_aggressively_flush_cache" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#6257-6261">source</a><h4 class="code-header">fn <a href="#method.should_aggressively_flush_cache" class="fn">should_aggressively_flush_cache</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a></h4></section></summary><div class="docblock"><p>true if write cache is too big</p>
</div></details><section id="method.flush_accounts_cache" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#6266-6361">source</a><h4 class="code-header">pub fn <a href="#method.flush_accounts_cache" class="fn">flush_accounts_cache</a>(
    &amp;self,
    force_flush: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a>,
    requested_flush_root: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>&gt;
)</h4></section><section id="method.flush_rooted_accounts_cache" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#6363-6421">source</a><h4 class="code-header">fn <a href="#method.flush_rooted_accounts_cache" class="fn">flush_rooted_accounts_cache</a>(
    &amp;self,
    requested_flush_root: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>&gt;,
    should_clean: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;(&amp;mut <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>, &amp;mut <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>)&gt;
) -&gt; (<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>, <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>)</h4></section><section id="method.do_flush_slot_cache" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#6423-6558">source</a><h4 class="code-header">fn <a href="#method.do_flush_slot_cache" class="fn">do_flush_slot_cache</a>(
    &amp;self,
    slot: <a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>,
    slot_cache: &amp;<a class="type" href="../accounts_cache/type.SlotCache.html" title="type solana_runtime::accounts_cache::SlotCache">SlotCache</a>,
    should_flush_f: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&amp;mut impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/ops/function/trait.FnMut.html" title="trait core::ops::function::FnMut">FnMut</a>(&amp;<a class="struct" href="../../solana_program/pubkey/struct.Pubkey.html" title="struct solana_program::pubkey::Pubkey">Pubkey</a>, &amp;<a class="struct" href="../../solana_sdk/account/struct.AccountSharedData.html" title="struct solana_sdk::account::AccountSharedData">AccountSharedData</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a>&gt;,
    max_clean_root: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>&gt;
) -&gt; <a class="struct" href="struct.FlushStats.html" title="struct solana_runtime::accounts_db::FlushStats">FlushStats</a></h4></section><details class="toggle method-toggle" open><summary><section id="method.flush_slot_cache" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#6561-6563">source</a><h4 class="code-header">fn <a href="#method.flush_slot_cache" class="fn">flush_slot_cache</a>(&amp;self, slot: <a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="struct.FlushStats.html" title="struct solana_runtime::accounts_db::FlushStats">FlushStats</a>&gt;</h4></section></summary><div class="docblock"><p>flush all accounts in this slot</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.combine_multiple_slots_into_one_at_startup" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#6570-6608">source</a><h4 class="code-header">pub(crate) fn <a href="#method.combine_multiple_slots_into_one_at_startup" class="fn">combine_multiple_slots_into_one_at_startup</a>(
    path: &amp;<a class="struct" href="https://doc.rust-lang.org/nightly/std/path/struct.Path.html" title="struct std::path::Path">Path</a>,
    id: <a class="type" href="type.AppendVecId.html" title="type solana_runtime::accounts_db::AppendVecId">AppendVecId</a>,
    slot: <a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>,
    slot_stores: &amp;<a class="struct" href="https://doc.rust-lang.org/nightly/std/collections/hash/map/struct.HashMap.html" title="struct std::collections::hash::map::HashMap">HashMap</a>&lt;<a class="type" href="type.AppendVecId.html" title="type solana_runtime::accounts_db::AppendVecId">AppendVecId</a>, <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/sync/struct.Arc.html" title="struct alloc::sync::Arc">Arc</a>&lt;<a class="struct" href="struct.AccountStorageEntry.html" title="struct solana_runtime::accounts_db::AccountStorageEntry">AccountStorageEntry</a>&gt;&gt;
) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/sync/struct.Arc.html" title="struct alloc::sync::Arc">Arc</a>&lt;<a class="struct" href="struct.AccountStorageEntry.html" title="struct solana_runtime::accounts_db::AccountStorageEntry">AccountStorageEntry</a>&gt;</h4></section></summary><div class="docblock"><p>1.13 and some 1.14 could produce legal snapshots with more than 1 append vec per slot.
This is now illegal at runtime in the validator.
However, there is a clear path to be able to support this.
So, combine all accounts from ‘slot_stores’ into a new storage and return it.
This runs prior to the storages being put in AccountsDb.storage</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.flush_slot_cache_with_clean" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#6613-6664">source</a><h4 class="code-header">fn <a href="#method.flush_slot_cache_with_clean" class="fn">flush_slot_cache_with_clean</a>(
    &amp;self,
    slots: &amp;[<a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>],
    should_flush_f: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&amp;mut impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/ops/function/trait.FnMut.html" title="trait core::ops::function::FnMut">FnMut</a>(&amp;<a class="struct" href="../../solana_program/pubkey/struct.Pubkey.html" title="struct solana_program::pubkey::Pubkey">Pubkey</a>, &amp;<a class="struct" href="../../solana_sdk/account/struct.AccountSharedData.html" title="struct solana_sdk::account::AccountSharedData">AccountSharedData</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a>&gt;,
    max_clean_root: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>&gt;
) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="struct.FlushStats.html" title="struct solana_runtime::accounts_db::FlushStats">FlushStats</a>&gt;</h4></section></summary><div class="docblock"><p><code>should_flush_f</code> is an optional closure that determines whether a given
account should be flushed. Passing <code>None</code> will by default flush all
accounts</p>
</div></details><section id="method.write_accounts_to_cache" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#6666-6711">source</a><h4 class="code-header">fn <a href="#method.write_accounts_to_cache" class="fn">write_accounts_to_cache</a>&lt;'a, 'b, T: <a class="trait" href="../../solana_sdk/account/trait.ReadableAccount.html" title="trait solana_sdk::account::ReadableAccount">ReadableAccount</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a>, P&gt;(
    &amp;self,
    slot: <a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>,
    accounts_and_meta_to_store: &amp;impl <a class="trait" href="../storable_accounts/trait.StorableAccounts.html" title="trait solana_runtime::storable_accounts::StorableAccounts">StorableAccounts</a>&lt;'b, T&gt;,
    txn_iter: <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/traits/iterator/trait.Iterator.html" title="trait core::iter::traits::iterator::Iterator">Iterator</a>&lt;Item = &amp;<a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&amp;<a class="struct" href="../../solana_sdk/transaction/sanitized/struct.SanitizedTransaction.html" title="struct solana_sdk::transaction::sanitized::SanitizedTransaction">SanitizedTransaction</a>&gt;&gt; + 'a&gt;,
    include_slot_in_hash: <a class="enum" href="enum.IncludeSlotInHash.html" title="enum solana_runtime::accounts_db::IncludeSlotInHash">IncludeSlotInHash</a>,
    write_version_producer: P
) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="../account_info/struct.AccountInfo.html" title="struct solana_runtime::account_info::AccountInfo">AccountInfo</a>&gt;<span class="where fmt-newline">where
    P: <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/traits/iterator/trait.Iterator.html" title="trait core::iter::traits::iterator::Iterator">Iterator</a>&lt;Item = <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a>&gt;,</span></h4></section><section id="method.store_accounts_to" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#6713-6810">source</a><h4 class="code-header">fn <a href="#method.store_accounts_to" class="fn">store_accounts_to</a>&lt;'a: 'c, 'b, 'c, P: <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/traits/iterator/trait.Iterator.html" title="trait core::iter::traits::iterator::Iterator">Iterator</a>&lt;Item = <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a>&gt;, T: <a class="trait" href="../../solana_sdk/account/trait.ReadableAccount.html" title="trait solana_sdk::account::ReadableAccount">ReadableAccount</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + <a class="trait" href="../accounts_index/trait.ZeroLamport.html" title="trait solana_runtime::accounts_index::ZeroLamport">ZeroLamport</a> + 'b&gt;(
    &amp;self,
    accounts: &amp;'c impl <a class="trait" href="../storable_accounts/trait.StorableAccounts.html" title="trait solana_runtime::storable_accounts::StorableAccounts">StorableAccounts</a>&lt;'b, T&gt;,
    hashes: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/borrow/trait.Borrow.html" title="trait core::borrow::Borrow">Borrow</a>&lt;<a class="struct" href="../../solana_program/hash/struct.Hash.html" title="struct solana_program::hash::Hash">Hash</a>&gt;&gt;&gt;,
    write_version_producer: P,
    store_to: &amp;<a class="enum" href="enum.StoreTo.html" title="enum solana_runtime::accounts_db::StoreTo">StoreTo</a>&lt;'_&gt;,
    transactions: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&amp;[<a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&amp;'a <a class="struct" href="../../solana_sdk/transaction/sanitized/struct.SanitizedTransaction.html" title="struct solana_sdk::transaction::sanitized::SanitizedTransaction">SanitizedTransaction</a>&gt;]&gt;
) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="../account_info/struct.AccountInfo.html" title="struct solana_runtime::account_info::AccountInfo">AccountInfo</a>&gt;</h4></section><section id="method.report_store_stats" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#6812-6871">source</a><h4 class="code-header">fn <a href="#method.report_store_stats" class="fn">report_store_stats</a>(&amp;self)</h4></section><details class="toggle method-toggle" open><summary><section id="method.find_unskipped_slot" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#6874-6876">source</a><h4 class="code-header">pub fn <a href="#method.find_unskipped_slot" class="fn">find_unskipped_slot</a>(
    &amp;self,
    slot: <a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>,
    ancestors: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&amp;<a class="struct" href="../ancestors/struct.Ancestors.html" title="struct solana_runtime::ancestors::Ancestors">Ancestors</a>&gt;
) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>&gt;</h4></section></summary><div class="docblock"><p>find slot &gt;= ‘slot’ which is a root or in ‘ancestors’</p>
</div></details><section id="method.checked_iterative_sum_for_capitalization" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#6878-6881">source</a><h4 class="code-header">pub fn <a href="#method.checked_iterative_sum_for_capitalization" class="fn">checked_iterative_sum_for_capitalization</a>(
    total_cap: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a>,
    new_cap: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a>
) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a></h4></section><section id="method.checked_sum_for_capitalization" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#6883-6885">source</a><h4 class="code-header">pub fn <a href="#method.checked_sum_for_capitalization" class="fn">checked_sum_for_capitalization</a>&lt;T: <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/traits/iterator/trait.Iterator.html" title="trait core::iter::traits::iterator::Iterator">Iterator</a>&lt;Item = <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a>&gt;&gt;(
    balances: T
) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a></h4></section><section id="method.calculate_accounts_hash_from_index" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#6887-7018">source</a><h4 class="code-header">pub fn <a href="#method.calculate_accounts_hash_from_index" class="fn">calculate_accounts_hash_from_index</a>(
    &amp;self,
    max_slot: <a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>,
    config: &amp;<a class="struct" href="../accounts_hash/struct.CalcAccountsHashConfig.html" title="struct solana_runtime::accounts_hash::CalcAccountsHashConfig">CalcAccountsHashConfig</a>&lt;'_&gt;
) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;(<a class="struct" href="../accounts_hash/struct.AccountsHash.html" title="struct solana_runtime::accounts_hash::AccountsHash">AccountsHash</a>, <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a>), <a class="enum" href="enum.AccountsHashVerificationError.html" title="enum solana_runtime::accounts_db::AccountsHashVerificationError">AccountsHashVerificationError</a>&gt;</h4></section><section id="method.update_accounts_hash_for_tests" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#7020-7037">source</a><h4 class="code-header">pub fn <a href="#method.update_accounts_hash_for_tests" class="fn">update_accounts_hash_for_tests</a>(
    &amp;self,
    slot: <a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>,
    ancestors: &amp;<a class="struct" href="../ancestors/struct.Ancestors.html" title="struct solana_runtime::ancestors::Ancestors">Ancestors</a>,
    debug_verify: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a>,
    is_startup: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a>
) -&gt; (<a class="struct" href="../accounts_hash/struct.AccountsHash.html" title="struct solana_runtime::accounts_hash::AccountsHash">AccountsHash</a>, <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a>)</h4></section><details class="toggle method-toggle" open><summary><section id="method.scan_single_account_storage" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#7040-7049">source</a><h4 class="code-header">fn <a href="#method.scan_single_account_storage" class="fn">scan_single_account_storage</a>&lt;S&gt;(
    storage: &amp;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/sync/struct.Arc.html" title="struct alloc::sync::Arc">Arc</a>&lt;<a class="struct" href="struct.AccountStorageEntry.html" title="struct solana_runtime::accounts_db::AccountStorageEntry">AccountStorageEntry</a>&gt;,
    scanner: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;mut S</a>
)<span class="where fmt-newline">where
    S: <a class="trait" href="trait.AppendVecScan.html" title="trait solana_runtime::accounts_db::AppendVecScan">AppendVecScan</a>,</span></h4></section></summary><div class="docblock"><p>iterate over a single storage, calling scanner on each item</p>
</div></details><section id="method.update_old_slot_stats" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#7051-7070">source</a><h4 class="code-header">fn <a href="#method.update_old_slot_stats" class="fn">update_old_slot_stats</a>(
    &amp;self,
    stats: &amp;<a class="struct" href="../accounts_hash/struct.HashStats.html" title="struct solana_runtime::accounts_hash::HashStats">HashStats</a>,
    storage: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&amp;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/sync/struct.Arc.html" title="struct alloc::sync::Arc">Arc</a>&lt;<a class="struct" href="struct.AccountStorageEntry.html" title="struct solana_runtime::accounts_db::AccountStorageEntry">AccountStorageEntry</a>&gt;&gt;
)</h4></section><details class="toggle method-toggle" open><summary><section id="method.apply_offset_to_slot" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#7073-7079">source</a><h4 class="code-header">fn <a href="#method.apply_offset_to_slot" class="fn">apply_offset_to_slot</a>(slot: <a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>, offset: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.i64.html">i64</a>) -&gt; <a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a></h4></section></summary><div class="docblock"><p>return slot + offset, where offset can be +/-</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.get_one_epoch_old_slot_for_hash_calc_scan" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#7083-7101">source</a><h4 class="code-header">fn <a href="#method.get_one_epoch_old_slot_for_hash_calc_scan" class="fn">get_one_epoch_old_slot_for_hash_calc_scan</a>(
    &amp;self,
    max_slot_inclusive: <a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>,
    config: &amp;<a class="struct" href="../accounts_hash/struct.CalcAccountsHashConfig.html" title="struct solana_runtime::accounts_hash::CalcAccountsHashConfig">CalcAccountsHashConfig</a>&lt;'_&gt;
) -&gt; <a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a></h4></section></summary><div class="docblock"><p>if ancient append vecs are enabled, return a slot ‘max_slot_inclusive’ - (slots_per_epoch - <code>self.ancient_append_vec_offset</code>)
otherwise, return 0</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.hash_storage_info" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#7105-7133">source</a><h4 class="code-header">fn <a href="#method.hash_storage_info" class="fn">hash_storage_info</a>(
    hasher: &amp;mut impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/hash/trait.Hasher.html" title="trait core::hash::Hasher">StdHasher</a>,
    storage: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&amp;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/sync/struct.Arc.html" title="struct alloc::sync::Arc">Arc</a>&lt;<a class="struct" href="struct.AccountStorageEntry.html" title="struct solana_runtime::accounts_db::AccountStorageEntry">AccountStorageEntry</a>&gt;&gt;,
    slot: <a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>
) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a></h4></section></summary><div class="docblock"><p>hash info about ‘storage’ into ‘hasher’
return true iff storage is valid for loading from cache</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.scan_account_storage_no_bank" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#7139-7253">source</a><h4 class="code-header">fn <a href="#method.scan_account_storage_no_bank" class="fn">scan_account_storage_no_bank</a>&lt;S&gt;(
    &amp;self,
    cache_hash_data: &amp;<a class="struct" href="../cache_hash_data/struct.CacheHashData.html" title="struct solana_runtime::cache_hash_data::CacheHashData">CacheHashData</a>,
    config: &amp;<a class="struct" href="../accounts_hash/struct.CalcAccountsHashConfig.html" title="struct solana_runtime::accounts_hash::CalcAccountsHashConfig">CalcAccountsHashConfig</a>&lt;'_&gt;,
    snapshot_storages: &amp;<a class="struct" href="../sorted_storages/struct.SortedStorages.html" title="struct solana_runtime::sorted_storages::SortedStorages">SortedStorages</a>&lt;'_&gt;,
    scanner: S,
    bin_range: &amp;<a class="struct" href="https://doc.rust-lang.org/nightly/core/ops/range/struct.Range.html" title="struct core::ops::range::Range">Range</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>&gt;,
    stats: &amp;mut <a class="struct" href="../accounts_hash/struct.HashStats.html" title="struct solana_runtime::accounts_hash::HashStats">HashStats</a>
) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="../cache_hash_data/struct.CacheHashDataFile.html" title="struct solana_runtime::cache_hash_data::CacheHashDataFile">CacheHashDataFile</a>&gt;<span class="where fmt-newline">where
    S: <a class="trait" href="trait.AppendVecScan.html" title="trait solana_runtime::accounts_db::AppendVecScan">AppendVecScan</a>,</span></h4></section></summary><div class="docblock"><p>Scan through all the account storage in parallel.
Returns a Vec of open/mmapped files.
Each file has serialized hash info, sorted by pubkey and then slot, from scanning the append vecs.
A single pubkey could be in multiple entries. The pubkey found in the latest entry is the one to use.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.mark_old_slots_as_dirty" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#7257-7283">source</a><h4 class="code-header">fn <a href="#method.mark_old_slots_as_dirty" class="fn">mark_old_slots_as_dirty</a>(
    &amp;self,
    storages: &amp;<a class="struct" href="../sorted_storages/struct.SortedStorages.html" title="struct solana_runtime::sorted_storages::SortedStorages">SortedStorages</a>&lt;'_&gt;,
    slots_per_epoch: <a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>,
    stats: &amp;mut <a class="struct" href="../accounts_hash/struct.HashStats.html" title="struct solana_runtime::accounts_hash::HashStats">HashStats</a>
)</h4></section></summary><div class="docblock"><p>storages are sorted by slot and have range info.
add all stores older than slots_per_epoch to dirty_stores so clean visits these slots</p>
</div></details><section id="method.calculate_accounts_hash" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#7285-7324">source</a><h4 class="code-header">pub(crate) fn <a href="#method.calculate_accounts_hash" class="fn">calculate_accounts_hash</a>(
    &amp;self,
    data_source: <a class="enum" href="enum.CalcAccountsHashDataSource.html" title="enum solana_runtime::accounts_db::CalcAccountsHashDataSource">CalcAccountsHashDataSource</a>,
    slot: <a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>,
    config: &amp;<a class="struct" href="../accounts_hash/struct.CalcAccountsHashConfig.html" title="struct solana_runtime::accounts_hash::CalcAccountsHashConfig">CalcAccountsHashConfig</a>&lt;'_&gt;
) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;(<a class="struct" href="../accounts_hash/struct.AccountsHash.html" title="struct solana_runtime::accounts_hash::AccountsHash">AccountsHash</a>, <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a>), <a class="enum" href="enum.AccountsHashVerificationError.html" title="enum solana_runtime::accounts_db::AccountsHashVerificationError">AccountsHashVerificationError</a>&gt;</h4></section><section id="method.calculate_accounts_hash_with_verify" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#7326-7351">source</a><h4 class="code-header">fn <a href="#method.calculate_accounts_hash_with_verify" class="fn">calculate_accounts_hash_with_verify</a>(
    &amp;self,
    data_source: <a class="enum" href="enum.CalcAccountsHashDataSource.html" title="enum solana_runtime::accounts_db::CalcAccountsHashDataSource">CalcAccountsHashDataSource</a>,
    debug_verify: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a>,
    slot: <a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>,
    config: <a class="struct" href="../accounts_hash/struct.CalcAccountsHashConfig.html" title="struct solana_runtime::accounts_hash::CalcAccountsHashConfig">CalcAccountsHashConfig</a>&lt;'_&gt;,
    expected_capitalization: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a>&gt;
) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;(<a class="struct" href="../accounts_hash/struct.AccountsHash.html" title="struct solana_runtime::accounts_hash::AccountsHash">AccountsHash</a>, <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a>), <a class="enum" href="enum.AccountsHashVerificationError.html" title="enum solana_runtime::accounts_db::AccountsHashVerificationError">AccountsHashVerificationError</a>&gt;</h4></section><section id="method.update_accounts_hash" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#7354-7384">source</a><h4 class="code-header">pub fn <a href="#method.update_accounts_hash" class="fn">update_accounts_hash</a>(
    &amp;self,
    data_source: <a class="enum" href="enum.CalcAccountsHashDataSource.html" title="enum solana_runtime::accounts_db::CalcAccountsHashDataSource">CalcAccountsHashDataSource</a>,
    debug_verify: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a>,
    slot: <a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>,
    ancestors: &amp;<a class="struct" href="../ancestors/struct.Ancestors.html" title="struct solana_runtime::ancestors::Ancestors">Ancestors</a>,
    expected_capitalization: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a>&gt;,
    epoch_schedule: &amp;<a class="struct" href="../../solana_program/epoch_schedule/struct.EpochSchedule.html" title="struct solana_program::epoch_schedule::EpochSchedule">EpochSchedule</a>,
    rent_collector: &amp;<a class="struct" href="../rent_collector/struct.RentCollector.html" title="struct solana_runtime::rent_collector::RentCollector">RentCollector</a>,
    is_startup: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a>
) -&gt; (<a class="struct" href="../accounts_hash/struct.AccountsHash.html" title="struct solana_runtime::accounts_hash::AccountsHash">AccountsHash</a>, <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a>)</h4></section><details class="toggle method-toggle" open><summary><section id="method.update_incremental_accounts_hash" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#7387-7403">source</a><h4 class="code-header">pub fn <a href="#method.update_incremental_accounts_hash" class="fn">update_incremental_accounts_hash</a>(
    &amp;self,
    config: &amp;<a class="struct" href="../accounts_hash/struct.CalcAccountsHashConfig.html" title="struct solana_runtime::accounts_hash::CalcAccountsHashConfig">CalcAccountsHashConfig</a>&lt;'_&gt;,
    storages: &amp;<a class="struct" href="../sorted_storages/struct.SortedStorages.html" title="struct solana_runtime::sorted_storages::SortedStorages">SortedStorages</a>&lt;'_&gt;,
    slot: <a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>,
    stats: <a class="struct" href="../accounts_hash/struct.HashStats.html" title="struct solana_runtime::accounts_hash::HashStats">HashStats</a>
) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;(<a class="struct" href="../accounts_hash/struct.IncrementalAccountsHash.html" title="struct solana_runtime::accounts_hash::IncrementalAccountsHash">IncrementalAccountsHash</a>, <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a>), <a class="enum" href="enum.AccountsHashVerificationError.html" title="enum solana_runtime::accounts_db::AccountsHashVerificationError">AccountsHashVerificationError</a>&gt;</h4></section></summary><div class="docblock"><p>Calculate the incremental accounts hash for <code>storages</code> and save the results at <code>slot</code></p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.set_accounts_hash" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#7408-7417">source</a><h4 class="code-header">pub fn <a href="#method.set_accounts_hash" class="fn">set_accounts_hash</a>(
    &amp;self,
    slot: <a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>,
    accounts_hash: (<a class="struct" href="../accounts_hash/struct.AccountsHash.html" title="struct solana_runtime::accounts_hash::AccountsHash">AccountsHash</a>, <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a>)
) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;(<a class="struct" href="../accounts_hash/struct.AccountsHash.html" title="struct solana_runtime::accounts_hash::AccountsHash">AccountsHash</a>, <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a>)&gt;</h4></section></summary><div class="docblock"><p>Set the accounts hash for <code>slot</code></p>
<p>returns the previous accounts hash for <code>slot</code></p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.set_accounts_hash_from_snapshot" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#7420-7427">source</a><h4 class="code-header">pub fn <a href="#method.set_accounts_hash_from_snapshot" class="fn">set_accounts_hash_from_snapshot</a>(
    &amp;mut self,
    slot: <a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>,
    accounts_hash: <a class="struct" href="../serde_snapshot/types/struct.SerdeAccountsHash.html" title="struct solana_runtime::serde_snapshot::types::SerdeAccountsHash">SerdeAccountsHash</a>,
    capitalization: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a>
) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;(<a class="struct" href="../accounts_hash/struct.AccountsHash.html" title="struct solana_runtime::accounts_hash::AccountsHash">AccountsHash</a>, <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a>)&gt;</h4></section></summary><div class="docblock"><p>After deserializing a snapshot, set the accounts hash for the new AccountsDb</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.get_accounts_hash" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#7430-7432">source</a><h4 class="code-header">pub fn <a href="#method.get_accounts_hash" class="fn">get_accounts_hash</a>(&amp;self, slot: <a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;(<a class="struct" href="../accounts_hash/struct.AccountsHash.html" title="struct solana_runtime::accounts_hash::AccountsHash">AccountsHash</a>, <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a>)&gt;</h4></section></summary><div class="docblock"><p>Get the accounts hash for <code>slot</code></p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.set_incremental_accounts_hash" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#7437-7446">source</a><h4 class="code-header">pub fn <a href="#method.set_incremental_accounts_hash" class="fn">set_incremental_accounts_hash</a>(
    &amp;self,
    slot: <a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>,
    incremental_accounts_hash: (<a class="struct" href="../accounts_hash/struct.IncrementalAccountsHash.html" title="struct solana_runtime::accounts_hash::IncrementalAccountsHash">IncrementalAccountsHash</a>, <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a>)
) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;(<a class="struct" href="../accounts_hash/struct.IncrementalAccountsHash.html" title="struct solana_runtime::accounts_hash::IncrementalAccountsHash">IncrementalAccountsHash</a>, <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a>)&gt;</h4></section></summary><div class="docblock"><p>Set the incremental accounts hash for <code>slot</code></p>
<p>returns the previous incremental accounts hash for <code>slot</code></p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.set_incremental_accounts_hash_from_snapshot" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#7449-7456">source</a><h4 class="code-header">pub fn <a href="#method.set_incremental_accounts_hash_from_snapshot" class="fn">set_incremental_accounts_hash_from_snapshot</a>(
    &amp;mut self,
    slot: <a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>,
    incremental_accounts_hash: <a class="struct" href="../serde_snapshot/types/struct.SerdeIncrementalAccountsHash.html" title="struct solana_runtime::serde_snapshot::types::SerdeIncrementalAccountsHash">SerdeIncrementalAccountsHash</a>,
    capitalization: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a>
) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;(<a class="struct" href="../accounts_hash/struct.IncrementalAccountsHash.html" title="struct solana_runtime::accounts_hash::IncrementalAccountsHash">IncrementalAccountsHash</a>, <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a>)&gt;</h4></section></summary><div class="docblock"><p>After deserializing a snapshot, set the incremental accounts hash for the new AccountsDb</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.get_incremental_accounts_hash" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#7459-7468">source</a><h4 class="code-header">pub fn <a href="#method.get_incremental_accounts_hash" class="fn">get_incremental_accounts_hash</a>(
    &amp;self,
    slot: <a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>
) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;(<a class="struct" href="../accounts_hash/struct.IncrementalAccountsHash.html" title="struct solana_runtime::accounts_hash::IncrementalAccountsHash">IncrementalAccountsHash</a>, <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a>)&gt;</h4></section></summary><div class="docblock"><p>Get the incremental accounts hash for <code>slot</code></p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.purge_old_accounts_hashes" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#7474-7483">source</a><h4 class="code-header">pub fn <a href="#method.purge_old_accounts_hashes" class="fn">purge_old_accounts_hashes</a>(&amp;self, last_full_snapshot_slot: <a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>)</h4></section></summary><div class="docblock"><p>Purge accounts hashes that are older than <code>last_full_snapshot_slot</code></p>
<p>Should only be called by AccountsHashVerifier, since it consumes the accounts hashes and
knows which ones are still needed.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.scan_snapshot_stores_with_cache" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#7486-7541">source</a><h4 class="code-header">fn <a href="#method.scan_snapshot_stores_with_cache" class="fn">scan_snapshot_stores_with_cache</a>(
    &amp;self,
    cache_hash_data: &amp;<a class="struct" href="../cache_hash_data/struct.CacheHashData.html" title="struct solana_runtime::cache_hash_data::CacheHashData">CacheHashData</a>,
    storages: &amp;<a class="struct" href="../sorted_storages/struct.SortedStorages.html" title="struct solana_runtime::sorted_storages::SortedStorages">SortedStorages</a>&lt;'_&gt;,
    stats: &amp;mut <a class="struct" href="../accounts_hash/struct.HashStats.html" title="struct solana_runtime::accounts_hash::HashStats">HashStats</a>,
    bins: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>,
    bin_range: &amp;<a class="struct" href="https://doc.rust-lang.org/nightly/core/ops/range/struct.Range.html" title="struct core::ops::range::Range">Range</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>&gt;,
    config: &amp;<a class="struct" href="../accounts_hash/struct.CalcAccountsHashConfig.html" title="struct solana_runtime::accounts_hash::CalcAccountsHashConfig">CalcAccountsHashConfig</a>&lt;'_&gt;,
    filler_account_suffix: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&amp;<a class="struct" href="../../solana_program/pubkey/struct.Pubkey.html" title="struct solana_program::pubkey::Pubkey">Pubkey</a>&gt;
) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="../cache_hash_data/struct.CacheHashDataFile.html" title="struct solana_runtime::cache_hash_data::CacheHashDataFile">CacheHashDataFile</a>&gt;, <a class="enum" href="enum.AccountsHashVerificationError.html" title="enum solana_runtime::accounts_db::AccountsHashVerificationError">AccountsHashVerificationError</a>&gt;</h4></section></summary><div class="docblock"><p>scan ‘storages’, return a vec of ‘CacheHashDataFile’, one per pass</p>
</div></details><section id="method.sort_slot_storage_scan" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#7543-7561">source</a><h4 class="code-header">fn <a href="#method.sort_slot_storage_scan" class="fn">sort_slot_storage_scan</a>(accum: <a class="type" href="type.BinnedHashData.html" title="type solana_runtime::accounts_db::BinnedHashData">BinnedHashData</a>) -&gt; (<a class="type" href="type.BinnedHashData.html" title="type solana_runtime::accounts_db::BinnedHashData">BinnedHashData</a>, <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a>)</h4></section><details class="toggle method-toggle" open><summary><section id="method.assert_safe_squashing_accounts_hash" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#7564-7574">source</a><h4 class="code-header">fn <a href="#method.assert_safe_squashing_accounts_hash" class="fn">assert_safe_squashing_accounts_hash</a>(
    &amp;self,
    slot: <a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>,
    epoch_schedule: &amp;<a class="struct" href="../../solana_program/epoch_schedule/struct.EpochSchedule.html" title="struct solana_program::epoch_schedule::EpochSchedule">EpochSchedule</a>
)</h4></section></summary><div class="docblock"><p>if we ever try to calc hash where there are squashed append vecs within the last epoch, we will fail</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.get_cache_hash_data" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#7578-7593">source</a><h4 class="code-header">fn <a href="#method.get_cache_hash_data" class="fn">get_cache_hash_data</a>(
    accounts_hash_cache_path: <a class="struct" href="https://doc.rust-lang.org/nightly/std/path/struct.PathBuf.html" title="struct std::path::PathBuf">PathBuf</a>,
    config: &amp;<a class="struct" href="../accounts_hash/struct.CalcAccountsHashConfig.html" title="struct solana_runtime::accounts_hash::CalcAccountsHashConfig">CalcAccountsHashConfig</a>&lt;'_&gt;,
    slot: <a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>
) -&gt; <a class="struct" href="../cache_hash_data/struct.CacheHashData.html" title="struct solana_runtime::cache_hash_data::CacheHashData">CacheHashData</a></h4></section></summary><div class="docblock"><p>normal code path returns the common cache path
when called after a failure has been detected, redirect the cache storage to a separate folder for debugging later</p>
</div></details><section id="method.calculate_accounts_hash_from_storages" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#7597-7614">source</a><h4 class="code-header">pub fn <a href="#method.calculate_accounts_hash_from_storages" class="fn">calculate_accounts_hash_from_storages</a>(
    &amp;self,
    config: &amp;<a class="struct" href="../accounts_hash/struct.CalcAccountsHashConfig.html" title="struct solana_runtime::accounts_hash::CalcAccountsHashConfig">CalcAccountsHashConfig</a>&lt;'_&gt;,
    storages: &amp;<a class="struct" href="../sorted_storages/struct.SortedStorages.html" title="struct solana_runtime::sorted_storages::SortedStorages">SortedStorages</a>&lt;'_&gt;,
    stats: <a class="struct" href="../accounts_hash/struct.HashStats.html" title="struct solana_runtime::accounts_hash::HashStats">HashStats</a>
) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;(<a class="struct" href="../accounts_hash/struct.AccountsHash.html" title="struct solana_runtime::accounts_hash::AccountsHash">AccountsHash</a>, <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a>), <a class="enum" href="enum.AccountsHashVerificationError.html" title="enum solana_runtime::accounts_db::AccountsHashVerificationError">AccountsHashVerificationError</a>&gt;</h4></section><details class="toggle method-toggle" open><summary><section id="method.calculate_incremental_accounts_hash" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#7624-7642">source</a><h4 class="code-header">pub fn <a href="#method.calculate_incremental_accounts_hash" class="fn">calculate_incremental_accounts_hash</a>(
    &amp;self,
    config: &amp;<a class="struct" href="../accounts_hash/struct.CalcAccountsHashConfig.html" title="struct solana_runtime::accounts_hash::CalcAccountsHashConfig">CalcAccountsHashConfig</a>&lt;'_&gt;,
    storages: &amp;<a class="struct" href="../sorted_storages/struct.SortedStorages.html" title="struct solana_runtime::sorted_storages::SortedStorages">SortedStorages</a>&lt;'_&gt;,
    stats: <a class="struct" href="../accounts_hash/struct.HashStats.html" title="struct solana_runtime::accounts_hash::HashStats">HashStats</a>
) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;(<a class="struct" href="../accounts_hash/struct.IncrementalAccountsHash.html" title="struct solana_runtime::accounts_hash::IncrementalAccountsHash">IncrementalAccountsHash</a>, <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a>), <a class="enum" href="enum.AccountsHashVerificationError.html" title="enum solana_runtime::accounts_db::AccountsHashVerificationError">AccountsHashVerificationError</a>&gt;</h4></section></summary><div class="docblock"><p>Calculate the incremental accounts hash</p>
<p>This calculation is intended to be used by incremental snapshots, and thus differs from a
“full” accounts hash in a few ways:</p>
<ul>
<li>Zero-lamport accounts are <em>included</em> in the hash because zero-lamport accounts are also
included in the incremental snapshot.  This ensures reconstructing the AccountsDb is
still correct when using this incremental accounts hash.</li>
<li><code>storages</code> must be the same as the ones going into the incremental snapshot.</li>
</ul>
</div></details><section id="method._calculate_accounts_hash_from_storages" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#7644-7721">source</a><h4 class="code-header">fn <a href="#method._calculate_accounts_hash_from_storages" class="fn">_calculate_accounts_hash_from_storages</a>(
    &amp;self,
    config: &amp;<a class="struct" href="../accounts_hash/struct.CalcAccountsHashConfig.html" title="struct solana_runtime::accounts_hash::CalcAccountsHashConfig">CalcAccountsHashConfig</a>&lt;'_&gt;,
    storages: &amp;<a class="struct" href="../sorted_storages/struct.SortedStorages.html" title="struct solana_runtime::sorted_storages::SortedStorages">SortedStorages</a>&lt;'_&gt;,
    stats: <a class="struct" href="../accounts_hash/struct.HashStats.html" title="struct solana_runtime::accounts_hash::HashStats">HashStats</a>,
    flavor: <a class="enum" href="enum.CalcAccountsHashFlavor.html" title="enum solana_runtime::accounts_db::CalcAccountsHashFlavor">CalcAccountsHashFlavor</a>,
    accounts_hash_cache_path: <a class="struct" href="https://doc.rust-lang.org/nightly/std/path/struct.PathBuf.html" title="struct std::path::PathBuf">PathBuf</a>
) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;(<a class="enum" href="../accounts_hash/enum.AccountsHashEnum.html" title="enum solana_runtime::accounts_hash::AccountsHashEnum">AccountsHashEnum</a>, <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a>), <a class="enum" href="enum.AccountsHashVerificationError.html" title="enum solana_runtime::accounts_db::AccountsHashVerificationError">AccountsHashVerificationError</a>&gt;</h4></section><details class="toggle method-toggle" open><summary><section id="method.calc_alive_ancient_historical_roots" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#7724-7739">source</a><h4 class="code-header">fn <a href="#method.calc_alive_ancient_historical_roots" class="fn">calc_alive_ancient_historical_roots</a>(&amp;self, min_root: <a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/std/collections/hash/set/struct.HashSet.html" title="struct std::collections::hash::set::HashSet">HashSet</a>&lt;<a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>&gt;</h4></section></summary><div class="docblock"><p>return alive roots to retain, even though they are ancient</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.remove_old_historical_roots" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#7743-7747">source</a><h4 class="code-header">fn <a href="#method.remove_old_historical_roots" class="fn">remove_old_historical_roots</a>(&amp;self, min_root: <a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>)</h4></section></summary><div class="docblock"><p>get rid of historical roots that are older than ‘min_root’.
These will be older than an epoch from a current root.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.verify_accounts_hash_and_lamports" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#7755-7828">source</a><h4 class="code-header">pub fn <a href="#method.verify_accounts_hash_and_lamports" class="fn">verify_accounts_hash_and_lamports</a>(
    &amp;self,
    slot: <a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>,
    total_lamports: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a>,
    base: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;(<a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>, <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a>)&gt;,
    config: <a class="struct" href="struct.VerifyAccountsHashAndLamportsConfig.html" title="struct solana_runtime::accounts_db::VerifyAccountsHashAndLamportsConfig">VerifyAccountsHashAndLamportsConfig</a>&lt;'_&gt;
) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>, <a class="enum" href="enum.AccountsHashVerificationError.html" title="enum solana_runtime::accounts_db::AccountsHashVerificationError">AccountsHashVerificationError</a>&gt;</h4></section></summary><div class="docblock"><p>Verify accounts hash at startup (or tests)</p>
<p>Calculate accounts hash(es) and compare them to the values set at startup.
If <code>base</code> is <code>None</code>, only calculates the full accounts hash for <code>[0, slot]</code>.
If <code>base</code> is <code>Some</code>, calculate the full accounts hash for <code>[0, base slot]</code>
and then calculate the incremental accounts hash for <code>(base slot, slot]</code>.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.get_pubkey_hash_for_slot" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#7834-7860">source</a><h4 class="code-header">pub(crate) fn <a href="#method.get_pubkey_hash_for_slot" class="fn">get_pubkey_hash_for_slot</a>(
    &amp;self,
    slot: <a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>
) -&gt; (<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;(<a class="struct" href="../../solana_program/pubkey/struct.Pubkey.html" title="struct solana_program::pubkey::Pubkey">Pubkey</a>, <a class="struct" href="../../solana_program/hash/struct.Hash.html" title="struct solana_program::hash::Hash">Hash</a>)&gt;, <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a>, <a class="struct" href="../../solana_measure/measure/struct.Measure.html" title="struct solana_measure::measure::Measure">Measure</a>)</h4></section></summary><div class="docblock"><p>helper to return</p>
<ol>
<li>pubkey, hash pairs for the slot</li>
<li>us spent scanning</li>
<li>Measure started when we began accumulating</li>
</ol>
</div></details><details class="toggle method-toggle" open><summary><section id="method.calculate_accounts_delta_hash" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#7866-7895">source</a><h4 class="code-header">pub fn <a href="#method.calculate_accounts_delta_hash" class="fn">calculate_accounts_delta_hash</a>(&amp;self, slot: <a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>) -&gt; <a class="struct" href="../accounts_hash/struct.AccountsDeltaHash.html" title="struct solana_runtime::accounts_hash::AccountsDeltaHash">AccountsDeltaHash</a></h4></section></summary><div class="docblock"><p>Calculate accounts delta hash for <code>slot</code></p>
<p>As part of calculating the accounts delta hash, get a list of accounts modified this slot
(aka dirty pubkeys) and add them to <code>self.uncleaned_pubkeys</code> for future cleaning.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.set_accounts_delta_hash" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#7900-7909">source</a><h4 class="code-header">fn <a href="#method.set_accounts_delta_hash" class="fn">set_accounts_delta_hash</a>(
    &amp;self,
    slot: <a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>,
    accounts_delta_hash: <a class="struct" href="../accounts_hash/struct.AccountsDeltaHash.html" title="struct solana_runtime::accounts_hash::AccountsDeltaHash">AccountsDeltaHash</a>
) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="../accounts_hash/struct.AccountsDeltaHash.html" title="struct solana_runtime::accounts_hash::AccountsDeltaHash">AccountsDeltaHash</a>&gt;</h4></section></summary><div class="docblock"><p>Set the accounts delta hash for <code>slot</code> in the <code>accounts_delta_hashes</code> map</p>
<p>returns the previous accounts delta hash for <code>slot</code></p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.set_accounts_delta_hash_from_snapshot" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#7912-7918">source</a><h4 class="code-header">pub fn <a href="#method.set_accounts_delta_hash_from_snapshot" class="fn">set_accounts_delta_hash_from_snapshot</a>(
    &amp;mut self,
    slot: <a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>,
    accounts_delta_hash: <a class="struct" href="../serde_snapshot/types/struct.SerdeAccountsDeltaHash.html" title="struct solana_runtime::serde_snapshot::types::SerdeAccountsDeltaHash">SerdeAccountsDeltaHash</a>
) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="../accounts_hash/struct.AccountsDeltaHash.html" title="struct solana_runtime::accounts_hash::AccountsDeltaHash">AccountsDeltaHash</a>&gt;</h4></section></summary><div class="docblock"><p>After deserializing a snapshot, set the accounts delta hash for the new AccountsDb</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.get_accounts_delta_hash" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#7921-7927">source</a><h4 class="code-header">pub fn <a href="#method.get_accounts_delta_hash" class="fn">get_accounts_delta_hash</a>(&amp;self, slot: <a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="../accounts_hash/struct.AccountsDeltaHash.html" title="struct solana_runtime::accounts_hash::AccountsDeltaHash">AccountsDeltaHash</a>&gt;</h4></section></summary><div class="docblock"><p>Get the accounts delta hash for <code>slot</code> in the <code>accounts_delta_hashes</code> map</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.update_bank_hash_stats_from_snapshot" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#7938-7946">source</a><h4 class="code-header">pub fn <a href="#method.update_bank_hash_stats_from_snapshot" class="fn">update_bank_hash_stats_from_snapshot</a>(
    &amp;mut self,
    slot: <a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>,
    stats: <a class="struct" href="struct.BankHashStats.html" title="struct solana_runtime::accounts_db::BankHashStats">BankHashStats</a>
) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="struct.BankHashStats.html" title="struct solana_runtime::accounts_db::BankHashStats">BankHashStats</a>&gt;</h4></section></summary><div class="docblock"><p>When reconstructing AccountsDb from a snapshot, insert the <code>bank_hash_stats</code> into the
internal bank hash stats map.</p>
<p>This fn is only called when loading from a snapshot, which means AccountsDb is new and its
bank hash stats map is unpopulated.  Except for slot 0.</p>
<p>Slot 0 is a special case.  When a new AccountsDb is created–like when loading from a
snapshot–the bank hash stats map is populated with a default entry at slot 0.  Remove the
default entry at slot 0, and then insert the new value at <code>slot</code>.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.get_bank_hash_stats" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#7949-7951">source</a><h4 class="code-header">pub fn <a href="#method.get_bank_hash_stats" class="fn">get_bank_hash_stats</a>(&amp;self, slot: <a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="struct.BankHashStats.html" title="struct solana_runtime::accounts_db::BankHashStats">BankHashStats</a>&gt;</h4></section></summary><div class="docblock"><p>Get the bank hash stats for <code>slot</code> in the <code>bank_hash_stats</code> map</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.remove_bank_hash_info" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#7957-7959">source</a><h4 class="code-header">fn <a href="#method.remove_bank_hash_info" class="fn">remove_bank_hash_info</a>(&amp;self, slot: &amp;<a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>)</h4></section></summary><div class="docblock"><p>Remove “bank hash info” for <code>slot</code></p>
<p>This fn removes the accounts delta hash, accounts hash, and bank hash stats for <code>slot</code> from
their respective maps.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.remove_bank_hash_infos" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#7965-7973">source</a><h4 class="code-header">fn <a href="#method.remove_bank_hash_infos" class="fn">remove_bank_hash_infos</a>&lt;'s&gt;(&amp;self, slots: impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/traits/collect/trait.IntoIterator.html" title="trait core::iter::traits::collect::IntoIterator">IntoIterator</a>&lt;Item = &amp;'s <a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>&gt;)</h4></section></summary><div class="docblock"><p>Remove “bank hash info” for <code>slots</code></p>
<p>This fn removes the accounts delta hash and bank hash stats for <code>slots</code> from
their respective maps.</p>
</div></details><section id="method.update_index" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#7975-8022">source</a><h4 class="code-header">fn <a href="#method.update_index" class="fn">update_index</a>&lt;'a, T: <a class="trait" href="../../solana_sdk/account/trait.ReadableAccount.html" title="trait solana_sdk::account::ReadableAccount">ReadableAccount</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a>&gt;(
    &amp;self,
    infos: <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="../account_info/struct.AccountInfo.html" title="struct solana_runtime::account_info::AccountInfo">AccountInfo</a>&gt;,
    accounts: &amp;impl <a class="trait" href="../storable_accounts/trait.StorableAccounts.html" title="trait solana_runtime::storable_accounts::StorableAccounts">StorableAccounts</a>&lt;'a, T&gt;,
    reclaim: <a class="enum" href="../accounts_index/enum.UpsertReclaim.html" title="enum solana_runtime::accounts_index::UpsertReclaim">UpsertReclaim</a>
) -&gt; <a class="type" href="../accounts_index/type.SlotList.html" title="type solana_runtime::accounts_index::SlotList">SlotList</a>&lt;<a class="struct" href="../account_info/struct.AccountInfo.html" title="struct solana_runtime::account_info::AccountInfo">AccountInfo</a>&gt;</h4></section><section id="method.should_not_shrink" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#8024-8026">source</a><h4 class="code-header">fn <a href="#method.should_not_shrink" class="fn">should_not_shrink</a>(aligned_bytes: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a>, total_bytes: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a></h4></section><section id="method.is_shrinking_productive" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#8028-8049">source</a><h4 class="code-header">fn <a href="#method.is_shrinking_productive" class="fn">is_shrinking_productive</a>(slot: <a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>, store: &amp;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/sync/struct.Arc.html" title="struct alloc::sync::Arc">Arc</a>&lt;<a class="struct" href="struct.AccountStorageEntry.html" title="struct solana_runtime::accounts_db::AccountStorageEntry">AccountStorageEntry</a>&gt;) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a></h4></section><section id="method.is_candidate_for_shrink" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#8051-8074">source</a><h4 class="code-header">fn <a href="#method.is_candidate_for_shrink" class="fn">is_candidate_for_shrink</a>(
    &amp;self,
    store: &amp;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/sync/struct.Arc.html" title="struct alloc::sync::Arc">Arc</a>&lt;<a class="struct" href="struct.AccountStorageEntry.html" title="struct solana_runtime::accounts_db::AccountStorageEntry">AccountStorageEntry</a>&gt;,
    allow_shrink_ancient: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a>
) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a></h4></section><section id="method.remove_dead_accounts" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#8076-8167">source</a><h4 class="code-header">fn <a href="#method.remove_dead_accounts" class="fn">remove_dead_accounts</a>&lt;'a, I&gt;(
    &amp;'a self,
    reclaims: I,
    expected_slot: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>&gt;,
    reclaimed_offsets: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&amp;mut <a class="struct" href="https://doc.rust-lang.org/nightly/std/collections/hash/map/struct.HashMap.html" title="struct std::collections::hash::map::HashMap">HashMap</a>&lt;<a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>, <a class="struct" href="https://doc.rust-lang.org/nightly/std/collections/hash/set/struct.HashSet.html" title="struct std::collections::hash::set::HashSet">HashSet</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>&gt;&gt;&gt;,
    reset_accounts: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a>
) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/std/collections/hash/set/struct.HashSet.html" title="struct std::collections::hash::set::HashSet">HashSet</a>&lt;<a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>&gt;<span class="where fmt-newline">where
    I: <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/traits/iterator/trait.Iterator.html" title="trait core::iter::traits::iterator::Iterator">Iterator</a>&lt;Item = &amp;'a (<a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>, <a class="struct" href="../account_info/struct.AccountInfo.html" title="struct solana_runtime::account_info::AccountInfo">AccountInfo</a>)&gt;,</span></h4></section><details class="toggle method-toggle" open><summary><section id="method.remove_dead_slots_metadata" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#8171-8189">source</a><h4 class="code-header">fn <a href="#method.remove_dead_slots_metadata" class="fn">remove_dead_slots_metadata</a>&lt;'a&gt;(
    &amp;'a self,
    dead_slots_iter: impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/traits/iterator/trait.Iterator.html" title="trait core::iter::traits::iterator::Iterator">Iterator</a>&lt;Item = &amp;'a <a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>&gt; + <a class="trait" href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>,
    purged_slot_pubkeys: <a class="struct" href="https://doc.rust-lang.org/nightly/std/collections/hash/set/struct.HashSet.html" title="struct std::collections::hash::set::HashSet">HashSet</a>&lt;(<a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>, <a class="struct" href="../../solana_program/pubkey/struct.Pubkey.html" title="struct solana_program::pubkey::Pubkey">Pubkey</a>)&gt;,
    purged_stored_account_slots: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&amp;mut <a class="struct" href="https://doc.rust-lang.org/nightly/std/collections/hash/map/struct.HashMap.html" title="struct std::collections::hash::map::HashMap">HashMap</a>&lt;<a class="struct" href="../../solana_program/pubkey/struct.Pubkey.html" title="struct solana_program::pubkey::Pubkey">Pubkey</a>, <a class="struct" href="https://doc.rust-lang.org/nightly/std/collections/hash/set/struct.HashSet.html" title="struct std::collections::hash::set::HashSet">HashSet</a>&lt;<a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>&gt;&gt;&gt;,
    pubkeys_removed_from_accounts_index: &amp;<a class="struct" href="https://doc.rust-lang.org/nightly/std/collections/hash/set/struct.HashSet.html" title="struct std::collections::hash::set::HashSet">HashSet</a>&lt;<a class="struct" href="../../solana_program/pubkey/struct.Pubkey.html" title="struct solana_program::pubkey::Pubkey">Pubkey</a>&gt;
)</h4></section></summary><div class="docblock"><p>pubkeys_removed_from_accounts_index - These keys have already been removed from the accounts index
and should not be unref’d. If they exist in the accounts index, they are NEW.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.unref_pubkeys" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#8193-8223">source</a><h4 class="code-header">fn <a href="#method.unref_pubkeys" class="fn">unref_pubkeys</a>&lt;'a&gt;(
    &amp;'a self,
    pubkeys: impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/traits/iterator/trait.Iterator.html" title="trait core::iter::traits::iterator::Iterator">Iterator</a>&lt;Item = &amp;'a <a class="struct" href="../../solana_program/pubkey/struct.Pubkey.html" title="struct solana_program::pubkey::Pubkey">Pubkey</a>&gt; + <a class="trait" href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a>,
    num_pubkeys: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>,
    pubkeys_removed_from_accounts_index: &amp;'a <a class="struct" href="https://doc.rust-lang.org/nightly/std/collections/hash/set/struct.HashSet.html" title="struct std::collections::hash::set::HashSet">HashSet</a>&lt;<a class="struct" href="../../solana_program/pubkey/struct.Pubkey.html" title="struct solana_program::pubkey::Pubkey">Pubkey</a>&gt;
)</h4></section></summary><div class="docblock"><p>lookup each pubkey in ‘pubkeys’ and unref it in the accounts index
skip pubkeys that are in ‘pubkeys_removed_from_accounts_index’</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.unref_accounts" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#8229-8246">source</a><h4 class="code-header">fn <a href="#method.unref_accounts" class="fn">unref_accounts</a>(
    &amp;self,
    purged_slot_pubkeys: <a class="struct" href="https://doc.rust-lang.org/nightly/std/collections/hash/set/struct.HashSet.html" title="struct std::collections::hash::set::HashSet">HashSet</a>&lt;(<a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>, <a class="struct" href="../../solana_program/pubkey/struct.Pubkey.html" title="struct solana_program::pubkey::Pubkey">Pubkey</a>)&gt;,
    purged_stored_account_slots: &amp;mut <a class="struct" href="https://doc.rust-lang.org/nightly/std/collections/hash/map/struct.HashMap.html" title="struct std::collections::hash::map::HashMap">HashMap</a>&lt;<a class="struct" href="../../solana_program/pubkey/struct.Pubkey.html" title="struct solana_program::pubkey::Pubkey">Pubkey</a>, <a class="struct" href="https://doc.rust-lang.org/nightly/std/collections/hash/set/struct.HashSet.html" title="struct std::collections::hash::set::HashSet">HashSet</a>&lt;<a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>&gt;&gt;,
    pubkeys_removed_from_accounts_index: &amp;<a class="struct" href="https://doc.rust-lang.org/nightly/std/collections/hash/set/struct.HashSet.html" title="struct std::collections::hash::set::HashSet">HashSet</a>&lt;<a class="struct" href="../../solana_program/pubkey/struct.Pubkey.html" title="struct solana_program::pubkey::Pubkey">Pubkey</a>&gt;
)</h4></section></summary><div class="docblock"><p>lookup each pubkey in ‘purged_slot_pubkeys’ and unref it in the accounts index
populate ‘purged_stored_account_slots’ by grouping ‘purged_slot_pubkeys’ by pubkey
pubkeys_removed_from_accounts_index - These keys have already been removed from the accounts index
and should not be unref’d. If they exist in the accounts index, they are NEW.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.clean_dead_slots_from_accounts_index" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#8250-8302">source</a><h4 class="code-header">fn <a href="#method.clean_dead_slots_from_accounts_index" class="fn">clean_dead_slots_from_accounts_index</a>&lt;'a&gt;(
    &amp;'a self,
    dead_slots_iter: impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/traits/iterator/trait.Iterator.html" title="trait core::iter::traits::iterator::Iterator">Iterator</a>&lt;Item = &amp;'a <a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>&gt; + <a class="trait" href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>,
    purged_slot_pubkeys: <a class="struct" href="https://doc.rust-lang.org/nightly/std/collections/hash/set/struct.HashSet.html" title="struct std::collections::hash::set::HashSet">HashSet</a>&lt;(<a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>, <a class="struct" href="../../solana_program/pubkey/struct.Pubkey.html" title="struct solana_program::pubkey::Pubkey">Pubkey</a>)&gt;,
    purged_stored_account_slots: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&amp;mut <a class="struct" href="https://doc.rust-lang.org/nightly/std/collections/hash/map/struct.HashMap.html" title="struct std::collections::hash::map::HashMap">HashMap</a>&lt;<a class="struct" href="../../solana_program/pubkey/struct.Pubkey.html" title="struct solana_program::pubkey::Pubkey">Pubkey</a>, <a class="struct" href="https://doc.rust-lang.org/nightly/std/collections/hash/set/struct.HashSet.html" title="struct std::collections::hash::set::HashSet">HashSet</a>&lt;<a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>&gt;&gt;&gt;,
    pubkeys_removed_from_accounts_index: &amp;<a class="struct" href="https://doc.rust-lang.org/nightly/std/collections/hash/set/struct.HashSet.html" title="struct std::collections::hash::set::HashSet">HashSet</a>&lt;<a class="struct" href="../../solana_program/pubkey/struct.Pubkey.html" title="struct solana_program::pubkey::Pubkey">Pubkey</a>&gt;
)</h4></section></summary><div class="docblock"><p>pubkeys_removed_from_accounts_index - These keys have already been removed from the accounts index
and should not be unref’d. If they exist in the accounts index, they are NEW.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.clean_stored_dead_slots" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#8306-8348">source</a><h4 class="code-header">fn <a href="#method.clean_stored_dead_slots" class="fn">clean_stored_dead_slots</a>(
    &amp;self,
    dead_slots: &amp;<a class="struct" href="https://doc.rust-lang.org/nightly/std/collections/hash/set/struct.HashSet.html" title="struct std::collections::hash::set::HashSet">HashSet</a>&lt;<a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>&gt;,
    purged_account_slots: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&amp;mut <a class="struct" href="https://doc.rust-lang.org/nightly/std/collections/hash/map/struct.HashMap.html" title="struct std::collections::hash::map::HashMap">HashMap</a>&lt;<a class="struct" href="../../solana_program/pubkey/struct.Pubkey.html" title="struct solana_program::pubkey::Pubkey">Pubkey</a>, <a class="struct" href="https://doc.rust-lang.org/nightly/std/collections/hash/set/struct.HashSet.html" title="struct std::collections::hash::set::HashSet">HashSet</a>&lt;<a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>&gt;&gt;&gt;,
    pubkeys_removed_from_accounts_index: &amp;<a class="struct" href="https://doc.rust-lang.org/nightly/std/collections/hash/set/struct.HashSet.html" title="struct std::collections::hash::set::HashSet">HashSet</a>&lt;<a class="struct" href="../../solana_program/pubkey/struct.Pubkey.html" title="struct solana_program::pubkey::Pubkey">Pubkey</a>&gt;
)</h4></section></summary><div class="docblock"><p>pubkeys_removed_from_accounts_index - These keys have already been removed from the accounts index
and should not be unref’d. If they exist in the accounts index, they are NEW.</p>
</div></details><section id="method.store_cached" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#8350-8361">source</a><h4 class="code-header">pub fn <a href="#method.store_cached" class="fn">store_cached</a>&lt;'a, T: <a class="trait" href="../../solana_sdk/account/trait.ReadableAccount.html" title="trait solana_sdk::account::ReadableAccount">ReadableAccount</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + <a class="trait" href="../accounts_index/trait.ZeroLamport.html" title="trait solana_runtime::accounts_index::ZeroLamport">ZeroLamport</a> + 'a&gt;(
    &amp;self,
    accounts: impl <a class="trait" href="../storable_accounts/trait.StorableAccounts.html" title="trait solana_runtime::storable_accounts::StorableAccounts">StorableAccounts</a>&lt;'a, T&gt;,
    transactions: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&amp;'a [<a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&amp;'a <a class="struct" href="../../solana_sdk/transaction/sanitized/struct.SanitizedTransaction.html" title="struct solana_sdk::transaction::sanitized::SanitizedTransaction">SanitizedTransaction</a>&gt;]&gt;
)</h4></section><details class="toggle method-toggle" open><summary><section id="method.store_uncached" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#8365-8373">source</a><h4 class="code-header">pub fn <a href="#method.store_uncached" class="fn">store_uncached</a>(
    &amp;self,
    slot: <a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>,
    accounts: &amp;[(&amp;<a class="struct" href="../../solana_program/pubkey/struct.Pubkey.html" title="struct solana_program::pubkey::Pubkey">Pubkey</a>, &amp;<a class="struct" href="../../solana_sdk/account/struct.AccountSharedData.html" title="struct solana_sdk::account::AccountSharedData">AccountSharedData</a>)]
)</h4></section></summary><div class="docblock"><p>Store the account update.
only called by tests</p>
</div></details><section id="method.store" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#8375-8413">source</a><h4 class="code-header">fn <a href="#method.store" class="fn">store</a>&lt;'a, T: <a class="trait" href="../../solana_sdk/account/trait.ReadableAccount.html" title="trait solana_sdk::account::ReadableAccount">ReadableAccount</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + <a class="trait" href="../accounts_index/trait.ZeroLamport.html" title="trait solana_runtime::accounts_index::ZeroLamport">ZeroLamport</a> + 'a&gt;(
    &amp;self,
    accounts: impl <a class="trait" href="../storable_accounts/trait.StorableAccounts.html" title="trait solana_runtime::storable_accounts::StorableAccounts">StorableAccounts</a>&lt;'a, T&gt;,
    store_to: &amp;<a class="enum" href="enum.StoreTo.html" title="enum solana_runtime::accounts_db::StoreTo">StoreTo</a>&lt;'_&gt;,
    transactions: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&amp;'a [<a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&amp;'a <a class="struct" href="../../solana_sdk/transaction/sanitized/struct.SanitizedTransaction.html" title="struct solana_sdk::transaction::sanitized::SanitizedTransaction">SanitizedTransaction</a>&gt;]&gt;,
    reclaim: <a class="enum" href="enum.StoreReclaims.html" title="enum solana_runtime::accounts_db::StoreReclaims">StoreReclaims</a>
)</h4></section><section id="method.report_store_timings" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#8415-8531">source</a><h4 class="code-header">fn <a href="#method.report_store_timings" class="fn">report_store_timings</a>(&amp;self)</h4></section><section id="method.store_accounts_unfrozen" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#8533-8558">source</a><h4 class="code-header">fn <a href="#method.store_accounts_unfrozen" class="fn">store_accounts_unfrozen</a>&lt;'a, T: <a class="trait" href="../../solana_sdk/account/trait.ReadableAccount.html" title="trait solana_sdk::account::ReadableAccount">ReadableAccount</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + <a class="trait" href="../accounts_index/trait.ZeroLamport.html" title="trait solana_runtime::accounts_index::ZeroLamport">ZeroLamport</a> + 'a&gt;(
    &amp;self,
    accounts: impl <a class="trait" href="../storable_accounts/trait.StorableAccounts.html" title="trait solana_runtime::storable_accounts::StorableAccounts">StorableAccounts</a>&lt;'a, T&gt;,
    hashes: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/borrow/trait.Borrow.html" title="trait core::borrow::Borrow">Borrow</a>&lt;<a class="struct" href="../../solana_program/hash/struct.Hash.html" title="struct solana_program::hash::Hash">Hash</a>&gt;&gt;&gt;,
    store_to: &amp;<a class="enum" href="enum.StoreTo.html" title="enum solana_runtime::accounts_db::StoreTo">StoreTo</a>&lt;'_&gt;,
    transactions: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&amp;'a [<a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&amp;'a <a class="struct" href="../../solana_sdk/transaction/sanitized/struct.SanitizedTransaction.html" title="struct solana_sdk::transaction::sanitized::SanitizedTransaction">SanitizedTransaction</a>&gt;]&gt;,
    reclaim: <a class="enum" href="enum.StoreReclaims.html" title="enum solana_runtime::accounts_db::StoreReclaims">StoreReclaims</a>
)</h4></section><section id="method.store_accounts_frozen" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#8560-8581">source</a><h4 class="code-header">pub(crate) fn <a href="#method.store_accounts_frozen" class="fn">store_accounts_frozen</a>&lt;'a, T: <a class="trait" href="../../solana_sdk/account/trait.ReadableAccount.html" title="trait solana_sdk::account::ReadableAccount">ReadableAccount</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + <a class="trait" href="../accounts_index/trait.ZeroLamport.html" title="trait solana_runtime::accounts_index::ZeroLamport">ZeroLamport</a> + 'a&gt;(
    &amp;self,
    accounts: impl <a class="trait" href="../storable_accounts/trait.StorableAccounts.html" title="trait solana_runtime::storable_accounts::StorableAccounts">StorableAccounts</a>&lt;'a, T&gt;,
    hashes: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/borrow/trait.Borrow.html" title="trait core::borrow::Borrow">Borrow</a>&lt;<a class="struct" href="../../solana_program/hash/struct.Hash.html" title="struct solana_program::hash::Hash">Hash</a>&gt;&gt;&gt;,
    storage: &amp;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/sync/struct.Arc.html" title="struct alloc::sync::Arc">Arc</a>&lt;<a class="struct" href="struct.AccountStorageEntry.html" title="struct solana_runtime::accounts_db::AccountStorageEntry">AccountStorageEntry</a>&gt;,
    write_version_producer: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/traits/iterator/trait.Iterator.html" title="trait core::iter::traits::iterator::Iterator">Iterator</a>&lt;Item = <a class="type" href="../account_storage/meta/type.StoredMetaWriteVersion.html" title="type solana_runtime::account_storage::meta::StoredMetaWriteVersion">StoredMetaWriteVersion</a>&gt;&gt;&gt;,
    reclaim: <a class="enum" href="enum.StoreReclaims.html" title="enum solana_runtime::accounts_db::StoreReclaims">StoreReclaims</a>
) -&gt; <a class="struct" href="struct.StoreAccountsTiming.html" title="struct solana_runtime::accounts_db::StoreAccountsTiming">StoreAccountsTiming</a></h4></section><section id="method.store_accounts_custom" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#8583-8681">source</a><h4 class="code-header">fn <a href="#method.store_accounts_custom" class="fn">store_accounts_custom</a>&lt;'a, T: <a class="trait" href="../../solana_sdk/account/trait.ReadableAccount.html" title="trait solana_sdk::account::ReadableAccount">ReadableAccount</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + <a class="trait" href="../accounts_index/trait.ZeroLamport.html" title="trait solana_runtime::accounts_index::ZeroLamport">ZeroLamport</a> + 'a&gt;(
    &amp;self,
    accounts: impl <a class="trait" href="../storable_accounts/trait.StorableAccounts.html" title="trait solana_runtime::storable_accounts::StorableAccounts">StorableAccounts</a>&lt;'a, T&gt;,
    hashes: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/borrow/trait.Borrow.html" title="trait core::borrow::Borrow">Borrow</a>&lt;<a class="struct" href="../../solana_program/hash/struct.Hash.html" title="struct solana_program::hash::Hash">Hash</a>&gt;&gt;&gt;,
    write_version_producer: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/traits/iterator/trait.Iterator.html" title="trait core::iter::traits::iterator::Iterator">Iterator</a>&lt;Item = <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a>&gt;&gt;&gt;,
    store_to: &amp;<a class="enum" href="enum.StoreTo.html" title="enum solana_runtime::accounts_db::StoreTo">StoreTo</a>&lt;'_&gt;,
    reset_accounts: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a>,
    transactions: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&amp;[<a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&amp;<a class="struct" href="../../solana_sdk/transaction/sanitized/struct.SanitizedTransaction.html" title="struct solana_sdk::transaction::sanitized::SanitizedTransaction">SanitizedTransaction</a>&gt;]&gt;,
    reclaim: <a class="enum" href="enum.StoreReclaims.html" title="enum solana_runtime::accounts_db::StoreReclaims">StoreReclaims</a>
) -&gt; <a class="struct" href="struct.StoreAccountsTiming.html" title="struct solana_runtime::accounts_db::StoreAccountsTiming">StoreAccountsTiming</a></h4></section><section id="method.add_root" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#8683-8707">source</a><h4 class="code-header">pub fn <a href="#method.add_root" class="fn">add_root</a>(&amp;self, slot: <a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>) -&gt; <a class="struct" href="struct.AccountsAddRootTiming.html" title="struct solana_runtime::accounts_db::AccountsAddRootTiming">AccountsAddRootTiming</a></h4></section><details class="toggle method-toggle" open><summary><section id="method.get_snapshot_storages" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#8710-8765">source</a><h4 class="code-header">pub fn <a href="#method.get_snapshot_storages" class="fn">get_snapshot_storages</a>(
    &amp;self,
    requested_slots: impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/ops/range/trait.RangeBounds.html" title="trait core::ops::range::RangeBounds">RangeBounds</a>&lt;<a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>&gt; + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a>
) -&gt; (<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/sync/struct.Arc.html" title="struct alloc::sync::Arc">Arc</a>&lt;<a class="struct" href="struct.AccountStorageEntry.html" title="struct solana_runtime::accounts_db::AccountStorageEntry">AccountStorageEntry</a>&gt;&gt;, <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>&gt;)</h4></section></summary><div class="docblock"><p>Get storages to use for snapshots, for the requested slots</p>
</div></details><section id="method.process_storage_slot" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#8767-8787">source</a><h4 class="code-header">fn <a href="#method.process_storage_slot" class="fn">process_storage_slot</a>&lt;'a&gt;(
    &amp;self,
    storage: &amp;'a <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/sync/struct.Arc.html" title="struct alloc::sync::Arc">Arc</a>&lt;<a class="struct" href="struct.AccountStorageEntry.html" title="struct solana_runtime::accounts_db::AccountStorageEntry">AccountStorageEntry</a>&gt;
) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/std/collections/hash/map/struct.HashMap.html" title="struct std::collections::hash::map::HashMap">HashMap</a>&lt;<a class="struct" href="../../solana_program/pubkey/struct.Pubkey.html" title="struct solana_program::pubkey::Pubkey">Pubkey</a>, <a class="struct" href="struct.IndexAccountMapEntry.html" title="struct solana_runtime::accounts_db::IndexAccountMapEntry">IndexAccountMapEntry</a>&lt;'a&gt;&gt;</h4></section><details class="toggle method-toggle" open><summary><section id="method.stats_for_rent_payers" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#8790-8805">source</a><h4 class="code-header">fn <a href="#method.stats_for_rent_payers" class="fn">stats_for_rent_payers</a>&lt;T: <a class="trait" href="../../solana_sdk/account/trait.ReadableAccount.html" title="trait solana_sdk::account::ReadableAccount">ReadableAccount</a>&gt;(
    pubkey: &amp;<a class="struct" href="../../solana_program/pubkey/struct.Pubkey.html" title="struct solana_program::pubkey::Pubkey">Pubkey</a>,
    account: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;T</a>,
    rent_collector: &amp;<a class="struct" href="../rent_collector/struct.RentCollector.html" title="struct solana_runtime::rent_collector::RentCollector">RentCollector</a>
) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a>&gt;</h4></section></summary><div class="docblock"><p>return Some(lamports_to_top_off) if ‘account’ would collect rent</p>
</div></details><section id="method.generate_index_for_slot" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#8807-8881">source</a><h4 class="code-header">fn <a href="#method.generate_index_for_slot" class="fn">generate_index_for_slot</a>(
    &amp;self,
    accounts_map: <a class="struct" href="https://doc.rust-lang.org/nightly/std/collections/hash/map/struct.HashMap.html" title="struct std::collections::hash::map::HashMap">HashMap</a>&lt;<a class="struct" href="../../solana_program/pubkey/struct.Pubkey.html" title="struct solana_program::pubkey::Pubkey">Pubkey</a>, <a class="struct" href="struct.IndexAccountMapEntry.html" title="struct solana_runtime::accounts_db::IndexAccountMapEntry">IndexAccountMapEntry</a>&lt;'_&gt;&gt;,
    slot: &amp;<a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>,
    rent_collector: &amp;<a class="struct" href="../rent_collector/struct.RentCollector.html" title="struct solana_runtime::rent_collector::RentCollector">RentCollector</a>
) -&gt; <a class="struct" href="struct.SlotIndexGenerationInfo.html" title="struct solana_runtime::accounts_db::SlotIndexGenerationInfo">SlotIndexGenerationInfo</a></h4></section><section id="method.filler_unique_id_bytes" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#8883-8885">source</a><h4 class="code-header">fn <a href="#method.filler_unique_id_bytes" class="fn">filler_unique_id_bytes</a>() -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a></h4></section><section id="method.filler_rent_partition_prefix_bytes" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#8887-8889">source</a><h4 class="code-header">fn <a href="#method.filler_rent_partition_prefix_bytes" class="fn">filler_rent_partition_prefix_bytes</a>() -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a></h4></section><section id="method.filler_prefix_bytes" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#8891-8893">source</a><h4 class="code-header">fn <a href="#method.filler_prefix_bytes" class="fn">filler_prefix_bytes</a>() -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a></h4></section><section id="method.is_filler_account_helper" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#8895-8906">source</a><h4 class="code-header">pub fn <a href="#method.is_filler_account_helper" class="fn">is_filler_account_helper</a>(
    pubkey: &amp;<a class="struct" href="../../solana_program/pubkey/struct.Pubkey.html" title="struct solana_program::pubkey::Pubkey">Pubkey</a>,
    filler_account_suffix: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&amp;<a class="struct" href="../../solana_program/pubkey/struct.Pubkey.html" title="struct solana_program::pubkey::Pubkey">Pubkey</a>&gt;
) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a></h4></section><details class="toggle method-toggle" open><summary><section id="method.is_filler_account" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#8909-8911">source</a><h4 class="code-header">pub fn <a href="#method.is_filler_account" class="fn">is_filler_account</a>(&amp;self, pubkey: &amp;<a class="struct" href="../../solana_program/pubkey/struct.Pubkey.html" title="struct solana_program::pubkey::Pubkey">Pubkey</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a></h4></section></summary><div class="docblock"><p>true if ‘pubkey’ is a filler account</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.filler_accounts_enabled" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#8914-8916">source</a><h4 class="code-header">pub fn <a href="#method.filler_accounts_enabled" class="fn">filler_accounts_enabled</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a></h4></section></summary><div class="docblock"><p>true if it is possible that there are filler accounts present</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.get_filler_account" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#8919-8931">source</a><h4 class="code-header">fn <a href="#method.get_filler_account" class="fn">get_filler_account</a>(&amp;self, rent: &amp;<a class="struct" href="../../solana_program/rent/struct.Rent.html" title="struct solana_program::rent::Rent">Rent</a>) -&gt; (<a class="struct" href="../../solana_sdk/account/struct.AccountSharedData.html" title="struct solana_sdk::account::AccountSharedData">AccountSharedData</a>, <a class="struct" href="../../solana_program/hash/struct.Hash.html" title="struct solana_program::hash::Hash">Hash</a>)</h4></section></summary><div class="docblock"><p>return ‘AccountSharedData’ and a hash for a filler account</p>
</div></details><section id="method.get_filler_account_pubkeys" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#8933-8940">source</a><h4 class="code-header">fn <a href="#method.get_filler_account_pubkeys" class="fn">get_filler_account_pubkeys</a>(&amp;self, count: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="../../solana_program/pubkey/struct.Pubkey.html" title="struct solana_program::pubkey::Pubkey">Pubkey</a>&gt;</h4></section><section id="method.get_filler_account_pubkey" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#8942-8950">source</a><h4 class="code-header">fn <a href="#method.get_filler_account_pubkey" class="fn">get_filler_account_pubkey</a>(&amp;self, subrange: &amp;<a class="struct" href="../../solana_program/pubkey/struct.Pubkey.html" title="struct solana_program::pubkey::Pubkey">Pubkey</a>) -&gt; <a class="struct" href="../../solana_program/pubkey/struct.Pubkey.html" title="struct solana_program::pubkey::Pubkey">Pubkey</a></h4></section><details class="toggle method-toggle" open><summary><section id="method.maybe_add_filler_accounts" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#8958-8966">source</a><h4 class="code-header">pub fn <a href="#method.maybe_add_filler_accounts" class="fn">maybe_add_filler_accounts</a>(
    &amp;self,
    epoch_schedule: &amp;<a class="struct" href="../../solana_program/epoch_schedule/struct.EpochSchedule.html" title="struct solana_program::epoch_schedule::EpochSchedule">EpochSchedule</a>,
    slot: <a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>
)</h4></section></summary><div class="docblock"><p>filler accounts are space-holding accounts which are ignored by hash calculations and rent.
They are designed to allow a validator to run against a network successfully while simulating having many more accounts present.
All filler accounts share a common pubkey suffix. The suffix is randomly generated per validator on startup.
The filler accounts are added to each slot in the snapshot after index generation.
The accounts added in a slot are setup to have pubkeys such that rent will be collected from them before (or when?) their slot becomes an epoch old.
Thus, the filler accounts are rewritten by rent and the old slot can be thrown away successfully.</p>
</div></details><section id="method.generate_index" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#8969-9235">source</a><h4 class="code-header">pub fn <a href="#method.generate_index" class="fn">generate_index</a>(
    &amp;self,
    limit_load_slot_count_from_snapshot: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>&gt;,
    verify: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a>,
    genesis_config: &amp;<a class="struct" href="../../solana_sdk/genesis_config/struct.GenesisConfig.html" title="struct solana_sdk::genesis_config::GenesisConfig">GenesisConfig</a>
) -&gt; <a class="struct" href="struct.IndexGenerationInfo.html" title="struct solana_runtime::accounts_db::IndexGenerationInfo">IndexGenerationInfo</a></h4></section><details class="toggle method-toggle" open><summary><section id="method.maybe_throttle_index_generation" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#9239-9257">source</a><h4 class="code-header">fn <a href="#method.maybe_throttle_index_generation" class="fn">maybe_throttle_index_generation</a>(&amp;self)</h4></section></summary><div class="docblock"><p>Startup processes can consume large amounts of memory while inserting accounts into the index as fast as possible.
Calling this can slow down the insertion process to allow flushing to disk to keep pace.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.visit_duplicate_pubkeys_during_startup" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#9265-9317">source</a><h4 class="code-header">fn <a href="#method.visit_duplicate_pubkeys_during_startup" class="fn">visit_duplicate_pubkeys_during_startup</a>(
    &amp;self,
    pubkeys: &amp;[<a class="struct" href="../../solana_program/pubkey/struct.Pubkey.html" title="struct solana_program::pubkey::Pubkey">Pubkey</a>],
    rent_collector: &amp;<a class="struct" href="../rent_collector/struct.RentCollector.html" title="struct solana_runtime::rent_collector::RentCollector">RentCollector</a>,
    timings: &amp;<a class="struct" href="struct.GenerateIndexTimings.html" title="struct solana_runtime::accounts_db::GenerateIndexTimings">GenerateIndexTimings</a>
) -&gt; (<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a>, <a class="struct" href="https://doc.rust-lang.org/nightly/std/collections/hash/set/struct.HashSet.html" title="struct std::collections::hash::set::HashSet">HashSet</a>&lt;<a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>&gt;)</h4></section></summary><div class="docblock"><p>Used during generate_index() to:</p>
<ol>
<li>get the <em>duplicate</em> accounts data len from the given pubkeys</li>
<li>get the slots that contained duplicate pubkeys</li>
<li>update rent stats
Note this should only be used when ALL entries in the accounts index are roots.
returns (data len sum of all older duplicates, slots that contained duplicate pubkeys)</li>
</ol>
</div></details><section id="method.update_storage_info" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#9319-9352">source</a><h4 class="code-header">fn <a href="#method.update_storage_info" class="fn">update_storage_info</a>(
    storage_info: &amp;DashMap&lt;<a class="type" href="type.AppendVecId.html" title="type solana_runtime::accounts_db::AppendVecId">AppendVecId</a>, <a class="struct" href="struct.StorageSizeAndCount.html" title="struct solana_runtime::accounts_db::StorageSizeAndCount">StorageSizeAndCount</a>&gt;,
    accounts_map: &amp;<a class="struct" href="https://doc.rust-lang.org/nightly/std/collections/hash/map/struct.HashMap.html" title="struct std::collections::hash::map::HashMap">HashMap</a>&lt;<a class="struct" href="../../solana_program/pubkey/struct.Pubkey.html" title="struct solana_program::pubkey::Pubkey">Pubkey</a>, <a class="struct" href="struct.IndexAccountMapEntry.html" title="struct solana_runtime::accounts_db::IndexAccountMapEntry">IndexAccountMapEntry</a>&lt;'_&gt;&gt;,
    timings: &amp;<a class="struct" href="https://doc.rust-lang.org/nightly/std/sync/mutex/struct.Mutex.html" title="struct std::sync::mutex::Mutex">Mutex</a>&lt;<a class="struct" href="struct.GenerateIndexTimings.html" title="struct solana_runtime::accounts_db::GenerateIndexTimings">GenerateIndexTimings</a>&gt;
)</h4></section><section id="method.set_storage_count_and_alive_bytes" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#9353-9380">source</a><h4 class="code-header">fn <a href="#method.set_storage_count_and_alive_bytes" class="fn">set_storage_count_and_alive_bytes</a>(
    &amp;self,
    stored_sizes_and_counts: DashMap&lt;<a class="type" href="type.AppendVecId.html" title="type solana_runtime::accounts_db::AppendVecId">AppendVecId</a>, <a class="struct" href="struct.StorageSizeAndCount.html" title="struct solana_runtime::accounts_db::StorageSizeAndCount">StorageSizeAndCount</a>&gt;,
    timings: &amp;mut <a class="struct" href="struct.GenerateIndexTimings.html" title="struct solana_runtime::accounts_db::GenerateIndexTimings">GenerateIndexTimings</a>
)</h4></section><section id="method.print_accounts_stats" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#9382-9399">source</a><h4 class="code-header">pub(crate) fn <a href="#method.print_accounts_stats" class="fn">print_accounts_stats</a>(&amp;self, label: &amp;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.str.html">str</a>)</h4></section><section id="method.print_index" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#9401-9417">source</a><h4 class="code-header">fn <a href="#method.print_index" class="fn">print_index</a>(&amp;self, label: &amp;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.str.html">str</a>)</h4></section><section id="method.print_count_and_status" class="method"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#9419-9436">source</a><h4 class="code-header">fn <a href="#method.print_count_and_status" class="fn">print_count_and_status</a>(&amp;self, label: &amp;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.str.html">str</a>)</h4></section></div></details><details class="toggle implementors-toggle" open><summary><section id="impl-AccountsDb-2" class="impl"><a class="srclink rightside" href="../../src/solana_runtime/ancient_append_vecs.rs.html#235-662">source</a><a href="#impl-AccountsDb-2" class="anchor">§</a><h3 class="code-header">impl <a class="struct" href="struct.AccountsDb.html" title="struct solana_runtime::accounts_db::AccountsDb">AccountsDb</a></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.combine_ancient_slots_packed" class="method"><a class="srclink rightside" href="../../src/solana_runtime/ancient_append_vecs.rs.html#242-276">source</a><h4 class="code-header">pub(crate) fn <a href="#method.combine_ancient_slots_packed" class="fn">combine_ancient_slots_packed</a>(
    &amp;self,
    sorted_slots: <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>&gt;,
    can_randomly_shrink: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a>
)</h4></section></summary><div class="docblock"><p>Combine account data from storages in ‘sorted_slots’ into packed storages.
This keeps us from accumulating storages for each slot older than an epoch.
Ater this function the number of alive roots is &lt;= # alive roots when it was called.
In practice, the # of alive roots after will be significantly less than # alive roots when called.
Trying to reduce # roots and storages (one per root) required to store all the data in ancient slots</p>
</div></details><section id="method.combine_ancient_slots_packed_internal" class="method"><a class="srclink rightside" href="../../src/solana_runtime/ancient_append_vecs.rs.html#279-321">source</a><h4 class="code-header">fn <a href="#method.combine_ancient_slots_packed_internal" class="fn">combine_ancient_slots_packed_internal</a>(
    &amp;self,
    sorted_slots: <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>&gt;,
    tuning: <a class="struct" href="../ancient_append_vecs/struct.PackedAncientStorageTuning.html" title="struct solana_runtime::ancient_append_vecs::PackedAncientStorageTuning">PackedAncientStorageTuning</a>,
    metrics: &amp;mut <a class="struct" href="struct.ShrinkStatsSub.html" title="struct solana_runtime::accounts_db::ShrinkStatsSub">ShrinkStatsSub</a>
)</h4></section><details class="toggle method-toggle" open><summary><section id="method.addref_accounts_failed_to_shrink_ancient" class="method"><a class="srclink rightside" href="../../src/solana_runtime/ancient_append_vecs.rs.html#324-343">source</a><h4 class="code-header">fn <a href="#method.addref_accounts_failed_to_shrink_ancient" class="fn">addref_accounts_failed_to_shrink_ancient</a>(
    &amp;self,
    accounts_to_combine: <a class="struct" href="../ancient_append_vecs/struct.AccountsToCombine.html" title="struct solana_runtime::ancient_append_vecs::AccountsToCombine">AccountsToCombine</a>&lt;'_&gt;
)</h4></section></summary><div class="docblock"><p>for each account in <code>unrefed_pubkeys</code>, in each <code>accounts_to_combine</code>, addref</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.collect_sort_filter_ancient_slots" class="method"><a class="srclink rightside" href="../../src/solana_runtime/ancient_append_vecs.rs.html#348-357">source</a><h4 class="code-header">fn <a href="#method.collect_sort_filter_ancient_slots" class="fn">collect_sort_filter_ancient_slots</a>(
    &amp;self,
    slots: <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>&gt;,
    tuning: &amp;<a class="struct" href="../ancient_append_vecs/struct.PackedAncientStorageTuning.html" title="struct solana_runtime::ancient_append_vecs::PackedAncientStorageTuning">PackedAncientStorageTuning</a>
) -&gt; <a class="struct" href="../ancient_append_vecs/struct.AncientSlotInfos.html" title="struct solana_runtime::ancient_append_vecs::AncientSlotInfos">AncientSlotInfos</a></h4></section></summary><div class="docblock"><p>calculate all storage info for the storages in slots
Then, apply ‘tuning’ to filter out slots we do NOT want to combine.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.write_ancient_accounts" class="method"><a class="srclink rightside" href="../../src/solana_runtime/ancient_append_vecs.rs.html#363-388">source</a><h4 class="code-header">fn <a href="#method.write_ancient_accounts" class="fn">write_ancient_accounts</a>&lt;'a, 'b: 'a, T: <a class="trait" href="../../solana_sdk/account/trait.ReadableAccount.html" title="trait solana_sdk::account::ReadableAccount">ReadableAccount</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + <a class="trait" href="../accounts_index/trait.ZeroLamport.html" title="trait solana_runtime::accounts_index::ZeroLamport">ZeroLamport</a> + 'a&gt;(
    &amp;'b self,
    bytes: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a>,
    accounts_to_write: impl <a class="trait" href="../storable_accounts/trait.StorableAccounts.html" title="trait solana_runtime::storable_accounts::StorableAccounts">StorableAccounts</a>&lt;'a, T&gt;,
    write_ancient_accounts: &amp;mut <a class="struct" href="../ancient_append_vecs/struct.WriteAncientAccounts.html" title="struct solana_runtime::ancient_append_vecs::WriteAncientAccounts">WriteAncientAccounts</a>&lt;'b&gt;
)</h4></section></summary><div class="docblock"><p>create append vec of size ‘bytes’
write ‘accounts_to_write’ into it
return shrink_in_progress and some metrics</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.calc_ancient_slot_info" class="method"><a class="srclink rightside" href="../../src/solana_runtime/ancient_append_vecs.rs.html#392-410">source</a><h4 class="code-header">fn <a href="#method.calc_ancient_slot_info" class="fn">calc_ancient_slot_info</a>(
    &amp;self,
    slots: <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>&gt;,
    can_randomly_shrink: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a>
) -&gt; <a class="struct" href="../ancient_append_vecs/struct.AncientSlotInfos.html" title="struct solana_runtime::ancient_append_vecs::AncientSlotInfos">AncientSlotInfos</a></h4></section></summary><div class="docblock"><p>go through all slots and populate ‘SlotInfo’, per slot
This provides the list of possible ancient slots to sort, filter, and then combine.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.write_packed_storages" class="method"><a class="srclink rightside" href="../../src/solana_runtime/ancient_append_vecs.rs.html#415-459">source</a><h4 class="code-header">fn <a href="#method.write_packed_storages" class="fn">write_packed_storages</a>&lt;'a, 'b&gt;(
    &amp;'a self,
    accounts_to_combine: &amp;'b <a class="struct" href="../ancient_append_vecs/struct.AccountsToCombine.html" title="struct solana_runtime::ancient_append_vecs::AccountsToCombine">AccountsToCombine</a>&lt;'b&gt;,
    packed_contents: <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="../ancient_append_vecs/struct.PackedAncientStorage.html" title="struct solana_runtime::ancient_append_vecs::PackedAncientStorage">PackedAncientStorage</a>&lt;'b&gt;&gt;
) -&gt; <a class="struct" href="../ancient_append_vecs/struct.WriteAncientAccounts.html" title="struct solana_runtime::ancient_append_vecs::WriteAncientAccounts">WriteAncientAccounts</a>&lt;'a&gt;</h4></section></summary><div class="docblock"><p>write packed storages as described in ‘accounts_to_combine’
and ‘packed_contents’</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.get_unique_accounts_from_storage_for_combining_ancient_slots" class="method"><a class="srclink rightside" href="../../src/solana_runtime/ancient_append_vecs.rs.html#464-479">source</a><h4 class="code-header">fn <a href="#method.get_unique_accounts_from_storage_for_combining_ancient_slots" class="fn">get_unique_accounts_from_storage_for_combining_ancient_slots</a>&lt;'a&gt;(
    &amp;self,
    ancient_slots: &amp;'a [<a class="struct" href="../ancient_append_vecs/struct.SlotInfo.html" title="struct solana_runtime::ancient_append_vecs::SlotInfo">SlotInfo</a>]
) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;(&amp;'a <a class="struct" href="../ancient_append_vecs/struct.SlotInfo.html" title="struct solana_runtime::ancient_append_vecs::SlotInfo">SlotInfo</a>, <a class="struct" href="struct.GetUniqueAccountsResult.html" title="struct solana_runtime::accounts_db::GetUniqueAccountsResult">GetUniqueAccountsResult</a>&lt;'a&gt;)&gt;</h4></section></summary><div class="docblock"><p>for each slot in ‘ancient_slots’, collect all accounts in that slot
return the collection of accounts by slot</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.finish_combine_ancient_slots_packed_internal" class="method"><a class="srclink rightside" href="../../src/solana_runtime/ancient_append_vecs.rs.html#484-507">source</a><h4 class="code-header">fn <a href="#method.finish_combine_ancient_slots_packed_internal" class="fn">finish_combine_ancient_slots_packed_internal</a>(
    &amp;self,
    accounts_to_combine: <a class="struct" href="../ancient_append_vecs/struct.AccountsToCombine.html" title="struct solana_runtime::ancient_append_vecs::AccountsToCombine">AccountsToCombine</a>&lt;'_&gt;,
    write_ancient_accounts: <a class="struct" href="../ancient_append_vecs/struct.WriteAncientAccounts.html" title="struct solana_runtime::ancient_append_vecs::WriteAncientAccounts">WriteAncientAccounts</a>&lt;'_&gt;,
    metrics: &amp;mut <a class="struct" href="struct.ShrinkStatsSub.html" title="struct solana_runtime::accounts_db::ShrinkStatsSub">ShrinkStatsSub</a>
)</h4></section></summary><div class="docblock"><p>finish shrink operation on slots where a new storage was created
drop root and storage for all original slots whose contents were combined into other storages</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.calc_accounts_to_combine" class="method"><a class="srclink rightside" href="../../src/solana_runtime/ancient_append_vecs.rs.html#517-562">source</a><h4 class="code-header">fn <a href="#method.calc_accounts_to_combine" class="fn">calc_accounts_to_combine</a>&lt;'a&gt;(
    &amp;self,
    accounts_per_storage: &amp;'a <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;(&amp;'a <a class="struct" href="../ancient_append_vecs/struct.SlotInfo.html" title="struct solana_runtime::ancient_append_vecs::SlotInfo">SlotInfo</a>, <a class="struct" href="struct.GetUniqueAccountsResult.html" title="struct solana_runtime::accounts_db::GetUniqueAccountsResult">GetUniqueAccountsResult</a>&lt;'a&gt;)&gt;
) -&gt; <a class="struct" href="../ancient_append_vecs/struct.AccountsToCombine.html" title="struct solana_runtime::ancient_append_vecs::AccountsToCombine">AccountsToCombine</a>&lt;'a&gt;</h4></section></summary><div class="docblock"><p>given all accounts per ancient slot, in slots that we want to combine together:</p>
<ol>
<li>Look up each pubkey in the index</li>
<li>separate, by slot, into:
2a. pubkeys with refcount = 1. This means this pubkey exists NOWHERE else in accounts db.
2b. pubkeys with refcount &gt; 1
Note that the return value can contain fewer items than ‘accounts_per_storage’ if we find storages which won’t be affected.
‘accounts_per_storage’ should be sorted by slot</li>
</ol>
</div></details><details class="toggle method-toggle" open><summary><section id="method.get_many_refs_pubkeys" class="method"><a class="srclink rightside" href="../../src/solana_runtime/ancient_append_vecs.rs.html#565-575">source</a><h4 class="code-header">fn <a href="#method.get_many_refs_pubkeys" class="fn">get_many_refs_pubkeys</a>&lt;'a&gt;(
    shrink_collect: &amp;<a class="struct" href="struct.ShrinkCollect.html" title="struct solana_runtime::accounts_db::ShrinkCollect">ShrinkCollect</a>&lt;'a, <a class="struct" href="struct.ShrinkCollectAliveSeparatedByRefs.html" title="struct solana_runtime::accounts_db::ShrinkCollectAliveSeparatedByRefs">ShrinkCollectAliveSeparatedByRefs</a>&lt;'a&gt;&gt;
) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="../../solana_program/pubkey/struct.Pubkey.html" title="struct solana_program::pubkey::Pubkey">Pubkey</a>&gt;</h4></section></summary><div class="docblock"><p>return pubkeys from <code>many_refs</code> accounts</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.revisit_accounts_with_many_refs" class="method"><a class="srclink rightside" href="../../src/solana_runtime/ancient_append_vecs.rs.html#583-617">source</a><h4 class="code-header">fn <a href="#method.revisit_accounts_with_many_refs" class="fn">revisit_accounts_with_many_refs</a>&lt;'a&gt;(
    &amp;self,
    shrink_collect: &amp;mut <a class="struct" href="struct.ShrinkCollect.html" title="struct solana_runtime::accounts_db::ShrinkCollect">ShrinkCollect</a>&lt;'a, <a class="struct" href="struct.ShrinkCollectAliveSeparatedByRefs.html" title="struct solana_runtime::accounts_db::ShrinkCollectAliveSeparatedByRefs">ShrinkCollectAliveSeparatedByRefs</a>&lt;'a&gt;&gt;
)</h4></section></summary><div class="docblock"><p>After calling <code>shrink_collect()</code> on many slots, any dead accounts in those slots would be unref’d.
Alive accounts which had ref_count &gt; 1 are stored in <code>shrink_collect.alive_accounts.many_refs</code>.
Since many slots were being visited, it is possible that at a point in time, an account was found to be alive and have ref_count &gt; 1.
Concurrently, another slot was visited which also had the account, but the account was dead and unref’d in that <code>shrink_collect()</code> call.
So, now that all unrefs have occurred, go back through the small number of <code>many_refs</code> accounts and for all that now only have 1 ref_count,
move the account from <code>many_refs</code> to <code>one_ref</code>.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.write_one_packed_storage" class="method"><a class="srclink rightside" href="../../src/solana_runtime/ancient_append_vecs.rs.html#622-639">source</a><h4 class="code-header">fn <a href="#method.write_one_packed_storage" class="fn">write_one_packed_storage</a>&lt;'a, 'b: 'a&gt;(
    &amp;'b self,
    packed: &amp;'a <a class="struct" href="../ancient_append_vecs/struct.PackedAncientStorage.html" title="struct solana_runtime::ancient_append_vecs::PackedAncientStorage">PackedAncientStorage</a>&lt;'a&gt;,
    target_slot: <a class="type" href="../../solana_program/clock/type.Slot.html" title="type solana_program::clock::Slot">Slot</a>,
    write_ancient_accounts: &amp;mut <a class="struct" href="../ancient_append_vecs/struct.WriteAncientAccounts.html" title="struct solana_runtime::ancient_append_vecs::WriteAncientAccounts">WriteAncientAccounts</a>&lt;'b&gt;
)</h4></section></summary><div class="docblock"><p>create packed storage and write contents of ‘packed’ to it.
accumulate results in ‘write_ancient_accounts’</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.write_ancient_accounts_to_same_slot_multiple_refs" class="method"><a class="srclink rightside" href="../../src/solana_runtime/ancient_append_vecs.rs.html#648-661">source</a><h4 class="code-header">fn <a href="#method.write_ancient_accounts_to_same_slot_multiple_refs" class="fn">write_ancient_accounts_to_same_slot_multiple_refs</a>&lt;'a, 'b: 'a&gt;(
    &amp;'b self,
    accounts_to_combine: impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/traits/iterator/trait.Iterator.html" title="trait core::iter::traits::iterator::Iterator">Iterator</a>&lt;Item = &amp;'a <a class="struct" href="struct.AliveAccounts.html" title="struct solana_runtime::accounts_db::AliveAccounts">AliveAccounts</a>&lt;'a&gt;&gt;,
    write_ancient_accounts: &amp;mut <a class="struct" href="../ancient_append_vecs/struct.WriteAncientAccounts.html" title="struct solana_runtime::ancient_append_vecs::WriteAncientAccounts">WriteAncientAccounts</a>&lt;'b&gt;
)</h4></section></summary><div class="docblock"><p>For each slot and alive accounts in ‘accounts_to_combine’
create a PackedAncientStorage that only contains the given alive accounts.
This will represent only the accounts with ref_count &gt; 1 from the original storage.
These accounts need to be rewritten in their same slot, Ideally with no other accounts in the slot.
Other accounts would have ref_count = 1.
ref_count = 1 accounts will be combined together with other slots into larger append vecs elsewhere.</p>
</div></details></div></details></div><h2 id="trait-implementations" class="small-section-header">Trait Implementations<a href="#trait-implementations" class="anchor">§</a></h2><div id="trait-implementations-list"><details class="toggle implementors-toggle" open><summary><section id="impl-Debug-for-AccountsDb" class="impl"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#1365">source</a><a href="#impl-Debug-for-AccountsDb" class="anchor">§</a><h3 class="code-header">impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/fmt/trait.Debug.html" title="trait core::fmt::Debug">Debug</a> for <a class="struct" href="struct.AccountsDb.html" title="struct solana_runtime::accounts_db::AccountsDb">AccountsDb</a></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.fmt" class="method trait-impl"><a class="srclink rightside" href="../../src/solana_runtime/accounts_db.rs.html#1365">source</a><a href="#method.fmt" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/fmt/trait.Debug.html#tymethod.fmt" class="fn">fmt</a>(&amp;self, f: &amp;mut <a class="struct" href="https://doc.rust-lang.org/nightly/core/fmt/struct.Formatter.html" title="struct core::fmt::Formatter">Formatter</a>&lt;'_&gt;) -&gt; <a class="type" href="https://doc.rust-lang.org/nightly/core/fmt/type.Result.html" title="type core::fmt::Result">Result</a></h4></section></summary><div class='docblock'>Formats the value using the given formatter. <a href="https://doc.rust-lang.org/nightly/core/fmt/trait.Debug.html#tymethod.fmt">Read more</a></div></details></div></details></div><h2 id="synthetic-implementations" class="small-section-header">Auto Trait Implementations<a href="#synthetic-implementations" class="anchor">§</a></h2><div id="synthetic-implementations-list"><section id="impl-RefUnwindSafe-for-AccountsDb" class="impl"><a href="#impl-RefUnwindSafe-for-AccountsDb" class="anchor">§</a><h3 class="code-header">impl !<a class="trait" href="https://doc.rust-lang.org/nightly/core/panic/unwind_safe/trait.RefUnwindSafe.html" title="trait core::panic::unwind_safe::RefUnwindSafe">RefUnwindSafe</a> for <a class="struct" href="struct.AccountsDb.html" title="struct solana_runtime::accounts_db::AccountsDb">AccountsDb</a></h3></section><section id="impl-Send-for-AccountsDb" class="impl"><a href="#impl-Send-for-AccountsDb" class="anchor">§</a><h3 class="code-header">impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> for <a class="struct" href="struct.AccountsDb.html" title="struct solana_runtime::accounts_db::AccountsDb">AccountsDb</a></h3></section><section id="impl-Sync-for-AccountsDb" class="impl"><a href="#impl-Sync-for-AccountsDb" class="anchor">§</a><h3 class="code-header">impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> for <a class="struct" href="struct.AccountsDb.html" title="struct solana_runtime::accounts_db::AccountsDb">AccountsDb</a></h3></section><section id="impl-Unpin-for-AccountsDb" class="impl"><a href="#impl-Unpin-for-AccountsDb" class="anchor">§</a><h3 class="code-header">impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Unpin.html" title="trait core::marker::Unpin">Unpin</a> for <a class="struct" href="struct.AccountsDb.html" title="struct solana_runtime::accounts_db::AccountsDb">AccountsDb</a></h3></section><section id="impl-UnwindSafe-for-AccountsDb" class="impl"><a href="#impl-UnwindSafe-for-AccountsDb" class="anchor">§</a><h3 class="code-header">impl !<a class="trait" href="https://doc.rust-lang.org/nightly/core/panic/unwind_safe/trait.UnwindSafe.html" title="trait core::panic::unwind_safe::UnwindSafe">UnwindSafe</a> for <a class="struct" href="struct.AccountsDb.html" title="struct solana_runtime::accounts_db::AccountsDb">AccountsDb</a></h3></section></div><h2 id="blanket-implementations" class="small-section-header">Blanket Implementations<a href="#blanket-implementations" class="anchor">§</a></h2><div id="blanket-implementations-list"><details class="toggle implementors-toggle"><summary><section id="impl-AbiExample-for-AccountsDb" class="impl"><a class="srclink rightside" href="../../src/solana_frozen_abi/abi_example.rs.html#243">source</a><a href="#impl-AbiExample-for-AccountsDb" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="../../solana_frozen_abi/abi_example/trait.AbiExample.html" title="trait solana_frozen_abi::abi_example::AbiExample">AbiExample</a> for T</h3></section></summary><div class="impl-items"><section id="method.example" class="method trait-impl"><a class="srclink rightside" href="../../src/solana_frozen_abi/abi_example.rs.html#244">source</a><a href="#method.example" class="anchor">§</a><h4 class="code-header">default fn <a href="../../solana_frozen_abi/abi_example/trait.AbiExample.html#tymethod.example" class="fn">example</a>() -&gt; T</h4></section></div></details><details class="toggle implementors-toggle"><summary><section id="impl-Any-for-AccountsDb" class="impl"><a class="srclink rightside" href="https://doc.rust-lang.org/nightly/src/core/any.rs.html#200">source</a><a href="#impl-Any-for-AccountsDb" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/any/trait.Any.html" title="trait core::any::Any">Any</a> for T<span class="where fmt-newline">where
    T: 'static + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,</span></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.type_id" class="method trait-impl"><a class="srclink rightside" href="https://doc.rust-lang.org/nightly/src/core/any.rs.html#201">source</a><a href="#method.type_id" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/any/trait.Any.html#tymethod.type_id" class="fn">type_id</a>(&amp;self) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/core/any/struct.TypeId.html" title="struct core::any::TypeId">TypeId</a></h4></section></summary><div class='docblock'>Gets the <code>TypeId</code> of <code>self</code>. <a href="https://doc.rust-lang.org/nightly/core/any/trait.Any.html#tymethod.type_id">Read more</a></div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-Borrow%3CT%3E-for-AccountsDb" class="impl"><a class="srclink rightside" href="https://doc.rust-lang.org/nightly/src/core/borrow.rs.html#208">source</a><a href="#impl-Borrow%3CT%3E-for-AccountsDb" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/borrow/trait.Borrow.html" title="trait core::borrow::Borrow">Borrow</a>&lt;T&gt; for T<span class="where fmt-newline">where
    T: ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,</span></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.borrow" class="method trait-impl"><a class="srclink rightside" href="https://doc.rust-lang.org/nightly/src/core/borrow.rs.html#210">source</a><a href="#method.borrow" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/borrow/trait.Borrow.html#tymethod.borrow" class="fn">borrow</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;T</a></h4></section></summary><div class='docblock'>Immutably borrows from an owned value. <a href="https://doc.rust-lang.org/nightly/core/borrow/trait.Borrow.html#tymethod.borrow">Read more</a></div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-BorrowMut%3CT%3E-for-AccountsDb" class="impl"><a class="srclink rightside" href="https://doc.rust-lang.org/nightly/src/core/borrow.rs.html#216">source</a><a href="#impl-BorrowMut%3CT%3E-for-AccountsDb" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/borrow/trait.BorrowMut.html" title="trait core::borrow::BorrowMut">BorrowMut</a>&lt;T&gt; for T<span class="where fmt-newline">where
    T: ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,</span></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.borrow_mut" class="method trait-impl"><a class="srclink rightside" href="https://doc.rust-lang.org/nightly/src/core/borrow.rs.html#217">source</a><a href="#method.borrow_mut" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/borrow/trait.BorrowMut.html#tymethod.borrow_mut" class="fn">borrow_mut</a>(&amp;mut self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;mut T</a></h4></section></summary><div class='docblock'>Mutably borrows from an owned value. <a href="https://doc.rust-lang.org/nightly/core/borrow/trait.BorrowMut.html#tymethod.borrow_mut">Read more</a></div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-From%3CT%3E-for-AccountsDb" class="impl"><a class="srclink rightside" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#723">source</a><a href="#impl-From%3CT%3E-for-AccountsDb" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;T&gt; for T</h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.from" class="method trait-impl"><a class="srclink rightside" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#726">source</a><a href="#method.from" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/convert/trait.From.html#tymethod.from" class="fn">from</a>(t: T) -&gt; T</h4></section></summary><div class="docblock"><p>Returns the argument unchanged.</p>
</div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-Instrument-for-AccountsDb" class="impl"><a class="srclink rightside" href="https://docs.rs/tracing/0.1.29/src/tracing/instrument.rs.html#276">source</a><a href="#impl-Instrument-for-AccountsDb" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://docs.rs/tracing/0.1.29/tracing/instrument/trait.Instrument.html" title="trait tracing::instrument::Instrument">Instrument</a> for T</h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.instrument" class="method trait-impl"><a class="srclink rightside" href="https://docs.rs/tracing/0.1.29/src/tracing/instrument.rs.html#82">source</a><a href="#method.instrument" class="anchor">§</a><h4 class="code-header">fn <a href="https://docs.rs/tracing/0.1.29/tracing/instrument/trait.Instrument.html#method.instrument" class="fn">instrument</a>(self, span: <a class="struct" href="https://docs.rs/tracing/0.1.29/tracing/span/struct.Span.html" title="struct tracing::span::Span">Span</a>) -&gt; <a class="struct" href="https://docs.rs/tracing/0.1.29/tracing/instrument/struct.Instrumented.html" title="struct tracing::instrument::Instrumented">Instrumented</a>&lt;Self&gt;</h4></section></summary><div class='docblock'>Instruments this type with the provided <a href="https://docs.rs/tracing/0.1.29/tracing/span/struct.Span.html" title="struct tracing::span::Span"><code>Span</code></a>, returning an
<code>Instrumented</code> wrapper. <a href="https://docs.rs/tracing/0.1.29/tracing/instrument/trait.Instrument.html#method.instrument">Read more</a></div></details><details class="toggle method-toggle" open><summary><section id="method.in_current_span" class="method trait-impl"><a class="srclink rightside" href="https://docs.rs/tracing/0.1.29/src/tracing/instrument.rs.html#121">source</a><a href="#method.in_current_span" class="anchor">§</a><h4 class="code-header">fn <a href="https://docs.rs/tracing/0.1.29/tracing/instrument/trait.Instrument.html#method.in_current_span" class="fn">in_current_span</a>(self) -&gt; <a class="struct" href="https://docs.rs/tracing/0.1.29/tracing/instrument/struct.Instrumented.html" title="struct tracing::instrument::Instrumented">Instrumented</a>&lt;Self&gt;</h4></section></summary><div class='docblock'>Instruments this type with the <a href="https://docs.rs/tracing/0.1.29/tracing/span/struct.Span.html#method.current" title="associated function tracing::span::Span::current">current</a> <a href="https://docs.rs/tracing/0.1.29/tracing/span/struct.Span.html" title="struct tracing::span::Span"><code>Span</code></a>, returning an
<code>Instrumented</code> wrapper. <a href="https://docs.rs/tracing/0.1.29/tracing/instrument/trait.Instrument.html#method.in_current_span">Read more</a></div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-Into%3CU%3E-for-AccountsDb" class="impl"><a class="srclink rightside" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#707">source</a><a href="#impl-Into%3CU%3E-for-AccountsDb" class="anchor">§</a><h3 class="code-header">impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;U&gt; for T<span class="where fmt-newline">where
    U: <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;T&gt;,</span></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.into" class="method trait-impl"><a class="srclink rightside" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#716">source</a><a href="#method.into" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/convert/trait.Into.html#tymethod.into" class="fn">into</a>(self) -&gt; U</h4></section></summary><div class="docblock"><p>Calls <code>U::from(self)</code>.</p>
<p>That is, this conversion is whatever the implementation of
<code><a href="https://doc.rust-lang.org/nightly/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;T&gt; for U</code> chooses to do.</p>
</div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-Pointable-for-AccountsDb" class="impl"><a href="#impl-Pointable-for-AccountsDb" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; Pointable for T</h3></section></summary><div class="impl-items"><details class="toggle" open><summary><section id="associatedconstant.ALIGN" class="associatedconstant trait-impl"><a href="#associatedconstant.ALIGN" class="anchor">§</a><h4 class="code-header">const <a class="constant">ALIGN</a>: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a> = mem::align_of::&lt;T&gt;()</h4></section></summary><div class='docblock'>The alignment of pointer.</div></details><details class="toggle" open><summary><section id="associatedtype.Init" class="associatedtype trait-impl"><a href="#associatedtype.Init" class="anchor">§</a><h4 class="code-header">type <a class="associatedtype">Init</a> = T</h4></section></summary><div class='docblock'>The type for initializers.</div></details><details class="toggle method-toggle" open><summary><section id="method.init" class="method trait-impl"><a href="#method.init" class="anchor">§</a><h4 class="code-header">unsafe fn <a class="fn">init</a>(init: &lt;T as Pointable&gt;::Init) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a></h4></section></summary><div class='docblock'>Initializes a with the given initializer. <a>Read more</a></div></details><details class="toggle method-toggle" open><summary><section id="method.deref" class="method trait-impl"><a href="#method.deref" class="anchor">§</a><h4 class="code-header">unsafe fn <a class="fn">deref</a>&lt;'a&gt;(ptr: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a T</a></h4></section></summary><div class='docblock'>Dereferences the given pointer. <a>Read more</a></div></details><details class="toggle method-toggle" open><summary><section id="method.deref_mut" class="method trait-impl"><a href="#method.deref_mut" class="anchor">§</a><h4 class="code-header">unsafe fn <a class="fn">deref_mut</a>&lt;'a&gt;(ptr: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'a mut T</a></h4></section></summary><div class='docblock'>Mutably dereferences the given pointer. <a>Read more</a></div></details><details class="toggle method-toggle" open><summary><section id="method.drop" class="method trait-impl"><a href="#method.drop" class="anchor">§</a><h4 class="code-header">unsafe fn <a class="fn">drop</a>(ptr: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>)</h4></section></summary><div class='docblock'>Drops the object pointed to by the given pointer. <a>Read more</a></div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-Same%3CT%3E-for-AccountsDb" class="impl"><a class="srclink rightside" href="https://docs.rs/typenum/1.15.0/src/typenum/type_operators.rs.html#34">source</a><a href="#impl-Same%3CT%3E-for-AccountsDb" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://docs.rs/typenum/1.15.0/typenum/type_operators/trait.Same.html" title="trait typenum::type_operators::Same">Same</a>&lt;T&gt; for T</h3></section></summary><div class="impl-items"><details class="toggle" open><summary><section id="associatedtype.Output" class="associatedtype trait-impl"><a href="#associatedtype.Output" class="anchor">§</a><h4 class="code-header">type <a href="https://docs.rs/typenum/1.15.0/typenum/type_operators/trait.Same.html#associatedtype.Output" class="associatedtype">Output</a> = T</h4></section></summary><div class='docblock'>Should always be <code>Self</code></div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-TryFrom%3CU%3E-for-AccountsDb" class="impl"><a class="srclink rightside" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#763">source</a><a href="#impl-TryFrom%3CU%3E-for-AccountsDb" class="anchor">§</a><h3 class="code-header">impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;U&gt; for T<span class="where fmt-newline">where
    U: <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;T&gt;,</span></h3></section></summary><div class="impl-items"><details class="toggle" open><summary><section id="associatedtype.Error-1" class="associatedtype trait-impl"><a href="#associatedtype.Error-1" class="anchor">§</a><h4 class="code-header">type <a href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html#associatedtype.Error" class="associatedtype">Error</a> = <a class="enum" href="https://doc.rust-lang.org/nightly/core/convert/enum.Infallible.html" title="enum core::convert::Infallible">Infallible</a></h4></section></summary><div class='docblock'>The type returned in the event of a conversion error.</div></details><details class="toggle method-toggle" open><summary><section id="method.try_from" class="method trait-impl"><a class="srclink rightside" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#770">source</a><a href="#method.try_from" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html#tymethod.try_from" class="fn">try_from</a>(value: U) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;T, &lt;T as <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;U&gt;&gt;::<a class="associatedtype" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a>&gt;</h4></section></summary><div class='docblock'>Performs the conversion.</div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-TryInto%3CU%3E-for-AccountsDb" class="impl"><a class="srclink rightside" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#748">source</a><a href="#impl-TryInto%3CU%3E-for-AccountsDb" class="anchor">§</a><h3 class="code-header">impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryInto.html" title="trait core::convert::TryInto">TryInto</a>&lt;U&gt; for T<span class="where fmt-newline">where
    U: <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;,</span></h3></section></summary><div class="impl-items"><details class="toggle" open><summary><section id="associatedtype.Error" class="associatedtype trait-impl"><a href="#associatedtype.Error" class="anchor">§</a><h4 class="code-header">type <a href="https://doc.rust-lang.org/nightly/core/convert/trait.TryInto.html#associatedtype.Error" class="associatedtype">Error</a> = &lt;U as <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;&gt;::<a class="associatedtype" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a></h4></section></summary><div class='docblock'>The type returned in the event of a conversion error.</div></details><details class="toggle method-toggle" open><summary><section id="method.try_into" class="method trait-impl"><a class="srclink rightside" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#755">source</a><a href="#method.try_into" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/convert/trait.TryInto.html#tymethod.try_into" class="fn">try_into</a>(self) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;U, &lt;U as <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;&gt;::<a class="associatedtype" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a>&gt;</h4></section></summary><div class='docblock'>Performs the conversion.</div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-VZip%3CV%3E-for-AccountsDb" class="impl"><a href="#impl-VZip%3CV%3E-for-AccountsDb" class="anchor">§</a><h3 class="code-header">impl&lt;V, T&gt; VZip&lt;V&gt; for T<span class="where fmt-newline">where
    V: MultiLane&lt;T&gt;,</span></h3></section></summary><div class="impl-items"><section id="method.vzip" class="method trait-impl"><a href="#method.vzip" class="anchor">§</a><h4 class="code-header">fn <a class="fn">vzip</a>(self) -&gt; V</h4></section></div></details><details class="toggle implementors-toggle"><summary><section id="impl-WithSubscriber-for-AccountsDb" class="impl"><a class="srclink rightside" href="https://docs.rs/tracing/0.1.29/src/tracing/instrument.rs.html#334">source</a><a href="#impl-WithSubscriber-for-AccountsDb" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://docs.rs/tracing/0.1.29/tracing/instrument/trait.WithSubscriber.html" title="trait tracing::instrument::WithSubscriber">WithSubscriber</a> for T</h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.with_subscriber" class="method trait-impl"><a class="srclink rightside" href="https://docs.rs/tracing/0.1.29/src/tracing/instrument.rs.html#169-171">source</a><a href="#method.with_subscriber" class="anchor">§</a><h4 class="code-header">fn <a href="https://docs.rs/tracing/0.1.29/tracing/instrument/trait.WithSubscriber.html#method.with_subscriber" class="fn">with_subscriber</a>&lt;S&gt;(self, subscriber: S) -&gt; <a class="struct" href="https://docs.rs/tracing/0.1.29/tracing/instrument/struct.WithDispatch.html" title="struct tracing::instrument::WithDispatch">WithDispatch</a>&lt;Self&gt;<span class="where fmt-newline">where
    S: <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;<a class="struct" href="https://docs.rs/tracing-core/0.1.21/tracing_core/dispatcher/struct.Dispatch.html" title="struct tracing_core::dispatcher::Dispatch">Dispatch</a>&gt;,</span></h4></section></summary><div class='docblock'>Attaches the provided <a href="https://docs.rs/tracing-core/0.1.21/tracing_core/subscriber/trait.Subscriber.html" title="trait tracing_core::subscriber::Subscriber"><code>Subscriber</code></a> to this type, returning a
<a href="https://docs.rs/tracing/0.1.29/tracing/instrument/struct.WithDispatch.html" title="struct tracing::instrument::WithDispatch"><code>WithDispatch</code></a> wrapper. <a href="https://docs.rs/tracing/0.1.29/tracing/instrument/trait.WithSubscriber.html#method.with_subscriber">Read more</a></div></details><details class="toggle method-toggle" open><summary><section id="method.with_current_subscriber" class="method trait-impl"><a class="srclink rightside" href="https://docs.rs/tracing/0.1.29/src/tracing/instrument.rs.html#221">source</a><a href="#method.with_current_subscriber" class="anchor">§</a><h4 class="code-header">fn <a href="https://docs.rs/tracing/0.1.29/tracing/instrument/trait.WithSubscriber.html#method.with_current_subscriber" class="fn">with_current_subscriber</a>(self) -&gt; <a class="struct" href="https://docs.rs/tracing/0.1.29/tracing/instrument/struct.WithDispatch.html" title="struct tracing::instrument::WithDispatch">WithDispatch</a>&lt;Self&gt;</h4></section></summary><div class='docblock'>Attaches the current <a href="https://docs.rs/tracing/0.1.29/tracing/dispatcher/index.html#setting-the-default-subscriber" title="mod tracing::dispatcher">default</a> <a href="https://docs.rs/tracing-core/0.1.21/tracing_core/subscriber/trait.Subscriber.html" title="trait tracing_core::subscriber::Subscriber"><code>Subscriber</code></a> to this type, returning a
<a href="https://docs.rs/tracing/0.1.29/tracing/instrument/struct.WithDispatch.html" title="struct tracing::instrument::WithDispatch"><code>WithDispatch</code></a> wrapper. <a href="https://docs.rs/tracing/0.1.29/tracing/instrument/trait.WithSubscriber.html#method.with_current_subscriber">Read more</a></div></details></div></details></div></section></div></main></body></html>